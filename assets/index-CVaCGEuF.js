(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&l(g)}).observe(document,{childList:!0,subtree:!0});function a(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=a(c);fetch(c.href,d)}})();function Zh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gr={exports:{}},$a={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function sy(){if(cm)return $a;cm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(l,c,d){var g=null;if(d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),"key"in c){d={};for(var v in c)v!=="key"&&(d[v]=c[v])}else d=c;return c=d.ref,{$$typeof:n,type:l,key:g,ref:c!==void 0?c:null,props:d}}return $a.Fragment=e,$a.jsx=a,$a.jsxs=a,$a}var fm;function ry(){return fm||(fm=1,Gr.exports=sy()),Gr.exports}var m=ry(),Pr={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function uy(){if(dm)return fe;dm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.iterator;function b(E){return E===null||typeof E!="object"?null:(E=C&&E[C]||E["@@iterator"],typeof E=="function"?E:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,k={};function H(E,q,X){this.props=E,this.context=q,this.refs=k,this.updater=X||M}H.prototype.isReactComponent={},H.prototype.setState=function(E,q){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,q,"setState")},H.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function F(){}F.prototype=H.prototype;function z(E,q,X){this.props=E,this.context=q,this.refs=k,this.updater=X||M}var J=z.prototype=new F;J.constructor=z,D(J,H.prototype),J.isPureReactComponent=!0;var K=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function ne(E,q,X,j,oe,ve){return X=ve.ref,{$$typeof:n,type:E,key:q,ref:X!==void 0?X:null,props:ve}}function de(E,q){return ne(E.type,q,void 0,void 0,void 0,E.props)}function W(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function ce(E){var q={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(X){return q[X]})}var ie=/\/+/g;function Q(E,q){return typeof E=="object"&&E!==null&&E.key!=null?ce(""+E.key):q.toString(36)}function Re(){}function qe(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Re,Re):(E.status="pending",E.then(function(q){E.status==="pending"&&(E.status="fulfilled",E.value=q)},function(q){E.status==="pending"&&(E.status="rejected",E.reason=q)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function Se(E,q,X,j,oe){var ve=typeof E;(ve==="undefined"||ve==="boolean")&&(E=null);var ue=!1;if(E===null)ue=!0;else switch(ve){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(E.$$typeof){case n:case e:ue=!0;break;case x:return ue=E._init,Se(ue(E._payload),q,X,j,oe)}}if(ue)return oe=oe(E),ue=j===""?"."+Q(E,0):j,K(oe)?(X="",ue!=null&&(X=ue.replace(ie,"$&/")+"/"),Se(oe,q,X,"",function(Be){return Be})):oe!=null&&(W(oe)&&(oe=de(oe,X+(oe.key==null||E&&E.key===oe.key?"":(""+oe.key).replace(ie,"$&/")+"/")+ue)),q.push(oe)),1;ue=0;var We=j===""?".":j+":";if(K(E))for(var De=0;De<E.length;De++)j=E[De],ve=We+Q(j,De),ue+=Se(j,q,X,ve,oe);else if(De=b(E),typeof De=="function")for(E=De.call(E),De=0;!(j=E.next()).done;)j=j.value,ve=We+Q(j,De++),ue+=Se(j,q,X,ve,oe);else if(ve==="object"){if(typeof E.then=="function")return Se(qe(E),q,X,j,oe);throw q=String(E),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ue}function L(E,q,X){if(E==null)return E;var j=[],oe=0;return Se(E,j,"","",function(ve){return q.call(X,ve,oe++)}),j}function O(E){if(E._status===-1){var q=E._result;q=q(),q.then(function(X){(E._status===0||E._status===-1)&&(E._status=1,E._result=X)},function(X){(E._status===0||E._status===-1)&&(E._status=2,E._result=X)}),E._status===-1&&(E._status=0,E._result=q)}if(E._status===1)return E._result.default;throw E._result}var ee=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function be(){}return fe.Children={map:L,forEach:function(E,q,X){L(E,function(){q.apply(this,arguments)},X)},count:function(E){var q=0;return L(E,function(){q++}),q},toArray:function(E){return L(E,function(q){return q})||[]},only:function(E){if(!W(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},fe.Component=H,fe.Fragment=a,fe.Profiler=c,fe.PureComponent=z,fe.StrictMode=l,fe.Suspense=y,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,fe.__COMPILER_RUNTIME={__proto__:null,c:function(E){return V.H.useMemoCache(E)}},fe.cache=function(E){return function(){return E.apply(null,arguments)}},fe.cloneElement=function(E,q,X){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var j=D({},E.props),oe=E.key,ve=void 0;if(q!=null)for(ue in q.ref!==void 0&&(ve=void 0),q.key!==void 0&&(oe=""+q.key),q)!Z.call(q,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&q.ref===void 0||(j[ue]=q[ue]);var ue=arguments.length-2;if(ue===1)j.children=X;else if(1<ue){for(var We=Array(ue),De=0;De<ue;De++)We[De]=arguments[De+2];j.children=We}return ne(E.type,oe,void 0,void 0,ve,j)},fe.createContext=function(E){return E={$$typeof:g,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:d,_context:E},E},fe.createElement=function(E,q,X){var j,oe={},ve=null;if(q!=null)for(j in q.key!==void 0&&(ve=""+q.key),q)Z.call(q,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(oe[j]=q[j]);var ue=arguments.length-2;if(ue===1)oe.children=X;else if(1<ue){for(var We=Array(ue),De=0;De<ue;De++)We[De]=arguments[De+2];oe.children=We}if(E&&E.defaultProps)for(j in ue=E.defaultProps,ue)oe[j]===void 0&&(oe[j]=ue[j]);return ne(E,ve,void 0,void 0,null,oe)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(E){return{$$typeof:v,render:E}},fe.isValidElement=W,fe.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:O}},fe.memo=function(E,q){return{$$typeof:p,type:E,compare:q===void 0?null:q}},fe.startTransition=function(E){var q=V.T,X={};V.T=X;try{var j=E(),oe=V.S;oe!==null&&oe(X,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(be,ee)}catch(ve){ee(ve)}finally{V.T=q}},fe.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},fe.use=function(E){return V.H.use(E)},fe.useActionState=function(E,q,X){return V.H.useActionState(E,q,X)},fe.useCallback=function(E,q){return V.H.useCallback(E,q)},fe.useContext=function(E){return V.H.useContext(E)},fe.useDebugValue=function(){},fe.useDeferredValue=function(E,q){return V.H.useDeferredValue(E,q)},fe.useEffect=function(E,q,X){var j=V.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(E,q)},fe.useId=function(){return V.H.useId()},fe.useImperativeHandle=function(E,q,X){return V.H.useImperativeHandle(E,q,X)},fe.useInsertionEffect=function(E,q){return V.H.useInsertionEffect(E,q)},fe.useLayoutEffect=function(E,q){return V.H.useLayoutEffect(E,q)},fe.useMemo=function(E,q){return V.H.useMemo(E,q)},fe.useOptimistic=function(E,q){return V.H.useOptimistic(E,q)},fe.useReducer=function(E,q,X){return V.H.useReducer(E,q,X)},fe.useRef=function(E){return V.H.useRef(E)},fe.useState=function(E){return V.H.useState(E)},fe.useSyncExternalStore=function(E,q,X){return V.H.useSyncExternalStore(E,q,X)},fe.useTransition=function(){return V.H.useTransition()},fe.version="19.1.0",fe}var mm;function cu(){return mm||(mm=1,Pr.exports=uy()),Pr.exports}var Y=cu();const ye=Zh(Y);var qr={exports:{}},Qa={},Hr={exports:{}},Fr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function cy(){return hm||(hm=1,function(n){function e(L,O){var ee=L.length;L.push(O);e:for(;0<ee;){var be=ee-1>>>1,E=L[be];if(0<c(E,O))L[be]=O,L[ee]=E,ee=be;else break e}}function a(L){return L.length===0?null:L[0]}function l(L){if(L.length===0)return null;var O=L[0],ee=L.pop();if(ee!==O){L[0]=ee;e:for(var be=0,E=L.length,q=E>>>1;be<q;){var X=2*(be+1)-1,j=L[X],oe=X+1,ve=L[oe];if(0>c(j,ee))oe<E&&0>c(ve,j)?(L[be]=ve,L[oe]=ee,be=oe):(L[be]=j,L[X]=ee,be=X);else if(oe<E&&0>c(ve,ee))L[be]=ve,L[oe]=ee,be=oe;else break e}}return O}function c(L,O){var ee=L.sortIndex-O.sortIndex;return ee!==0?ee:L.id-O.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var g=Date,v=g.now();n.unstable_now=function(){return g.now()-v}}var y=[],p=[],x=1,C=null,b=3,M=!1,D=!1,k=!1,H=!1,F=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function K(L){for(var O=a(p);O!==null;){if(O.callback===null)l(p);else if(O.startTime<=L)l(p),O.sortIndex=O.expirationTime,e(y,O);else break;O=a(p)}}function V(L){if(k=!1,K(L),!D)if(a(y)!==null)D=!0,Z||(Z=!0,Q());else{var O=a(p);O!==null&&Se(V,O.startTime-L)}}var Z=!1,ne=-1,de=5,W=-1;function ce(){return H?!0:!(n.unstable_now()-W<de)}function ie(){if(H=!1,Z){var L=n.unstable_now();W=L;var O=!0;try{e:{D=!1,k&&(k=!1,z(ne),ne=-1),M=!0;var ee=b;try{t:{for(K(L),C=a(y);C!==null&&!(C.expirationTime>L&&ce());){var be=C.callback;if(typeof be=="function"){C.callback=null,b=C.priorityLevel;var E=be(C.expirationTime<=L);if(L=n.unstable_now(),typeof E=="function"){C.callback=E,K(L),O=!0;break t}C===a(y)&&l(y),K(L)}else l(y);C=a(y)}if(C!==null)O=!0;else{var q=a(p);q!==null&&Se(V,q.startTime-L),O=!1}}break e}finally{C=null,b=ee,M=!1}O=void 0}}finally{O?Q():Z=!1}}}var Q;if(typeof J=="function")Q=function(){J(ie)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,qe=Re.port2;Re.port1.onmessage=ie,Q=function(){qe.postMessage(null)}}else Q=function(){F(ie,0)};function Se(L,O){ne=F(function(){L(n.unstable_now())},O)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(L){switch(b){case 1:case 2:case 3:var O=3;break;default:O=b}var ee=b;b=O;try{return L()}finally{b=ee}},n.unstable_requestPaint=function(){H=!0},n.unstable_runWithPriority=function(L,O){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ee=b;b=L;try{return O()}finally{b=ee}},n.unstable_scheduleCallback=function(L,O,ee){var be=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?be+ee:be):ee=be,L){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=ee+E,L={id:x++,callback:O,priorityLevel:L,startTime:ee,expirationTime:E,sortIndex:-1},ee>be?(L.sortIndex=ee,e(p,L),a(y)===null&&L===a(p)&&(k?(z(ne),ne=-1):k=!0,Se(V,ee-be))):(L.sortIndex=E,e(y,L),D||M||(D=!0,Z||(Z=!0,Q()))),L},n.unstable_shouldYield=ce,n.unstable_wrapCallback=function(L){var O=b;return function(){var ee=b;b=O;try{return L.apply(this,arguments)}finally{b=ee}}}}(Fr)),Fr}var pm;function fy(){return pm||(pm=1,Hr.exports=cy()),Hr.exports}var Or={exports:{}},st={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function dy(){if(gm)return st;gm=1;var n=cu();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,p,x){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:y,containerInfo:p,implementation:x}}var g=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,st.createPortal=function(y,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return d(y,p,null,x)},st.flushSync=function(y){var p=g.T,x=l.p;try{if(g.T=null,l.p=2,y)return y()}finally{g.T=p,l.p=x,l.d.f()}},st.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(y,p))},st.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},st.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var x=p.as,C=v(x,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?l.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:b,fetchPriority:M}):x==="script"&&l.d.X(y,{crossOrigin:C,integrity:b,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},st.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=v(p.as,p.crossOrigin);l.d.M(y,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(y)},st.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,C=v(x,p.crossOrigin);l.d.L(y,x,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},st.preloadModule=function(y,p){if(typeof y=="string")if(p){var x=v(p.as,p.crossOrigin);l.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(y)},st.requestFormReset=function(y){l.d.r(y)},st.unstable_batchedUpdates=function(y,p){return y(p)},st.useFormState=function(y,p,x){return g.H.useFormState(y,p,x)},st.useFormStatus=function(){return g.H.useHostTransitionStatus()},st.version="19.1.0",st}var ym;function my(){if(ym)return Or.exports;ym=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Or.exports=dy(),Or.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function hy(){if(vm)return Qa;vm=1;var n=fy(),e=cu(),a=my();function l(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function g(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function v(t){if(d(t)!==t)throw Error(l(188))}function y(t){var i=t.alternate;if(!i){if(i=d(t),i===null)throw Error(l(188));return i!==t?null:t}for(var o=t,u=i;;){var f=o.return;if(f===null)break;var h=f.alternate;if(h===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===o)return v(f),t;if(h===u)return v(f),i;h=h.sibling}throw Error(l(188))}if(o.return!==u.return)o=f,u=h;else{for(var T=!1,S=f.child;S;){if(S===o){T=!0,o=f,u=h;break}if(S===u){T=!0,u=f,o=h;break}S=S.sibling}if(!T){for(S=h.child;S;){if(S===o){T=!0,o=h,u=f;break}if(S===u){T=!0,u=h,o=f;break}S=S.sibling}if(!T)throw Error(l(189))}}if(o.alternate!==u)throw Error(l(190))}if(o.tag!==3)throw Error(l(188));return o.stateNode.current===o?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var x=Object.assign,C=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),J=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function Q(t){return t===null||typeof t!="object"?null:(t=ie&&t[ie]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Symbol.for("react.client.reference");function qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Re?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case H:return"Profiler";case k:return"StrictMode";case V:return"Suspense";case Z:return"SuspenseList";case W:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case J:return(t.displayName||"Context")+".Provider";case z:return(t._context.displayName||"Context")+".Consumer";case K:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ne:return i=t.displayName||null,i!==null?i:qe(t.type)||"Memo";case de:i=t._payload,t=t._init;try{return qe(t(i))}catch{}}return null}var Se=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},be=[],E=-1;function q(t){return{current:t}}function X(t){0>E||(t.current=be[E],be[E]=null,E--)}function j(t,i){E++,be[E]=t.current,t.current=i}var oe=q(null),ve=q(null),ue=q(null),We=q(null);function De(t,i){switch(j(ue,i),j(ve,t),j(oe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?zd(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=zd(i),t=Gd(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(oe),j(oe,t)}function Be(){X(oe),X(ve),X(ue)}function et(t){t.memoizedState!==null&&j(We,t);var i=oe.current,o=Gd(i,t.type);i!==o&&(j(ve,t),j(oe,o))}function tt(t){ve.current===t&&(X(oe),X(ve)),We.current===t&&(X(We),Ya._currentValue=ee)}var Mt=Object.prototype.hasOwnProperty,ai=n.unstable_scheduleCallback,Ue=n.unstable_cancelCallback,zt=n.unstable_shouldYield,Pp=n.unstable_requestPaint,Ht=n.unstable_now,qp=n.unstable_getCurrentPriorityLevel,yu=n.unstable_ImmediatePriority,vu=n.unstable_UserBlockingPriority,to=n.unstable_NormalPriority,Hp=n.unstable_LowPriority,xu=n.unstable_IdlePriority,Fp=n.log,Op=n.unstable_setDisableYieldValue,Wi=null,vt=null;function dn(t){if(typeof Fp=="function"&&Op(t),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(Wi,t)}catch{}}var xt=Math.clz32?Math.clz32:Kp,Yp=Math.log,Jp=Math.LN2;function Kp(t){return t>>>=0,t===0?32:31-(Yp(t)/Jp|0)|0}var no=256,io=4194304;function Bn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ao(t,i,o){var u=t.pendingLanes;if(u===0)return 0;var f=0,h=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var S=u&134217727;return S!==0?(u=S&~h,u!==0?f=Bn(u):(T&=S,T!==0?f=Bn(T):o||(o=S&~t,o!==0&&(f=Bn(o))))):(S=u&~h,S!==0?f=Bn(S):T!==0?f=Bn(T):o||(o=u&~t,o!==0&&(f=Bn(o)))),f===0?0:i!==0&&i!==f&&(i&h)===0&&(h=f&-f,o=i&-i,h>=o||h===32&&(o&4194048)!==0)?i:f}function ea(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function jp(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tu(){var t=no;return no<<=1,(no&4194048)===0&&(no=256),t}function Cu(){var t=io;return io<<=1,(io&62914560)===0&&(io=4194304),t}function wl(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function ta(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Xp(t,i,o,u,f,h){var T=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var S=t.entanglements,_=t.expirationTimes,R=t.hiddenUpdates;for(o=T&~o;0<o;){var B=31-xt(o),P=1<<B;S[B]=0,_[B]=-1;var I=R[B];if(I!==null)for(R[B]=null,B=0;B<I.length;B++){var U=I[B];U!==null&&(U.lane&=-536870913)}o&=~P}u!==0&&Su(t,u,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(T&~i))}function Su(t,i,o){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-xt(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|o&4194090}function bu(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var u=31-xt(o),f=1<<u;f&i|t[u]&i&&(t[u]|=i),o&=~f}}function Nl(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Rl(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _u(){var t=O.p;return t!==0?t:(t=window.event,t===void 0?32:am(t.type))}function $p(t,i){var o=O.p;try{return O.p=t,i()}finally{O.p=o}}var mn=Math.random().toString(36).slice(2),ot="__reactFiber$"+mn,ft="__reactProps$"+mn,oi="__reactContainer$"+mn,kl="__reactEvents$"+mn,Qp="__reactListeners$"+mn,Zp="__reactHandles$"+mn,Eu="__reactResources$"+mn,na="__reactMarker$"+mn;function Dl(t){delete t[ot],delete t[ft],delete t[kl],delete t[Qp],delete t[Zp]}function li(t){var i=t[ot];if(i)return i;for(var o=t.parentNode;o;){if(i=o[oi]||o[ot]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=Fd(t);t!==null;){if(o=t[ot])return o;t=Fd(t)}return i}t=o,o=t.parentNode}return null}function si(t){if(t=t[ot]||t[oi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ia(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(l(33))}function ri(t){var i=t[Eu];return i||(i=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Xe(t){t[na]=!0}var Au=new Set,Mu={};function zn(t,i){ui(t,i),ui(t+"Capture",i)}function ui(t,i){for(Mu[t]=i,t=0;t<i.length;t++)Au.add(i[t])}var Wp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wu={},Nu={};function eg(t){return Mt.call(Nu,t)?!0:Mt.call(wu,t)?!1:Wp.test(t)?Nu[t]=!0:(wu[t]=!0,!1)}function oo(t,i,o){if(eg(i))if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+o)}}function lo(t,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+o)}}function jt(t,i,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(i,o,""+u)}}var Il,Ru;function ci(t){if(Il===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Il=i&&i[1]||"",Ru=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Il+t+Ru}var Ll=!1;function Ul(t,i){if(!t||Ll)return"";Ll=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(U){var I=U}Reflect.construct(t,[],P)}else{try{P.call()}catch(U){I=U}t.call(P.prototype)}}else{try{throw Error()}catch(U){I=U}(P=t())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(U){if(U&&I&&typeof U.stack=="string")return[U.stack,I.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=u.DetermineComponentFrameRoot(),T=h[0],S=h[1];if(T&&S){var _=T.split(`
`),R=S.split(`
`);for(f=u=0;u<_.length&&!_[u].includes("DetermineComponentFrameRoot");)u++;for(;f<R.length&&!R[f].includes("DetermineComponentFrameRoot");)f++;if(u===_.length||f===R.length)for(u=_.length-1,f=R.length-1;1<=u&&0<=f&&_[u]!==R[f];)f--;for(;1<=u&&0<=f;u--,f--)if(_[u]!==R[f]){if(u!==1||f!==1)do if(u--,f--,0>f||_[u]!==R[f]){var B=`
`+_[u].replace(" at new "," at ");return t.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",t.displayName)),B}while(1<=u&&0<=f);break}}}finally{Ll=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?ci(o):""}function tg(t){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Ul(t.type,!1);case 11:return Ul(t.type.render,!1);case 1:return Ul(t.type,!0);case 31:return ci("Activity");default:return""}}function ku(t){try{var i="";do i+=tg(t),t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Du(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ng(t){var i=Du(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,h=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,h.call(this,T)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function so(t){t._valueTracker||(t._valueTracker=ng(t))}function Iu(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return t&&(u=Du(t)?t.checked?"true":"false":t.value),t=u,t!==o?(i.setValue(t),!0):!1}function ro(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ig=/[\n"\\]/g;function Nt(t){return t.replace(ig,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Vl(t,i,o,u,f,h,T,S){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+wt(i)):t.value!==""+wt(i)&&(t.value=""+wt(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Bl(t,T,wt(i)):o!=null?Bl(t,T,wt(o)):u!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+wt(S):t.removeAttribute("name")}function Lu(t,i,o,u,f,h,T,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),i!=null||o!=null){if(!(h!=="submit"&&h!=="reset"||i!=null))return;o=o!=null?""+wt(o):"",i=i!=null?""+wt(i):o,S||i===t.value||(t.value=i),t.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=S?t.checked:!!u,t.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Bl(t,i,o){i==="number"&&ro(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function fi(t,i,o,u){if(t=t.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=i.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&u&&(t[o].defaultSelected=!0)}else{for(o=""+wt(o),i=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Uu(t,i,o){if(i!=null&&(i=""+wt(i),i!==t.value&&(t.value=i),o==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=o!=null?""+wt(o):""}function Vu(t,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(l(92));if(Se(u)){if(1<u.length)throw Error(l(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=wt(i),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u)}function di(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var ag=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bu(t,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,o):typeof o!="number"||o===0||ag.has(i)?i==="float"?t.cssFloat=o:t[i]=(""+o).trim():t[i]=o+"px"}function zu(t,i,o){if(i!=null&&typeof i!="object")throw Error(l(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&Bu(t,f,u)}else for(var h in i)i.hasOwnProperty(h)&&Bu(t,h,i[h])}function zl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var og=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uo(t){return lg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Gl=null;function Pl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,hi=null;function Gu(t){var i=si(t);if(i&&(t=i.stateNode)){var o=t[ft]||null;e:switch(t=i.stateNode,i.type){case"input":if(Vl(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Nt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==t&&u.form===t.form){var f=u[ft]||null;if(!f)throw Error(l(90));Vl(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===t.form&&Iu(u)}break e;case"textarea":Uu(t,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&fi(t,!!o.multiple,i,!1)}}}var ql=!1;function Pu(t,i,o){if(ql)return t(i,o);ql=!0;try{var u=t(i);return u}finally{if(ql=!1,(mi!==null||hi!==null)&&(Xo(),mi&&(i=mi,t=hi,hi=mi=null,Gu(i),t)))for(i=0;i<t.length;i++)Gu(t[i])}}function aa(t,i){var o=t.stateNode;if(o===null)return null;var u=o[ft]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(l(231,i,typeof o));return o}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=!1;if(Xt)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{Hl=!1}var hn=null,Fl=null,co=null;function qu(){if(co)return co;var t,i=Fl,o=i.length,u,f="value"in hn?hn.value:hn.textContent,h=f.length;for(t=0;t<o&&i[t]===f[t];t++);var T=o-t;for(u=1;u<=T&&i[o-u]===f[h-u];u++);return co=f.slice(t,1<u?1-u:void 0)}function fo(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function mo(){return!0}function Hu(){return!1}function dt(t){function i(o,u,f,h,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?mo:Hu,this.isPropagationStopped=Hu,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),i}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=dt(Gn),la=x({},Gn,{view:0,detail:0}),sg=dt(la),Ol,Yl,sa,po=x({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sa&&(sa&&t.type==="mousemove"?(Ol=t.screenX-sa.screenX,Yl=t.screenY-sa.screenY):Yl=Ol=0,sa=t),Ol)},movementY:function(t){return"movementY"in t?t.movementY:Yl}}),Fu=dt(po),rg=x({},po,{dataTransfer:0}),ug=dt(rg),cg=x({},la,{relatedTarget:0}),Jl=dt(cg),fg=x({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),dg=dt(fg),mg=x({},Gn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hg=dt(mg),pg=x({},Gn,{data:0}),Ou=dt(pg),gg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xg(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=vg[t])?!!i[t]:!1}function Kl(){return xg}var Tg=x({},la,{key:function(t){if(t.key){var i=gg[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=fo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kl,charCode:function(t){return t.type==="keypress"?fo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cg=dt(Tg),Sg=x({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yu=dt(Sg),bg=x({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kl}),_g=dt(bg),Eg=x({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ag=dt(Eg),Mg=x({},po,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wg=dt(Mg),Ng=x({},Gn,{newState:0,oldState:0}),Rg=dt(Ng),kg=[9,13,27,32],jl=Xt&&"CompositionEvent"in window,ra=null;Xt&&"documentMode"in document&&(ra=document.documentMode);var Dg=Xt&&"TextEvent"in window&&!ra,Ju=Xt&&(!jl||ra&&8<ra&&11>=ra),Ku=" ",ju=!1;function Xu(t,i){switch(t){case"keyup":return kg.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $u(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pi=!1;function Ig(t,i){switch(t){case"compositionend":return $u(i);case"keypress":return i.which!==32?null:(ju=!0,Ku);case"textInput":return t=i.data,t===Ku&&ju?null:t;default:return null}}function Lg(t,i){if(pi)return t==="compositionend"||!jl&&Xu(t,i)?(t=qu(),co=Fl=hn=null,pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ju&&i.locale!=="ko"?null:i.data;default:return null}}var Ug={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qu(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ug[t.type]:i==="textarea"}function Zu(t,i,o,u){mi?hi?hi.push(u):hi=[u]:mi=u,i=tl(i,"onChange"),0<i.length&&(o=new ho("onChange","change",null,o,u),t.push({event:o,listeners:i}))}var ua=null,ca=null;function Vg(t){Id(t,0)}function go(t){var i=ia(t);if(Iu(i))return t}function Wu(t,i){if(t==="change")return i}var ec=!1;if(Xt){var Xl;if(Xt){var $l="oninput"in document;if(!$l){var tc=document.createElement("div");tc.setAttribute("oninput","return;"),$l=typeof tc.oninput=="function"}Xl=$l}else Xl=!1;ec=Xl&&(!document.documentMode||9<document.documentMode)}function nc(){ua&&(ua.detachEvent("onpropertychange",ic),ca=ua=null)}function ic(t){if(t.propertyName==="value"&&go(ca)){var i=[];Zu(i,ca,t,Pl(t)),Pu(Vg,i)}}function Bg(t,i,o){t==="focusin"?(nc(),ua=i,ca=o,ua.attachEvent("onpropertychange",ic)):t==="focusout"&&nc()}function zg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return go(ca)}function Gg(t,i){if(t==="click")return go(i)}function Pg(t,i){if(t==="input"||t==="change")return go(i)}function qg(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Tt=typeof Object.is=="function"?Object.is:qg;function fa(t,i){if(Tt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Mt.call(i,f)||!Tt(t[f],i[f]))return!1}return!0}function ac(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oc(t,i){var o=ac(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=i&&u>=i)return{node:o,offset:i-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ac(o)}}function lc(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?lc(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function sc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ro(t.document);i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=ro(t.document)}return i}function Ql(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Hg=Xt&&"documentMode"in document&&11>=document.documentMode,gi=null,Zl=null,da=null,Wl=!1;function rc(t,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Wl||gi==null||gi!==ro(u)||(u=gi,"selectionStart"in u&&Ql(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),da&&fa(da,u)||(da=u,u=tl(Zl,"onSelect"),0<u.length&&(i=new ho("onSelect","select",null,i,o),t.push({event:i,listeners:u}),i.target=gi)))}function Pn(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var yi={animationend:Pn("Animation","AnimationEnd"),animationiteration:Pn("Animation","AnimationIteration"),animationstart:Pn("Animation","AnimationStart"),transitionrun:Pn("Transition","TransitionRun"),transitionstart:Pn("Transition","TransitionStart"),transitioncancel:Pn("Transition","TransitionCancel"),transitionend:Pn("Transition","TransitionEnd")},es={},uc={};Xt&&(uc=document.createElement("div").style,"AnimationEvent"in window||(delete yi.animationend.animation,delete yi.animationiteration.animation,delete yi.animationstart.animation),"TransitionEvent"in window||delete yi.transitionend.transition);function qn(t){if(es[t])return es[t];if(!yi[t])return t;var i=yi[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in uc)return es[t]=i[o];return t}var cc=qn("animationend"),fc=qn("animationiteration"),dc=qn("animationstart"),Fg=qn("transitionrun"),Og=qn("transitionstart"),Yg=qn("transitioncancel"),mc=qn("transitionend"),hc=new Map,ts="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ts.push("scrollEnd");function Gt(t,i){hc.set(t,i),zn(i,[t])}var pc=new WeakMap;function Rt(t,i){if(typeof t=="object"&&t!==null){var o=pc.get(t);return o!==void 0?o:(i={value:t,source:i,stack:ku(i)},pc.set(t,i),i)}return{value:t,source:i,stack:ku(i)}}var kt=[],vi=0,ns=0;function yo(){for(var t=vi,i=ns=vi=0;i<t;){var o=kt[i];kt[i++]=null;var u=kt[i];kt[i++]=null;var f=kt[i];kt[i++]=null;var h=kt[i];if(kt[i++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}h!==0&&gc(o,f,h)}}function vo(t,i,o,u){kt[vi++]=t,kt[vi++]=i,kt[vi++]=o,kt[vi++]=u,ns|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function is(t,i,o,u){return vo(t,i,o,u),xo(t)}function xi(t,i){return vo(t,null,null,i),xo(t)}function gc(t,i,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var f=!1,h=t.return;h!==null;)h.childLanes|=o,u=h.alternate,u!==null&&(u.childLanes|=o),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&i!==null&&(f=31-xt(o),t=h.hiddenUpdates,u=t[f],u===null?t[f]=[i]:u.push(i),i.lane=o|536870912),h):null}function xo(t){if(50<Ba)throw Ba=0,ur=null,Error(l(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ti={};function Jg(t,i,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(t,i,o,u){return new Jg(t,i,o,u)}function as(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $t(t,i){var o=t.alternate;return o===null?(o=Ct(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function yc(t,i){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,i=o.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function To(t,i,o,u,f,h){var T=0;if(u=t,typeof t=="function")as(t)&&(T=1);else if(typeof t=="string")T=j0(t,o,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case W:return t=Ct(31,o,i,f),t.elementType=W,t.lanes=h,t;case D:return Hn(o.children,f,h,i);case k:T=8,f|=24;break;case H:return t=Ct(12,o,i,f|2),t.elementType=H,t.lanes=h,t;case V:return t=Ct(13,o,i,f),t.elementType=V,t.lanes=h,t;case Z:return t=Ct(19,o,i,f),t.elementType=Z,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:case J:T=10;break e;case z:T=9;break e;case K:T=11;break e;case ne:T=14;break e;case de:T=16,u=null;break e}T=29,o=Error(l(130,t===null?"null":typeof t,"")),u=null}return i=Ct(T,o,i,f),i.elementType=t,i.type=u,i.lanes=h,i}function Hn(t,i,o,u){return t=Ct(7,t,u,i),t.lanes=o,t}function os(t,i,o){return t=Ct(6,t,null,i),t.lanes=o,t}function ls(t,i,o){return i=Ct(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ci=[],Si=0,Co=null,So=0,Dt=[],It=0,Fn=null,Qt=1,Zt="";function On(t,i){Ci[Si++]=So,Ci[Si++]=Co,Co=t,So=i}function vc(t,i,o){Dt[It++]=Qt,Dt[It++]=Zt,Dt[It++]=Fn,Fn=t;var u=Qt;t=Zt;var f=32-xt(u)-1;u&=~(1<<f),o+=1;var h=32-xt(i)+f;if(30<h){var T=f-f%5;h=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Qt=1<<32-xt(i)+f|o<<f|u,Zt=h+t}else Qt=1<<h|o<<f|u,Zt=t}function ss(t){t.return!==null&&(On(t,1),vc(t,1,0))}function rs(t){for(;t===Co;)Co=Ci[--Si],Ci[Si]=null,So=Ci[--Si],Ci[Si]=null;for(;t===Fn;)Fn=Dt[--It],Dt[It]=null,Zt=Dt[--It],Dt[It]=null,Qt=Dt[--It],Dt[It]=null}var ct=null,Ge=null,Ce=!1,Yn=null,Ft=!1,us=Error(l(519));function Jn(t){var i=Error(l(418,""));throw pa(Rt(i,t)),us}function xc(t){var i=t.stateNode,o=t.type,u=t.memoizedProps;switch(i[ot]=t,i[ft]=u,o){case"dialog":ge("cancel",i),ge("close",i);break;case"iframe":case"object":case"embed":ge("load",i);break;case"video":case"audio":for(o=0;o<Ga.length;o++)ge(Ga[o],i);break;case"source":ge("error",i);break;case"img":case"image":case"link":ge("error",i),ge("load",i);break;case"details":ge("toggle",i);break;case"input":ge("invalid",i),Lu(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),so(i);break;case"select":ge("invalid",i);break;case"textarea":ge("invalid",i),Vu(i,u.value,u.defaultValue,u.children),so(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||Bd(i.textContent,o)?(u.popover!=null&&(ge("beforetoggle",i),ge("toggle",i)),u.onScroll!=null&&ge("scroll",i),u.onScrollEnd!=null&&ge("scrollend",i),u.onClick!=null&&(i.onclick=nl),i=!0):i=!1,i||Jn(t)}function Tc(t){for(ct=t.return;ct;)switch(ct.tag){case 5:case 13:Ft=!1;return;case 27:case 3:Ft=!0;return;default:ct=ct.return}}function ma(t){if(t!==ct)return!1;if(!Ce)return Tc(t),Ce=!0,!1;var i=t.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Er(t.type,t.memoizedProps)),o=!o),o&&Ge&&Jn(t),Tc(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(i===0){Ge=qt(t.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;t=t.nextSibling}Ge=null}}else i===27?(i=Ge,Rn(t.type)?(t=Nr,Nr=null,Ge=t):Ge=i):Ge=ct?qt(t.stateNode.nextSibling):null;return!0}function ha(){Ge=ct=null,Ce=!1}function Cc(){var t=Yn;return t!==null&&(pt===null?pt=t:pt.push.apply(pt,t),Yn=null),t}function pa(t){Yn===null?Yn=[t]:Yn.push(t)}var cs=q(null),Kn=null,Wt=null;function pn(t,i,o){j(cs,i._currentValue),i._currentValue=o}function en(t){t._currentValue=cs.current,X(cs)}function fs(t,i,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===o)break;t=t.return}}function ds(t,i,o,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var T=f.child;h=h.firstContext;e:for(;h!==null;){var S=h;h=f;for(var _=0;_<i.length;_++)if(S.context===i[_]){h.lanes|=o,S=h.alternate,S!==null&&(S.lanes|=o),fs(h.return,o,t),u||(T=null);break e}h=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(l(341));T.lanes|=o,h=T.alternate,h!==null&&(h.lanes|=o),fs(T,o,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function ga(t,i,o,u){t=null;for(var f=i,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(l(387));if(T=T.memoizedProps,T!==null){var S=f.type;Tt(f.pendingProps.value,T.value)||(t!==null?t.push(S):t=[S])}}else if(f===We.current){if(T=f.alternate,T===null)throw Error(l(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ya):t=[Ya])}f=f.return}t!==null&&ds(i,t,o,u),i.flags|=262144}function bo(t){for(t=t.firstContext;t!==null;){if(!Tt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function jn(t){Kn=t,Wt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function lt(t){return Sc(Kn,t)}function _o(t,i){return Kn===null&&jn(t),Sc(t,i)}function Sc(t,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Wt===null){if(t===null)throw Error(l(308));Wt=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Wt=Wt.next=i;return o}var Kg=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(o){return o()})}},jg=n.unstable_scheduleCallback,Xg=n.unstable_NormalPriority,Ke={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ms(){return{controller:new Kg,data:new Map,refCount:0}}function ya(t){t.refCount--,t.refCount===0&&jg(Xg,function(){t.controller.abort()})}var va=null,hs=0,bi=0,_i=null;function $g(t,i){if(va===null){var o=va=[];hs=0,bi=gr(),_i={status:"pending",value:void 0,then:function(u){o.push(u)}}}return hs++,i.then(bc,bc),i}function bc(){if(--hs===0&&va!==null){_i!==null&&(_i.status="fulfilled");var t=va;va=null,bi=0,_i=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Qg(t,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var _c=L.S;L.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&$g(t,i),_c!==null&&_c(t,i)};var Xn=q(null);function ps(){var t=Xn.current;return t!==null?t:Ie.pooledCache}function Eo(t,i){i===null?j(Xn,Xn.current):j(Xn,i.pool)}function Ec(){var t=ps();return t===null?null:{parent:Ke._currentValue,pool:t}}var xa=Error(l(460)),Ac=Error(l(474)),Ao=Error(l(542)),gs={then:function(){}};function Mc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mo(){}function wc(t,i,o){switch(o=t[o],o===void 0?t.push(i):o!==i&&(i.then(Mo,Mo),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Rc(t),t;default:if(typeof i.status=="string")i.then(Mo,Mo);else{if(t=Ie,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Rc(t),t}throw Ta=i,xa}}var Ta=null;function Nc(){if(Ta===null)throw Error(l(459));var t=Ta;return Ta=null,t}function Rc(t){if(t===xa||t===Ao)throw Error(l(483))}var gn=!1;function ys(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vs(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function yn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vn(t,i,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(_e&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=xo(t),gc(t,null,o),i}return vo(t,u,i,o),xo(t)}function Ca(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,bu(t,o)}}function xs(t,i){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};h===null?f=h=T:h=h.next=T,o=o.next}while(o!==null);h===null?f=h=i:h=h.next=i}else f=h=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}var Ts=!1;function Sa(){if(Ts){var t=_i;if(t!==null)throw t}}function ba(t,i,o,u){Ts=!1;var f=t.updateQueue;gn=!1;var h=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var _=S,R=_.next;_.next=null,T===null?h=R:T.next=R,T=_;var B=t.alternate;B!==null&&(B=B.updateQueue,S=B.lastBaseUpdate,S!==T&&(S===null?B.firstBaseUpdate=R:S.next=R,B.lastBaseUpdate=_))}if(h!==null){var P=f.baseState;T=0,B=R=_=null,S=h;do{var I=S.lane&-536870913,U=I!==S.lane;if(U?(xe&I)===I:(u&I)===I){I!==0&&I===bi&&(Ts=!0),B!==null&&(B=B.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var re=t,le=S;I=i;var Ne=o;switch(le.tag){case 1:if(re=le.payload,typeof re=="function"){P=re.call(Ne,P,I);break e}P=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=le.payload,I=typeof re=="function"?re.call(Ne,P,I):re,I==null)break e;P=x({},P,I);break e;case 2:gn=!0}}I=S.callback,I!==null&&(t.flags|=64,U&&(t.flags|=8192),U=f.callbacks,U===null?f.callbacks=[I]:U.push(I))}else U={lane:I,tag:S.tag,payload:S.payload,callback:S.callback,next:null},B===null?(R=B=U,_=P):B=B.next=U,T|=I;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;U=S,S=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);B===null&&(_=P),f.baseState=_,f.firstBaseUpdate=R,f.lastBaseUpdate=B,h===null&&(f.shared.lanes=0),An|=T,t.lanes=T,t.memoizedState=P}}function kc(t,i){if(typeof t!="function")throw Error(l(191,t));t.call(i)}function Dc(t,i){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)kc(o[t],i)}var Ei=q(null),wo=q(0);function Ic(t,i){t=rn,j(wo,t),j(Ei,i),rn=t|i.baseLanes}function Cs(){j(wo,rn),j(Ei,Ei.current)}function Ss(){rn=wo.current,X(Ei),X(wo)}var xn=0,me=null,Me=null,Oe=null,No=!1,Ai=!1,$n=!1,Ro=0,_a=0,Mi=null,Zg=0;function He(){throw Error(l(321))}function bs(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!Tt(t[o],i[o]))return!1;return!0}function _s(t,i,o,u,f,h){return xn=h,me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=t===null||t.memoizedState===null?yf:vf,$n=!1,h=o(u,f),$n=!1,Ai&&(h=Uc(i,o,u,f)),Lc(t),h}function Lc(t){L.H=Vo;var i=Me!==null&&Me.next!==null;if(xn=0,Oe=Me=me=null,No=!1,_a=0,Mi=null,i)throw Error(l(300));t===null||$e||(t=t.dependencies,t!==null&&bo(t)&&($e=!0))}function Uc(t,i,o,u){me=t;var f=0;do{if(Ai&&(Mi=null),_a=0,Ai=!1,25<=f)throw Error(l(301));if(f+=1,Oe=Me=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}L.H=o0,h=i(o,u)}while(Ai);return h}function Wg(){var t=L.H,i=t.useState()[0];return i=typeof i.then=="function"?Ea(i):i,t=t.useState()[0],(Me!==null?Me.memoizedState:null)!==t&&(me.flags|=1024),i}function Es(){var t=Ro!==0;return Ro=0,t}function As(t,i,o){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~o}function Ms(t){if(No){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}No=!1}xn=0,Oe=Me=me=null,Ai=!1,_a=Ro=0,Mi=null}function mt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?me.memoizedState=Oe=t:Oe=Oe.next=t,Oe}function Ye(){if(Me===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var i=Oe===null?me.memoizedState:Oe.next;if(i!==null)Oe=i,Me=t;else{if(t===null)throw me.alternate===null?Error(l(467)):Error(l(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Oe===null?me.memoizedState=Oe=t:Oe=Oe.next=t}return Oe}function ws(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ea(t){var i=_a;return _a+=1,Mi===null&&(Mi=[]),t=wc(Mi,t,i),i=me,(Oe===null?i.memoizedState:Oe.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?yf:vf),t}function ko(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ea(t);if(t.$$typeof===J)return lt(t)}throw Error(l(438,String(t)))}function Ns(t){var i=null,o=me.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=me.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=ws(),me.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(t),u=0;u<t;u++)o[u]=ce;return i.index++,o}function tn(t,i){return typeof i=="function"?i(t):i}function Do(t){var i=Ye();return Rs(i,Me,t)}function Rs(t,i,o){var u=t.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=o;var f=t.baseQueue,h=u.pending;if(h!==null){if(f!==null){var T=f.next;f.next=h.next,h.next=T}i.baseQueue=f=h,u.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{i=f.next;var S=T=null,_=null,R=i,B=!1;do{var P=R.lane&-536870913;if(P!==R.lane?(xe&P)===P:(xn&P)===P){var I=R.revertLane;if(I===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),P===bi&&(B=!0);else if((xn&I)===I){R=R.next,I===bi&&(B=!0);continue}else P={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},_===null?(S=_=P,T=h):_=_.next=P,me.lanes|=I,An|=I;P=R.action,$n&&o(h,P),h=R.hasEagerState?R.eagerState:o(h,P)}else I={lane:P,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},_===null?(S=_=I,T=h):_=_.next=I,me.lanes|=P,An|=P;R=R.next}while(R!==null&&R!==i);if(_===null?T=h:_.next=S,!Tt(h,t.memoizedState)&&($e=!0,B&&(o=_i,o!==null)))throw o;t.memoizedState=h,t.baseState=T,t.baseQueue=_,u.lastRenderedState=h}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function ks(t){var i=Ye(),o=i.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=t;var u=o.dispatch,f=o.pending,h=i.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do h=t(h,T.action),T=T.next;while(T!==f);Tt(h,i.memoizedState)||($e=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),o.lastRenderedState=h}return[h,u]}function Vc(t,i,o){var u=me,f=Ye(),h=Ce;if(h){if(o===void 0)throw Error(l(407));o=o()}else o=i();var T=!Tt((Me||f).memoizedState,o);T&&(f.memoizedState=o,$e=!0),f=f.queue;var S=Gc.bind(null,u,f,t);if(Aa(2048,8,S,[t]),f.getSnapshot!==i||T||Oe!==null&&Oe.memoizedState.tag&1){if(u.flags|=2048,wi(9,Io(),zc.bind(null,u,f,o,i),null),Ie===null)throw Error(l(349));h||(xn&124)!==0||Bc(u,i,o)}return o}function Bc(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=me.updateQueue,i===null?(i=ws(),me.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function zc(t,i,o,u){i.value=o,i.getSnapshot=u,Pc(i)&&qc(t)}function Gc(t,i,o){return o(function(){Pc(i)&&qc(t)})}function Pc(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!Tt(t,o)}catch{return!0}}function qc(t){var i=xi(t,2);i!==null&&At(i,t,2)}function Ds(t){var i=mt();if(typeof t=="function"){var o=t;if(t=o(),$n){dn(!0);try{o()}finally{dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:t},i}function Hc(t,i,o,u){return t.baseState=o,Rs(t,Me,typeof u=="function"?u:tn)}function e0(t,i,o,u,f){if(Uo(t))throw Error(l(485));if(t=i.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};L.T!==null?o(!0):h.isTransition=!1,u(h),o=i.pending,o===null?(h.next=i.pending=h,Fc(i,h)):(h.next=o.next,i.pending=o.next=h)}}function Fc(t,i){var o=i.action,u=i.payload,f=t.state;if(i.isTransition){var h=L.T,T={};L.T=T;try{var S=o(f,u),_=L.S;_!==null&&_(T,S),Oc(t,i,S)}catch(R){Is(t,i,R)}finally{L.T=h}}else try{h=o(f,u),Oc(t,i,h)}catch(R){Is(t,i,R)}}function Oc(t,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Yc(t,i,u)},function(u){return Is(t,i,u)}):Yc(t,i,o)}function Yc(t,i,o){i.status="fulfilled",i.value=o,Jc(i),t.state=o,i=t.pending,i!==null&&(o=i.next,o===i?t.pending=null:(o=o.next,i.next=o,Fc(t,o)))}function Is(t,i,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,Jc(i),i=i.next;while(i!==u)}t.action=null}function Jc(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Kc(t,i){return i}function jc(t,i){if(Ce){var o=Ie.formState;if(o!==null){e:{var u=me;if(Ce){if(Ge){t:{for(var f=Ge,h=Ft;f.nodeType!==8;){if(!h){f=null;break t}if(f=qt(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Ge=qt(f.nextSibling),u=f.data==="F!";break e}}Jn(u)}u=!1}u&&(i=o[0])}}return o=mt(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:i},o.queue=u,o=hf.bind(null,me,u),u.dispatch=o,u=Ds(!1),h=zs.bind(null,me,!1,u.queue),u=mt(),f={state:i,dispatch:null,action:t,pending:null},u.queue=f,o=e0.bind(null,me,f,h,o),f.dispatch=o,u.memoizedState=t,[i,o,!1]}function Xc(t){var i=Ye();return $c(i,Me,t)}function $c(t,i,o){if(i=Rs(t,i,Kc)[0],t=Do(tn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Ea(i)}catch(T){throw T===xa?Ao:T}else u=i;i=Ye();var f=i.queue,h=f.dispatch;return o!==i.memoizedState&&(me.flags|=2048,wi(9,Io(),t0.bind(null,f,o),null)),[u,h,t]}function t0(t,i){t.action=i}function Qc(t){var i=Ye(),o=Me;if(o!==null)return $c(i,o,t);Ye(),i=i.memoizedState,o=Ye();var u=o.queue.dispatch;return o.memoizedState=t,[i,u,!1]}function wi(t,i,o,u){return t={tag:t,create:o,deps:u,inst:i,next:null},i=me.updateQueue,i===null&&(i=ws(),me.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,i.lastEffect=t),t}function Io(){return{destroy:void 0,resource:void 0}}function Zc(){return Ye().memoizedState}function Lo(t,i,o,u){var f=mt();u=u===void 0?null:u,me.flags|=t,f.memoizedState=wi(1|i,Io(),o,u)}function Aa(t,i,o,u){var f=Ye();u=u===void 0?null:u;var h=f.memoizedState.inst;Me!==null&&u!==null&&bs(u,Me.memoizedState.deps)?f.memoizedState=wi(i,h,o,u):(me.flags|=t,f.memoizedState=wi(1|i,h,o,u))}function Wc(t,i){Lo(8390656,8,t,i)}function ef(t,i){Aa(2048,8,t,i)}function tf(t,i){return Aa(4,2,t,i)}function nf(t,i){return Aa(4,4,t,i)}function af(t,i){if(typeof i=="function"){t=t();var o=i(t);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function of(t,i,o){o=o!=null?o.concat([t]):null,Aa(4,4,af.bind(null,i,t),o)}function Ls(){}function lf(t,i){var o=Ye();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&bs(i,u[1])?u[0]:(o.memoizedState=[t,i],t)}function sf(t,i){var o=Ye();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&bs(i,u[1]))return u[0];if(u=t(),$n){dn(!0);try{t()}finally{dn(!1)}}return o.memoizedState=[u,i],u}function Us(t,i,o){return o===void 0||(xn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=o,t=cd(),me.lanes|=t,An|=t,o)}function rf(t,i,o,u){return Tt(o,i)?o:Ei.current!==null?(t=Us(t,o,u),Tt(t,i)||($e=!0),t):(xn&42)===0?($e=!0,t.memoizedState=o):(t=cd(),me.lanes|=t,An|=t,i)}function uf(t,i,o,u,f){var h=O.p;O.p=h!==0&&8>h?h:8;var T=L.T,S={};L.T=S,zs(t,!1,i,o);try{var _=f(),R=L.S;if(R!==null&&R(S,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var B=Qg(_,u);Ma(t,i,B,Et(t))}else Ma(t,i,u,Et(t))}catch(P){Ma(t,i,{then:function(){},status:"rejected",reason:P},Et())}finally{O.p=h,L.T=T}}function n0(){}function Vs(t,i,o,u){if(t.tag!==5)throw Error(l(476));var f=cf(t).queue;uf(t,f,i,ee,o===null?n0:function(){return ff(t),o(u)})}function cf(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:ee},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:o},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ff(t){var i=cf(t).next.queue;Ma(t,i,{},Et())}function Bs(){return lt(Ya)}function df(){return Ye().memoizedState}function mf(){return Ye().memoizedState}function i0(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var o=Et();t=yn(o);var u=vn(i,t,o);u!==null&&(At(u,i,o),Ca(u,i,o)),i={cache:ms()},t.payload=i;return}i=i.return}}function a0(t,i,o){var u=Et();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Uo(t)?pf(i,o):(o=is(t,i,o,u),o!==null&&(At(o,t,u),gf(o,i,u)))}function hf(t,i,o){var u=Et();Ma(t,i,o,u)}function Ma(t,i,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Uo(t))pf(i,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var T=i.lastRenderedState,S=h(T,o);if(f.hasEagerState=!0,f.eagerState=S,Tt(S,T))return vo(t,i,f,0),Ie===null&&yo(),!1}catch{}finally{}if(o=is(t,i,f,u),o!==null)return At(o,t,u),gf(o,i,u),!0}return!1}function zs(t,i,o,u){if(u={lane:2,revertLane:gr(),action:u,hasEagerState:!1,eagerState:null,next:null},Uo(t)){if(i)throw Error(l(479))}else i=is(t,o,u,2),i!==null&&At(i,t,2)}function Uo(t){var i=t.alternate;return t===me||i!==null&&i===me}function pf(t,i){Ai=No=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function gf(t,i,o){if((o&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,bu(t,o)}}var Vo={readContext:lt,use:ko,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He},yf={readContext:lt,use:ko,useCallback:function(t,i){return mt().memoizedState=[t,i===void 0?null:i],t},useContext:lt,useEffect:Wc,useImperativeHandle:function(t,i,o){o=o!=null?o.concat([t]):null,Lo(4194308,4,af.bind(null,i,t),o)},useLayoutEffect:function(t,i){return Lo(4194308,4,t,i)},useInsertionEffect:function(t,i){Lo(4,2,t,i)},useMemo:function(t,i){var o=mt();i=i===void 0?null:i;var u=t();if($n){dn(!0);try{t()}finally{dn(!1)}}return o.memoizedState=[u,i],u},useReducer:function(t,i,o){var u=mt();if(o!==void 0){var f=o(i);if($n){dn(!0);try{o(i)}finally{dn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=a0.bind(null,me,t),[u.memoizedState,t]},useRef:function(t){var i=mt();return t={current:t},i.memoizedState=t},useState:function(t){t=Ds(t);var i=t.queue,o=hf.bind(null,me,i);return i.dispatch=o,[t.memoizedState,o]},useDebugValue:Ls,useDeferredValue:function(t,i){var o=mt();return Us(o,t,i)},useTransition:function(){var t=Ds(!1);return t=uf.bind(null,me,t.queue,!0,!1),mt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,o){var u=me,f=mt();if(Ce){if(o===void 0)throw Error(l(407));o=o()}else{if(o=i(),Ie===null)throw Error(l(349));(xe&124)!==0||Bc(u,i,o)}f.memoizedState=o;var h={value:o,getSnapshot:i};return f.queue=h,Wc(Gc.bind(null,u,h,t),[t]),u.flags|=2048,wi(9,Io(),zc.bind(null,u,h,o,i),null),o},useId:function(){var t=mt(),i=Ie.identifierPrefix;if(Ce){var o=Zt,u=Qt;o=(u&~(1<<32-xt(u)-1)).toString(32)+o,i="«"+i+"R"+o,o=Ro++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=Zg++,i="«"+i+"r"+o.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Bs,useFormState:jc,useActionState:jc,useOptimistic:function(t){var i=mt();i.memoizedState=i.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=zs.bind(null,me,!0,o),o.dispatch=i,[t,i]},useMemoCache:Ns,useCacheRefresh:function(){return mt().memoizedState=i0.bind(null,me)}},vf={readContext:lt,use:ko,useCallback:lf,useContext:lt,useEffect:ef,useImperativeHandle:of,useInsertionEffect:tf,useLayoutEffect:nf,useMemo:sf,useReducer:Do,useRef:Zc,useState:function(){return Do(tn)},useDebugValue:Ls,useDeferredValue:function(t,i){var o=Ye();return rf(o,Me.memoizedState,t,i)},useTransition:function(){var t=Do(tn)[0],i=Ye().memoizedState;return[typeof t=="boolean"?t:Ea(t),i]},useSyncExternalStore:Vc,useId:df,useHostTransitionStatus:Bs,useFormState:Xc,useActionState:Xc,useOptimistic:function(t,i){var o=Ye();return Hc(o,Me,t,i)},useMemoCache:Ns,useCacheRefresh:mf},o0={readContext:lt,use:ko,useCallback:lf,useContext:lt,useEffect:ef,useImperativeHandle:of,useInsertionEffect:tf,useLayoutEffect:nf,useMemo:sf,useReducer:ks,useRef:Zc,useState:function(){return ks(tn)},useDebugValue:Ls,useDeferredValue:function(t,i){var o=Ye();return Me===null?Us(o,t,i):rf(o,Me.memoizedState,t,i)},useTransition:function(){var t=ks(tn)[0],i=Ye().memoizedState;return[typeof t=="boolean"?t:Ea(t),i]},useSyncExternalStore:Vc,useId:df,useHostTransitionStatus:Bs,useFormState:Qc,useActionState:Qc,useOptimistic:function(t,i){var o=Ye();return Me!==null?Hc(o,Me,t,i):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Ns,useCacheRefresh:mf},Ni=null,wa=0;function Bo(t){var i=wa;return wa+=1,Ni===null&&(Ni=[]),wc(Ni,t,i)}function Na(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function zo(t,i){throw i.$$typeof===C?Error(l(525)):(t=Object.prototype.toString.call(i),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function xf(t){var i=t._init;return i(t._payload)}function Tf(t){function i(w,A){if(t){var N=w.deletions;N===null?(w.deletions=[A],w.flags|=16):N.push(A)}}function o(w,A){if(!t)return null;for(;A!==null;)i(w,A),A=A.sibling;return null}function u(w){for(var A=new Map;w!==null;)w.key!==null?A.set(w.key,w):A.set(w.index,w),w=w.sibling;return A}function f(w,A){return w=$t(w,A),w.index=0,w.sibling=null,w}function h(w,A,N){return w.index=N,t?(N=w.alternate,N!==null?(N=N.index,N<A?(w.flags|=67108866,A):N):(w.flags|=67108866,A)):(w.flags|=1048576,A)}function T(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function S(w,A,N,G){return A===null||A.tag!==6?(A=os(N,w.mode,G),A.return=w,A):(A=f(A,N),A.return=w,A)}function _(w,A,N,G){var $=N.type;return $===D?B(w,A,N.props.children,G,N.key):A!==null&&(A.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===de&&xf($)===A.type)?(A=f(A,N.props),Na(A,N),A.return=w,A):(A=To(N.type,N.key,N.props,null,w.mode,G),Na(A,N),A.return=w,A)}function R(w,A,N,G){return A===null||A.tag!==4||A.stateNode.containerInfo!==N.containerInfo||A.stateNode.implementation!==N.implementation?(A=ls(N,w.mode,G),A.return=w,A):(A=f(A,N.children||[]),A.return=w,A)}function B(w,A,N,G,$){return A===null||A.tag!==7?(A=Hn(N,w.mode,G,$),A.return=w,A):(A=f(A,N),A.return=w,A)}function P(w,A,N){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=os(""+A,w.mode,N),A.return=w,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case b:return N=To(A.type,A.key,A.props,null,w.mode,N),Na(N,A),N.return=w,N;case M:return A=ls(A,w.mode,N),A.return=w,A;case de:var G=A._init;return A=G(A._payload),P(w,A,N)}if(Se(A)||Q(A))return A=Hn(A,w.mode,N,null),A.return=w,A;if(typeof A.then=="function")return P(w,Bo(A),N);if(A.$$typeof===J)return P(w,_o(w,A),N);zo(w,A)}return null}function I(w,A,N,G){var $=A!==null?A.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return $!==null?null:S(w,A,""+N,G);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case b:return N.key===$?_(w,A,N,G):null;case M:return N.key===$?R(w,A,N,G):null;case de:return $=N._init,N=$(N._payload),I(w,A,N,G)}if(Se(N)||Q(N))return $!==null?null:B(w,A,N,G,null);if(typeof N.then=="function")return I(w,A,Bo(N),G);if(N.$$typeof===J)return I(w,A,_o(w,N),G);zo(w,N)}return null}function U(w,A,N,G,$){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return w=w.get(N)||null,S(A,w,""+G,$);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return w=w.get(G.key===null?N:G.key)||null,_(A,w,G,$);case M:return w=w.get(G.key===null?N:G.key)||null,R(A,w,G,$);case de:var he=G._init;return G=he(G._payload),U(w,A,N,G,$)}if(Se(G)||Q(G))return w=w.get(N)||null,B(A,w,G,$,null);if(typeof G.then=="function")return U(w,A,N,Bo(G),$);if(G.$$typeof===J)return U(w,A,N,_o(A,G),$);zo(A,G)}return null}function re(w,A,N,G){for(var $=null,he=null,ae=A,se=A=0,Ze=null;ae!==null&&se<N.length;se++){ae.index>se?(Ze=ae,ae=null):Ze=ae.sibling;var Te=I(w,ae,N[se],G);if(Te===null){ae===null&&(ae=Ze);break}t&&ae&&Te.alternate===null&&i(w,ae),A=h(Te,A,se),he===null?$=Te:he.sibling=Te,he=Te,ae=Ze}if(se===N.length)return o(w,ae),Ce&&On(w,se),$;if(ae===null){for(;se<N.length;se++)ae=P(w,N[se],G),ae!==null&&(A=h(ae,A,se),he===null?$=ae:he.sibling=ae,he=ae);return Ce&&On(w,se),$}for(ae=u(ae);se<N.length;se++)Ze=U(ae,w,se,N[se],G),Ze!==null&&(t&&Ze.alternate!==null&&ae.delete(Ze.key===null?se:Ze.key),A=h(Ze,A,se),he===null?$=Ze:he.sibling=Ze,he=Ze);return t&&ae.forEach(function(Un){return i(w,Un)}),Ce&&On(w,se),$}function le(w,A,N,G){if(N==null)throw Error(l(151));for(var $=null,he=null,ae=A,se=A=0,Ze=null,Te=N.next();ae!==null&&!Te.done;se++,Te=N.next()){ae.index>se?(Ze=ae,ae=null):Ze=ae.sibling;var Un=I(w,ae,Te.value,G);if(Un===null){ae===null&&(ae=Ze);break}t&&ae&&Un.alternate===null&&i(w,ae),A=h(Un,A,se),he===null?$=Un:he.sibling=Un,he=Un,ae=Ze}if(Te.done)return o(w,ae),Ce&&On(w,se),$;if(ae===null){for(;!Te.done;se++,Te=N.next())Te=P(w,Te.value,G),Te!==null&&(A=h(Te,A,se),he===null?$=Te:he.sibling=Te,he=Te);return Ce&&On(w,se),$}for(ae=u(ae);!Te.done;se++,Te=N.next())Te=U(ae,w,se,Te.value,G),Te!==null&&(t&&Te.alternate!==null&&ae.delete(Te.key===null?se:Te.key),A=h(Te,A,se),he===null?$=Te:he.sibling=Te,he=Te);return t&&ae.forEach(function(ly){return i(w,ly)}),Ce&&On(w,se),$}function Ne(w,A,N,G){if(typeof N=="object"&&N!==null&&N.type===D&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case b:e:{for(var $=N.key;A!==null;){if(A.key===$){if($=N.type,$===D){if(A.tag===7){o(w,A.sibling),G=f(A,N.props.children),G.return=w,w=G;break e}}else if(A.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===de&&xf($)===A.type){o(w,A.sibling),G=f(A,N.props),Na(G,N),G.return=w,w=G;break e}o(w,A);break}else i(w,A);A=A.sibling}N.type===D?(G=Hn(N.props.children,w.mode,G,N.key),G.return=w,w=G):(G=To(N.type,N.key,N.props,null,w.mode,G),Na(G,N),G.return=w,w=G)}return T(w);case M:e:{for($=N.key;A!==null;){if(A.key===$)if(A.tag===4&&A.stateNode.containerInfo===N.containerInfo&&A.stateNode.implementation===N.implementation){o(w,A.sibling),G=f(A,N.children||[]),G.return=w,w=G;break e}else{o(w,A);break}else i(w,A);A=A.sibling}G=ls(N,w.mode,G),G.return=w,w=G}return T(w);case de:return $=N._init,N=$(N._payload),Ne(w,A,N,G)}if(Se(N))return re(w,A,N,G);if(Q(N)){if($=Q(N),typeof $!="function")throw Error(l(150));return N=$.call(N),le(w,A,N,G)}if(typeof N.then=="function")return Ne(w,A,Bo(N),G);if(N.$$typeof===J)return Ne(w,A,_o(w,N),G);zo(w,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,A!==null&&A.tag===6?(o(w,A.sibling),G=f(A,N),G.return=w,w=G):(o(w,A),G=os(N,w.mode,G),G.return=w,w=G),T(w)):o(w,A)}return function(w,A,N,G){try{wa=0;var $=Ne(w,A,N,G);return Ni=null,$}catch(ae){if(ae===xa||ae===Ao)throw ae;var he=Ct(29,ae,null,w.mode);return he.lanes=G,he.return=w,he}finally{}}}var Ri=Tf(!0),Cf=Tf(!1),Lt=q(null),Ot=null;function Tn(t){var i=t.alternate;j(je,je.current&1),j(Lt,t),Ot===null&&(i===null||Ei.current!==null||i.memoizedState!==null)&&(Ot=t)}function Sf(t){if(t.tag===22){if(j(je,je.current),j(Lt,t),Ot===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Ot=t)}}else Cn()}function Cn(){j(je,je.current),j(Lt,Lt.current)}function nn(t){X(Lt),Ot===t&&(Ot=null),X(je)}var je=q(0);function Go(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||wr(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Gs(t,i,o,u){i=t.memoizedState,o=o(u,i),o=o==null?i:x({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Ps={enqueueSetState:function(t,i,o){t=t._reactInternals;var u=Et(),f=yn(u);f.payload=i,o!=null&&(f.callback=o),i=vn(t,f,u),i!==null&&(At(i,t,u),Ca(i,t,u))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var u=Et(),f=yn(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=vn(t,f,u),i!==null&&(At(i,t,u),Ca(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=Et(),u=yn(o);u.tag=2,i!=null&&(u.callback=i),i=vn(t,u,o),i!==null&&(At(i,t,o),Ca(i,t,o))}};function bf(t,i,o,u,f,h,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,h,T):i.prototype&&i.prototype.isPureReactComponent?!fa(o,u)||!fa(f,h):!0}function _f(t,i,o,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==t&&Ps.enqueueReplaceState(i,i.state,null)}function Qn(t,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(t=t.defaultProps){o===i&&(o=x({},o));for(var f in t)o[f]===void 0&&(o[f]=t[f])}return o}var Po=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ef(t){Po(t)}function Af(t){console.error(t)}function Mf(t){Po(t)}function qo(t,i){try{var o=t.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function wf(t,i,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function qs(t,i,o){return o=yn(o),o.tag=3,o.payload={element:null},o.callback=function(){qo(t,i)},o}function Nf(t){return t=yn(t),t.tag=3,t}function Rf(t,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var h=u.value;t.payload=function(){return f(h)},t.callback=function(){wf(i,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){wf(i,o,u),typeof f!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function l0(t,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&ga(i,o,f,!0),o=Lt.current,o!==null){switch(o.tag){case 13:return Ot===null?fr():o.alternate===null&&Pe===0&&(Pe=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===gs?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),mr(t,u,f)),!1;case 22:return o.flags|=65536,u===gs?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),mr(t,u,f)),!1}throw Error(l(435,o.tag))}return mr(t,u,f),fr(),!1}if(Ce)return i=Lt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==us&&(t=Error(l(422),{cause:u}),pa(Rt(t,o)))):(u!==us&&(i=Error(l(423),{cause:u}),pa(Rt(i,o))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=Rt(u,o),f=qs(t.stateNode,u,f),xs(t,f),Pe!==4&&(Pe=2)),!1;var h=Error(l(520),{cause:u});if(h=Rt(h,o),Va===null?Va=[h]:Va.push(h),Pe!==4&&(Pe=2),i===null)return!0;u=Rt(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,t=f&-f,o.lanes|=t,t=qs(o.stateNode,u,t),xs(o,t),!1;case 1:if(i=o.type,h=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Mn===null||!Mn.has(h))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Nf(f),Rf(f,t,o,u),xs(o,f),!1}o=o.return}while(o!==null);return!1}var kf=Error(l(461)),$e=!1;function nt(t,i,o,u){i.child=t===null?Cf(i,null,o,u):Ri(i,t.child,o,u)}function Df(t,i,o,u,f){o=o.render;var h=i.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return jn(i),u=_s(t,i,o,T,h,f),S=Es(),t!==null&&!$e?(As(t,i,f),an(t,i,f)):(Ce&&S&&ss(i),i.flags|=1,nt(t,i,u,f),i.child)}function If(t,i,o,u,f){if(t===null){var h=o.type;return typeof h=="function"&&!as(h)&&h.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=h,Lf(t,i,h,u,f)):(t=To(o.type,null,u,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(h=t.child,!Xs(t,f)){var T=h.memoizedProps;if(o=o.compare,o=o!==null?o:fa,o(T,u)&&t.ref===i.ref)return an(t,i,f)}return i.flags|=1,t=$t(h,u),t.ref=i.ref,t.return=i,i.child=t}function Lf(t,i,o,u,f){if(t!==null){var h=t.memoizedProps;if(fa(h,u)&&t.ref===i.ref)if($e=!1,i.pendingProps=u=h,Xs(t,f))(t.flags&131072)!==0&&($e=!0);else return i.lanes=t.lanes,an(t,i,f)}return Hs(t,i,o,u,f)}function Uf(t,i,o){var u=i.pendingProps,f=u.children,h=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=h!==null?h.baseLanes|o:o,t!==null){for(f=i.child=t.child,h=0;f!==null;)h=h|f.lanes|f.childLanes,f=f.sibling;i.childLanes=h&~u}else i.childLanes=0,i.child=null;return Vf(t,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Eo(i,h!==null?h.cachePool:null),h!==null?Ic(i,h):Cs(),Sf(i);else return i.lanes=i.childLanes=536870912,Vf(t,i,h!==null?h.baseLanes|o:o,o)}else h!==null?(Eo(i,h.cachePool),Ic(i,h),Cn(),i.memoizedState=null):(t!==null&&Eo(i,null),Cs(),Cn());return nt(t,i,f,o),i.child}function Vf(t,i,o,u){var f=ps();return f=f===null?null:{parent:Ke._currentValue,pool:f},i.memoizedState={baseLanes:o,cachePool:f},t!==null&&Eo(i,null),Cs(),Sf(i),t!==null&&ga(t,i,u,!0),null}function Ho(t,i){var o=i.ref;if(o===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(l(284));(t===null||t.ref!==o)&&(i.flags|=4194816)}}function Hs(t,i,o,u,f){return jn(i),o=_s(t,i,o,u,void 0,f),u=Es(),t!==null&&!$e?(As(t,i,f),an(t,i,f)):(Ce&&u&&ss(i),i.flags|=1,nt(t,i,o,f),i.child)}function Bf(t,i,o,u,f,h){return jn(i),i.updateQueue=null,o=Uc(i,u,o,f),Lc(t),u=Es(),t!==null&&!$e?(As(t,i,h),an(t,i,h)):(Ce&&u&&ss(i),i.flags|=1,nt(t,i,o,h),i.child)}function zf(t,i,o,u,f){if(jn(i),i.stateNode===null){var h=Ti,T=o.contextType;typeof T=="object"&&T!==null&&(h=lt(T)),h=new o(u,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Ps,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=u,h.state=i.memoizedState,h.refs={},ys(i),T=o.contextType,h.context=typeof T=="object"&&T!==null?lt(T):Ti,h.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Gs(i,o,T,u),h.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&Ps.enqueueReplaceState(h,h.state,null),ba(i,u,h,f),Sa(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){h=i.stateNode;var S=i.memoizedProps,_=Qn(o,S);h.props=_;var R=h.context,B=o.contextType;T=Ti,typeof B=="object"&&B!==null&&(T=lt(B));var P=o.getDerivedStateFromProps;B=typeof P=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,B||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||R!==T)&&_f(i,h,u,T),gn=!1;var I=i.memoizedState;h.state=I,ba(i,u,h,f),Sa(),R=i.memoizedState,S||I!==R||gn?(typeof P=="function"&&(Gs(i,o,P,u),R=i.memoizedState),(_=gn||bf(i,o,_,u,I,R,T))?(B||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=R),h.props=u,h.state=R,h.context=T,u=_):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{h=i.stateNode,vs(t,i),T=i.memoizedProps,B=Qn(o,T),h.props=B,P=i.pendingProps,I=h.context,R=o.contextType,_=Ti,typeof R=="object"&&R!==null&&(_=lt(R)),S=o.getDerivedStateFromProps,(R=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==P||I!==_)&&_f(i,h,u,_),gn=!1,I=i.memoizedState,h.state=I,ba(i,u,h,f),Sa();var U=i.memoizedState;T!==P||I!==U||gn||t!==null&&t.dependencies!==null&&bo(t.dependencies)?(typeof S=="function"&&(Gs(i,o,S,u),U=i.memoizedState),(B=gn||bf(i,o,B,u,I,U,_)||t!==null&&t.dependencies!==null&&bo(t.dependencies))?(R||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(u,U,_),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(u,U,_)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=U),h.props=u,h.state=U,h.context=_,u=B):(typeof h.componentDidUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&I===t.memoizedState||(i.flags|=1024),u=!1)}return h=u,Ho(t,i),u=(i.flags&128)!==0,h||u?(h=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,t!==null&&u?(i.child=Ri(i,t.child,null,f),i.child=Ri(i,null,o,f)):nt(t,i,o,f),i.memoizedState=h.state,t=i.child):t=an(t,i,f),t}function Gf(t,i,o,u){return ha(),i.flags|=256,nt(t,i,o,u),i.child}var Fs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Os(t){return{baseLanes:t,cachePool:Ec()}}function Ys(t,i,o){return t=t!==null?t.childLanes&~o:0,i&&(t|=Ut),t}function Pf(t,i,o){var u=i.pendingProps,f=!1,h=(i.flags&128)!==0,T;if((T=h)||(T=t!==null&&t.memoizedState===null?!1:(je.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ce){if(f?Tn(i):Cn(),Ce){var S=Ge,_;if(_=S){e:{for(_=S,S=Ft;_.nodeType!==8;){if(!S){S=null;break e}if(_=qt(_.nextSibling),_===null){S=null;break e}}S=_}S!==null?(i.memoizedState={dehydrated:S,treeContext:Fn!==null?{id:Qt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},_=Ct(18,null,null,0),_.stateNode=S,_.return=i,i.child=_,ct=i,Ge=null,_=!0):_=!1}_||Jn(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return wr(S)?i.lanes=32:i.lanes=536870912,null;nn(i)}return S=u.children,u=u.fallback,f?(Cn(),f=i.mode,S=Fo({mode:"hidden",children:S},f),u=Hn(u,f,o,null),S.return=i,u.return=i,S.sibling=u,i.child=S,f=i.child,f.memoizedState=Os(o),f.childLanes=Ys(t,T,o),i.memoizedState=Fs,u):(Tn(i),Js(i,S))}if(_=t.memoizedState,_!==null&&(S=_.dehydrated,S!==null)){if(h)i.flags&256?(Tn(i),i.flags&=-257,i=Ks(t,i,o)):i.memoizedState!==null?(Cn(),i.child=t.child,i.flags|=128,i=null):(Cn(),f=u.fallback,S=i.mode,u=Fo({mode:"visible",children:u.children},S),f=Hn(f,S,o,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Ri(i,t.child,null,o),u=i.child,u.memoizedState=Os(o),u.childLanes=Ys(t,T,o),i.memoizedState=Fs,i=f);else if(Tn(i),wr(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var R=T.dgst;T=R,u=Error(l(419)),u.stack="",u.digest=T,pa({value:u,source:null,stack:null}),i=Ks(t,i,o)}else if($e||ga(t,i,o,!1),T=(o&t.childLanes)!==0,$e||T){if(T=Ie,T!==null&&(u=o&-o,u=(u&42)!==0?1:Nl(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==_.retryLane))throw _.retryLane=u,xi(t,u),At(T,t,u),kf;S.data==="$?"||fr(),i=Ks(t,i,o)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=_.treeContext,Ge=qt(S.nextSibling),ct=i,Ce=!0,Yn=null,Ft=!1,t!==null&&(Dt[It++]=Qt,Dt[It++]=Zt,Dt[It++]=Fn,Qt=t.id,Zt=t.overflow,Fn=i),i=Js(i,u.children),i.flags|=4096);return i}return f?(Cn(),f=u.fallback,S=i.mode,_=t.child,R=_.sibling,u=$t(_,{mode:"hidden",children:u.children}),u.subtreeFlags=_.subtreeFlags&65011712,R!==null?f=$t(R,f):(f=Hn(f,S,o,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,S=t.child.memoizedState,S===null?S=Os(o):(_=S.cachePool,_!==null?(R=Ke._currentValue,_=_.parent!==R?{parent:R,pool:R}:_):_=Ec(),S={baseLanes:S.baseLanes|o,cachePool:_}),f.memoizedState=S,f.childLanes=Ys(t,T,o),i.memoizedState=Fs,u):(Tn(i),o=t.child,t=o.sibling,o=$t(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=o,i.memoizedState=null,o)}function Js(t,i){return i=Fo({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Fo(t,i){return t=Ct(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ks(t,i,o){return Ri(i,t.child,null,o),t=Js(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function qf(t,i,o){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),fs(t.return,i,o)}function js(t,i,o,u,f){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(h.isBackwards=i,h.rendering=null,h.renderingStartTime=0,h.last=u,h.tail=o,h.tailMode=f)}function Hf(t,i,o){var u=i.pendingProps,f=u.revealOrder,h=u.tail;if(nt(t,i,u.children,o),u=je.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qf(t,o,i);else if(t.tag===19)qf(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(j(je,u),f){case"forwards":for(o=i.child,f=null;o!==null;)t=o.alternate,t!==null&&Go(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),js(i,!1,f,o,h);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Go(t)===null){i.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}js(i,!0,o,null,h);break;case"together":js(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function an(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),An|=i.lanes,(o&i.childLanes)===0)if(t!==null){if(ga(t,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(l(153));if(i.child!==null){for(t=i.child,o=$t(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=$t(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function Xs(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&bo(t)))}function s0(t,i,o){switch(i.tag){case 3:De(i,i.stateNode.containerInfo),pn(i,Ke,t.memoizedState.cache),ha();break;case 27:case 5:et(i);break;case 4:De(i,i.stateNode.containerInfo);break;case 10:pn(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Tn(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Pf(t,i,o):(Tn(i),t=an(t,i,o),t!==null?t.sibling:null);Tn(i);break;case 19:var f=(t.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(ga(t,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return Hf(t,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),j(je,je.current),u)break;return null;case 22:case 23:return i.lanes=0,Uf(t,i,o);case 24:pn(i,Ke,t.memoizedState.cache)}return an(t,i,o)}function Ff(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps)$e=!0;else{if(!Xs(t,o)&&(i.flags&128)===0)return $e=!1,s0(t,i,o);$e=(t.flags&131072)!==0}else $e=!1,Ce&&(i.flags&1048576)!==0&&vc(i,So,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")as(u)?(t=Qn(u,t),i.tag=1,i=zf(null,i,u,t,o)):(i.tag=0,i=Hs(null,i,u,t,o));else{if(u!=null){if(f=u.$$typeof,f===K){i.tag=11,i=Df(null,i,u,t,o);break e}else if(f===ne){i.tag=14,i=If(null,i,u,t,o);break e}}throw i=qe(u)||u,Error(l(306,i,""))}}return i;case 0:return Hs(t,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=Qn(u,i.pendingProps),zf(t,i,u,f,o);case 3:e:{if(De(i,i.stateNode.containerInfo),t===null)throw Error(l(387));u=i.pendingProps;var h=i.memoizedState;f=h.element,vs(t,i),ba(i,u,null,o);var T=i.memoizedState;if(u=T.cache,pn(i,Ke,u),u!==h.cache&&ds(i,[Ke],o,!0),Sa(),u=T.element,h.isDehydrated)if(h={element:u,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Gf(t,i,u,o);break e}else if(u!==f){f=Rt(Error(l(424)),i),pa(f),i=Gf(t,i,u,o);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ge=qt(t.firstChild),ct=i,Ce=!0,Yn=null,Ft=!0,o=Cf(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ha(),u===f){i=an(t,i,o);break e}nt(t,i,u,o)}i=i.child}return i;case 26:return Ho(t,i),t===null?(o=Kd(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ce||(o=i.type,t=i.pendingProps,u=il(ue.current).createElement(o),u[ot]=i,u[ft]=t,at(u,o,t),Xe(u),i.stateNode=u):i.memoizedState=Kd(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return et(i),t===null&&Ce&&(u=i.stateNode=Od(i.type,i.pendingProps,ue.current),ct=i,Ft=!0,f=Ge,Rn(i.type)?(Nr=f,Ge=qt(u.firstChild)):Ge=f),nt(t,i,i.pendingProps.children,o),Ho(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ce&&((f=u=Ge)&&(u=U0(u,i.type,i.pendingProps,Ft),u!==null?(i.stateNode=u,ct=i,Ge=qt(u.firstChild),Ft=!1,f=!0):f=!1),f||Jn(i)),et(i),f=i.type,h=i.pendingProps,T=t!==null?t.memoizedProps:null,u=h.children,Er(f,h)?u=null:T!==null&&Er(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=_s(t,i,Wg,null,null,o),Ya._currentValue=f),Ho(t,i),nt(t,i,u,o),i.child;case 6:return t===null&&Ce&&((t=o=Ge)&&(o=V0(o,i.pendingProps,Ft),o!==null?(i.stateNode=o,ct=i,Ge=null,t=!0):t=!1),t||Jn(i)),null;case 13:return Pf(t,i,o);case 4:return De(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Ri(i,null,u,o):nt(t,i,u,o),i.child;case 11:return Df(t,i,i.type,i.pendingProps,o);case 7:return nt(t,i,i.pendingProps,o),i.child;case 8:return nt(t,i,i.pendingProps.children,o),i.child;case 12:return nt(t,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,pn(i,i.type,u.value),nt(t,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,jn(i),f=lt(f),u=u(f),i.flags|=1,nt(t,i,u,o),i.child;case 14:return If(t,i,i.type,i.pendingProps,o);case 15:return Lf(t,i,i.type,i.pendingProps,o);case 19:return Hf(t,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},t===null?(o=Fo(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=$t(t.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return Uf(t,i,o);case 24:return jn(i),u=lt(Ke),t===null?(f=ps(),f===null&&(f=Ie,h=ms(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=o),f=h),i.memoizedState={parent:u,cache:f},ys(i),pn(i,Ke,f)):((t.lanes&o)!==0&&(vs(t,i),ba(i,null,null,o),Sa()),f=t.memoizedState,h=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),pn(i,Ke,u)):(u=h.cache,pn(i,Ke,u),u!==f.cache&&ds(i,[Ke],o,!0))),nt(t,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function on(t){t.flags|=4}function Of(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Zd(i)){if(i=Lt.current,i!==null&&((xe&4194048)===xe?Ot!==null:(xe&62914560)!==xe&&(xe&536870912)===0||i!==Ot))throw Ta=gs,Ac;t.flags|=8192}}function Oo(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Cu():536870912,t.lanes|=i,Li|=i)}function Ra(t,i){if(!Ce)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function ze(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(i)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=o,i}function r0(t,i,o){var u=i.pendingProps;switch(rs(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(i),null;case 1:return ze(i),null;case 3:return o=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),en(Ke),Be(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(ma(i)?on(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cc())),ze(i),null;case 26:return o=i.memoizedState,t===null?(on(i),o!==null?(ze(i),Of(i,o)):(ze(i),i.flags&=-16777217)):o?o!==t.memoizedState?(on(i),ze(i),Of(i,o)):(ze(i),i.flags&=-16777217):(t.memoizedProps!==u&&on(i),ze(i),i.flags&=-16777217),null;case 27:tt(i),o=ue.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==u&&on(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return ze(i),null}t=oe.current,ma(i)?xc(i):(t=Od(f,u,o),i.stateNode=t,on(i))}return ze(i),null;case 5:if(tt(i),o=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&on(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return ze(i),null}if(t=oe.current,ma(i))xc(i);else{switch(f=il(ue.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}t[ot]=i,t[ft]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(at(t,o,u),o){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&on(i)}}return ze(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&on(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(l(166));if(t=ue.current,ma(i)){if(t=i.stateNode,o=i.memoizedProps,u=null,f=ct,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[ot]=i,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Bd(t.nodeValue,o)),t||Jn(i)}else t=il(t).createTextNode(u),t[ot]=i,i.stateNode=t}return ze(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ma(i),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(l(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(l(317));f[ot]=i}else ha(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ze(i),f=!1}else f=Cc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(nn(i),i):(nn(i),null)}if(nn(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,t=t!==null&&t.memoizedState!==null,o){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var h=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(h=u.memoizedState.cachePool.pool),h!==f&&(u.flags|=2048)}return o!==t&&o&&(i.child.flags|=8192),Oo(i,i.updateQueue),ze(i),null;case 4:return Be(),t===null&&Tr(i.stateNode.containerInfo),ze(i),null;case 10:return en(i.type),ze(i),null;case 19:if(X(je),f=i.memoizedState,f===null)return ze(i),null;if(u=(i.flags&128)!==0,h=f.rendering,h===null)if(u)Ra(f,!1);else{if(Pe!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(h=Go(t),h!==null){for(i.flags|=128,Ra(f,!1),t=h.updateQueue,i.updateQueue=t,Oo(i,t),i.subtreeFlags=0,t=o,o=i.child;o!==null;)yc(o,t),o=o.sibling;return j(je,je.current&1|2),i.child}t=t.sibling}f.tail!==null&&Ht()>Ko&&(i.flags|=128,u=!0,Ra(f,!1),i.lanes=4194304)}else{if(!u)if(t=Go(h),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,Oo(i,t),Ra(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!Ce)return ze(i),null}else 2*Ht()-f.renderingStartTime>Ko&&o!==536870912&&(i.flags|=128,u=!0,Ra(f,!1),i.lanes=4194304);f.isBackwards?(h.sibling=i.child,i.child=h):(t=f.last,t!==null?t.sibling=h:i.child=h,f.last=h)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Ht(),i.sibling=null,t=je.current,j(je,u?t&1|2:t&1),i):(ze(i),null);case 22:case 23:return nn(i),Ss(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(ze(i),i.subtreeFlags&6&&(i.flags|=8192)):ze(i),o=i.updateQueue,o!==null&&Oo(i,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),t!==null&&X(Xn),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),en(Ke),ze(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function u0(t,i){switch(rs(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return en(Ke),Be(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return tt(i),null;case 13:if(nn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(l(340));ha()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(je),null;case 4:return Be(),null;case 10:return en(i.type),null;case 22:case 23:return nn(i),Ss(),t!==null&&X(Xn),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return en(Ke),null;case 25:return null;default:return null}}function Yf(t,i){switch(rs(i),i.tag){case 3:en(Ke),Be();break;case 26:case 27:case 5:tt(i);break;case 4:Be();break;case 13:nn(i);break;case 19:X(je);break;case 10:en(i.type);break;case 22:case 23:nn(i),Ss(),t!==null&&X(Xn);break;case 24:en(Ke)}}function ka(t,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&t)===t){u=void 0;var h=o.create,T=o.inst;u=h(),T.destroy=u}o=o.next}while(o!==f)}}catch(S){ke(i,i.return,S)}}function Sn(t,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var h=f.next;u=h;do{if((u.tag&t)===t){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=i;var _=o,R=S;try{R()}catch(B){ke(f,_,B)}}}u=u.next}while(u!==h)}}catch(B){ke(i,i.return,B)}}function Jf(t){var i=t.updateQueue;if(i!==null){var o=t.stateNode;try{Dc(i,o)}catch(u){ke(t,t.return,u)}}}function Kf(t,i,o){o.props=Qn(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){ke(t,i,u)}}function Da(t,i){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(f){ke(t,i,f)}}function Yt(t,i){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ke(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ke(t,i,f)}else o.current=null}function jf(t){var i=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ke(t,t.return,f)}}function $s(t,i,o){try{var u=t.stateNode;R0(u,t.type,o,i),u[ft]=i}catch(f){ke(t,t.return,f)}}function Xf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Rn(t.type)||t.tag===4}function Qs(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Rn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zs(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(t),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=nl));else if(u!==4&&(u===27&&Rn(t.type)&&(o=t.stateNode,i=null),t=t.child,t!==null))for(Zs(t,i,o),t=t.sibling;t!==null;)Zs(t,i,o),t=t.sibling}function Yo(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(u!==4&&(u===27&&Rn(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Yo(t,i,o),t=t.sibling;t!==null;)Yo(t,i,o),t=t.sibling}function $f(t){var i=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);at(i,u,o),i[ot]=t,i[ft]=o}catch(h){ke(t,t.return,h)}}var ln=!1,Fe=!1,Ws=!1,Qf=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function c0(t,i){if(t=t.containerInfo,br=ul,t=sc(t),Ql(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var T=0,S=-1,_=-1,R=0,B=0,P=t,I=null;t:for(;;){for(var U;P!==o||f!==0&&P.nodeType!==3||(S=T+f),P!==h||u!==0&&P.nodeType!==3||(_=T+u),P.nodeType===3&&(T+=P.nodeValue.length),(U=P.firstChild)!==null;)I=P,P=U;for(;;){if(P===t)break t;if(I===o&&++R===f&&(S=T),I===h&&++B===u&&(_=T),(U=P.nextSibling)!==null)break;P=I,I=P.parentNode}P=U}o=S===-1||_===-1?null:{start:S,end:_}}else o=null}o=o||{start:0,end:0}}else o=null;for(_r={focusedElem:t,selectionRange:o},ul=!1,Qe=i;Qe!==null;)if(i=Qe,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Qe=t;else for(;Qe!==null;){switch(i=Qe,h=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,o=i,f=h.memoizedProps,h=h.memoizedState,u=o.stateNode;try{var re=Qn(o.type,f,o.elementType===o.type);t=u.getSnapshotBeforeUpdate(re,h),u.__reactInternalSnapshotBeforeUpdate=t}catch(le){ke(o,o.return,le)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,o=t.nodeType,o===9)Mr(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Mr(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=i.sibling,t!==null){t.return=i.return,Qe=t;break}Qe=i.return}}function Zf(t,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:bn(t,o),u&4&&ka(5,o);break;case 1:if(bn(t,o),u&4)if(t=o.stateNode,i===null)try{t.componentDidMount()}catch(T){ke(o,o.return,T)}else{var f=Qn(o.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){ke(o,o.return,T)}}u&64&&Jf(o),u&512&&Da(o,o.return);break;case 3:if(bn(t,o),u&64&&(t=o.updateQueue,t!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Dc(t,i)}catch(T){ke(o,o.return,T)}}break;case 27:i===null&&u&4&&$f(o);case 26:case 5:bn(t,o),i===null&&u&4&&jf(o),u&512&&Da(o,o.return);break;case 12:bn(t,o);break;case 13:bn(t,o),u&4&&td(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=x0.bind(null,o),B0(t,o))));break;case 22:if(u=o.memoizedState!==null||ln,!u){i=i!==null&&i.memoizedState!==null||Fe,f=ln;var h=Fe;ln=u,(Fe=i)&&!h?_n(t,o,(o.subtreeFlags&8772)!==0):bn(t,o),ln=f,Fe=h}break;case 30:break;default:bn(t,o)}}function Wf(t){var i=t.alternate;i!==null&&(t.alternate=null,Wf(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Dl(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ve=null,ht=!1;function sn(t,i,o){for(o=o.child;o!==null;)ed(t,i,o),o=o.sibling}function ed(t,i,o){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Wi,o)}catch{}switch(o.tag){case 26:Fe||Yt(o,i),sn(t,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Fe||Yt(o,i);var u=Ve,f=ht;Rn(o.type)&&(Ve=o.stateNode,ht=!1),sn(t,i,o),qa(o.stateNode),Ve=u,ht=f;break;case 5:Fe||Yt(o,i);case 6:if(u=Ve,f=ht,Ve=null,sn(t,i,o),Ve=u,ht=f,Ve!==null)if(ht)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(o.stateNode)}catch(h){ke(o,i,h)}else try{Ve.removeChild(o.stateNode)}catch(h){ke(o,i,h)}break;case 18:Ve!==null&&(ht?(t=Ve,Hd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),Xa(t)):Hd(Ve,o.stateNode));break;case 4:u=Ve,f=ht,Ve=o.stateNode.containerInfo,ht=!0,sn(t,i,o),Ve=u,ht=f;break;case 0:case 11:case 14:case 15:Fe||Sn(2,o,i),Fe||Sn(4,o,i),sn(t,i,o);break;case 1:Fe||(Yt(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Kf(o,i,u)),sn(t,i,o);break;case 21:sn(t,i,o);break;case 22:Fe=(u=Fe)||o.memoizedState!==null,sn(t,i,o),Fe=u;break;default:sn(t,i,o)}}function td(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(o){ke(i,i.return,o)}}function f0(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Qf),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Qf),i;default:throw Error(l(435,t.tag))}}function er(t,i){var o=f0(t);i.forEach(function(u){var f=T0.bind(null,t,u);o.has(u)||(o.add(u),u.then(f,f))})}function St(t,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],h=t,T=i,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(Rn(S.type)){Ve=S.stateNode,ht=!1;break e}break;case 5:Ve=S.stateNode,ht=!1;break e;case 3:case 4:Ve=S.stateNode.containerInfo,ht=!0;break e}S=S.return}if(Ve===null)throw Error(l(160));ed(h,T,f),Ve=null,ht=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)nd(i,t),i=i.sibling}var Pt=null;function nd(t,i){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:St(i,t),bt(t),u&4&&(Sn(3,t,t.return),ka(3,t),Sn(5,t,t.return));break;case 1:St(i,t),bt(t),u&512&&(Fe||o===null||Yt(o,o.return)),u&64&&ln&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Pt;if(St(i,t),bt(t),u&512&&(Fe||o===null||Yt(o,o.return)),u&4){var h=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":h=f.getElementsByTagName("title")[0],(!h||h[na]||h[ot]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(u),f.head.insertBefore(h,f.querySelector("head > title"))),at(h,u,o),h[ot]=t,Xe(h),u=h;break e;case"link":var T=$d("link","href",f).get(u+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(h=T[S],h.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&h.getAttribute("rel")===(o.rel==null?null:o.rel)&&h.getAttribute("title")===(o.title==null?null:o.title)&&h.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break t}}h=f.createElement(u),at(h,u,o),f.head.appendChild(h);break;case"meta":if(T=$d("meta","content",f).get(u+(o.content||""))){for(S=0;S<T.length;S++)if(h=T[S],h.getAttribute("content")===(o.content==null?null:""+o.content)&&h.getAttribute("name")===(o.name==null?null:o.name)&&h.getAttribute("property")===(o.property==null?null:o.property)&&h.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&h.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break t}}h=f.createElement(u),at(h,u,o),f.head.appendChild(h);break;default:throw Error(l(468,u))}h[ot]=t,Xe(h),u=h}t.stateNode=u}else Qd(f,t.type,t.stateNode);else t.stateNode=Xd(f,u,t.memoizedProps);else h!==u?(h===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):h.count--,u===null?Qd(f,t.type,t.stateNode):Xd(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&$s(t,t.memoizedProps,o.memoizedProps)}break;case 27:St(i,t),bt(t),u&512&&(Fe||o===null||Yt(o,o.return)),o!==null&&u&4&&$s(t,t.memoizedProps,o.memoizedProps);break;case 5:if(St(i,t),bt(t),u&512&&(Fe||o===null||Yt(o,o.return)),t.flags&32){f=t.stateNode;try{di(f,"")}catch(U){ke(t,t.return,U)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,$s(t,f,o!==null?o.memoizedProps:f)),u&1024&&(Ws=!0);break;case 6:if(St(i,t),bt(t),u&4){if(t.stateNode===null)throw Error(l(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(U){ke(t,t.return,U)}}break;case 3:if(ll=null,f=Pt,Pt=al(i.containerInfo),St(i,t),Pt=f,bt(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Xa(i.containerInfo)}catch(U){ke(t,t.return,U)}Ws&&(Ws=!1,id(t));break;case 4:u=Pt,Pt=al(t.stateNode.containerInfo),St(i,t),bt(t),Pt=u;break;case 12:St(i,t),bt(t);break;case 13:St(i,t),bt(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(lr=Ht()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,er(t,u)));break;case 22:f=t.memoizedState!==null;var _=o!==null&&o.memoizedState!==null,R=ln,B=Fe;if(ln=R||f,Fe=B||_,St(i,t),Fe=B,ln=R,bt(t),u&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||_||ln||Fe||Zn(t)),o=null,i=t;;){if(i.tag===5||i.tag===26){if(o===null){_=o=i;try{if(h=_.stateNode,f)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=_.stateNode;var P=_.memoizedProps.style,I=P!=null&&P.hasOwnProperty("display")?P.display:null;S.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(U){ke(_,_.return,U)}}}else if(i.tag===6){if(o===null){_=i;try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(U){ke(_,_.return,U)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,er(t,o))));break;case 19:St(i,t),bt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,er(t,u)));break;case 30:break;case 21:break;default:St(i,t),bt(t)}}function bt(t){var i=t.flags;if(i&2){try{for(var o,u=t.return;u!==null;){if(Xf(u)){o=u;break}u=u.return}if(o==null)throw Error(l(160));switch(o.tag){case 27:var f=o.stateNode,h=Qs(t);Yo(t,h,f);break;case 5:var T=o.stateNode;o.flags&32&&(di(T,""),o.flags&=-33);var S=Qs(t);Yo(t,S,T);break;case 3:case 4:var _=o.stateNode.containerInfo,R=Qs(t);Zs(t,R,_);break;default:throw Error(l(161))}}catch(B){ke(t,t.return,B)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function id(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;id(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function bn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Zf(t,i.alternate,i),i=i.sibling}function Zn(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Sn(4,i,i.return),Zn(i);break;case 1:Yt(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Kf(i,i.return,o),Zn(i);break;case 27:qa(i.stateNode);case 26:case 5:Yt(i,i.return),Zn(i);break;case 22:i.memoizedState===null&&Zn(i);break;case 30:Zn(i);break;default:Zn(i)}t=t.sibling}}function _n(t,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=t,h=i,T=h.flags;switch(h.tag){case 0:case 11:case 15:_n(f,h,o),ka(4,h);break;case 1:if(_n(f,h,o),u=h,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(R){ke(u,u.return,R)}if(u=h,f=u.updateQueue,f!==null){var S=u.stateNode;try{var _=f.shared.hiddenCallbacks;if(_!==null)for(f.shared.hiddenCallbacks=null,f=0;f<_.length;f++)kc(_[f],S)}catch(R){ke(u,u.return,R)}}o&&T&64&&Jf(h),Da(h,h.return);break;case 27:$f(h);case 26:case 5:_n(f,h,o),o&&u===null&&T&4&&jf(h),Da(h,h.return);break;case 12:_n(f,h,o);break;case 13:_n(f,h,o),o&&T&4&&td(f,h);break;case 22:h.memoizedState===null&&_n(f,h,o),Da(h,h.return);break;case 30:break;default:_n(f,h,o)}i=i.sibling}}function tr(t,i){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&ya(o))}function nr(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ya(t))}function Jt(t,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ad(t,i,o,u),i=i.sibling}function ad(t,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Jt(t,i,o,u),f&2048&&ka(9,i);break;case 1:Jt(t,i,o,u);break;case 3:Jt(t,i,o,u),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ya(t)));break;case 12:if(f&2048){Jt(t,i,o,u),t=i.stateNode;try{var h=i.memoizedProps,T=h.id,S=h.onPostCommit;typeof S=="function"&&S(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(_){ke(i,i.return,_)}}else Jt(t,i,o,u);break;case 13:Jt(t,i,o,u);break;case 23:break;case 22:h=i.stateNode,T=i.alternate,i.memoizedState!==null?h._visibility&2?Jt(t,i,o,u):Ia(t,i):h._visibility&2?Jt(t,i,o,u):(h._visibility|=2,ki(t,i,o,u,(i.subtreeFlags&10256)!==0)),f&2048&&tr(T,i);break;case 24:Jt(t,i,o,u),f&2048&&nr(i.alternate,i);break;default:Jt(t,i,o,u)}}function ki(t,i,o,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var h=t,T=i,S=o,_=u,R=T.flags;switch(T.tag){case 0:case 11:case 15:ki(h,T,S,_,f),ka(8,T);break;case 23:break;case 22:var B=T.stateNode;T.memoizedState!==null?B._visibility&2?ki(h,T,S,_,f):Ia(h,T):(B._visibility|=2,ki(h,T,S,_,f)),f&&R&2048&&tr(T.alternate,T);break;case 24:ki(h,T,S,_,f),f&&R&2048&&nr(T.alternate,T);break;default:ki(h,T,S,_,f)}i=i.sibling}}function Ia(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=t,u=i,f=u.flags;switch(u.tag){case 22:Ia(o,u),f&2048&&tr(u.alternate,u);break;case 24:Ia(o,u),f&2048&&nr(u.alternate,u);break;default:Ia(o,u)}i=i.sibling}}var La=8192;function Di(t){if(t.subtreeFlags&La)for(t=t.child;t!==null;)od(t),t=t.sibling}function od(t){switch(t.tag){case 26:Di(t),t.flags&La&&t.memoizedState!==null&&$0(Pt,t.memoizedState,t.memoizedProps);break;case 5:Di(t);break;case 3:case 4:var i=Pt;Pt=al(t.stateNode.containerInfo),Di(t),Pt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=La,La=16777216,Di(t),La=i):Di(t));break;default:Di(t)}}function ld(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ua(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Qe=u,rd(u,t)}ld(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sd(t),t=t.sibling}function sd(t){switch(t.tag){case 0:case 11:case 15:Ua(t),t.flags&2048&&Sn(9,t,t.return);break;case 3:Ua(t);break;case 12:Ua(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Jo(t)):Ua(t);break;default:Ua(t)}}function Jo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Qe=u,rd(u,t)}ld(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Sn(8,i,i.return),Jo(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Jo(i));break;default:Jo(i)}t=t.sibling}}function rd(t,i){for(;Qe!==null;){var o=Qe;switch(o.tag){case 0:case 11:case 15:Sn(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ya(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Qe=u;else e:for(o=t;Qe!==null;){u=Qe;var f=u.sibling,h=u.return;if(Wf(u),u===o){Qe=null;break e}if(f!==null){f.return=h,Qe=f;break e}Qe=h}}}var d0={getCacheForType:function(t){var i=lt(Ke),o=i.data.get(t);return o===void 0&&(o=t(),i.data.set(t,o)),o}},m0=typeof WeakMap=="function"?WeakMap:Map,_e=0,Ie=null,pe=null,xe=0,Ee=0,_t=null,En=!1,Ii=!1,ir=!1,rn=0,Pe=0,An=0,Wn=0,ar=0,Ut=0,Li=0,Va=null,pt=null,or=!1,lr=0,Ko=1/0,jo=null,Mn=null,it=0,wn=null,Ui=null,Vi=0,sr=0,rr=null,ud=null,Ba=0,ur=null;function Et(){if((_e&2)!==0&&xe!==0)return xe&-xe;if(L.T!==null){var t=bi;return t!==0?t:gr()}return _u()}function cd(){Ut===0&&(Ut=(xe&536870912)===0||Ce?Tu():536870912);var t=Lt.current;return t!==null&&(t.flags|=32),Ut}function At(t,i,o){(t===Ie&&(Ee===2||Ee===9)||t.cancelPendingCommit!==null)&&(Bi(t,0),Nn(t,xe,Ut,!1)),ta(t,o),((_e&2)===0||t!==Ie)&&(t===Ie&&((_e&2)===0&&(Wn|=o),Pe===4&&Nn(t,xe,Ut,!1)),Kt(t))}function fd(t,i,o){if((_e&6)!==0)throw Error(l(327));var u=!o&&(i&124)===0&&(i&t.expiredLanes)===0||ea(t,i),f=u?g0(t,i):dr(t,i,!0),h=u;do{if(f===0){Ii&&!u&&Nn(t,i,0,!1);break}else{if(o=t.current.alternate,h&&!h0(o)){f=dr(t,i,!1),h=!1;continue}if(f===2){if(h=i,t.errorRecoveryDisabledLanes&h)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var S=t;f=Va;var _=S.current.memoizedState.isDehydrated;if(_&&(Bi(S,T).flags|=256),T=dr(S,T,!1),T!==2){if(ir&&!_){S.errorRecoveryDisabledLanes|=h,Wn|=h,f=4;break e}h=pt,pt=f,h!==null&&(pt===null?pt=h:pt.push.apply(pt,h))}f=T}if(h=!1,f!==2)continue}}if(f===1){Bi(t,0),Nn(t,i,0,!0);break}e:{switch(u=t,h=f,h){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:Nn(u,i,Ut,!En);break e;case 2:pt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(f=lr+300-Ht(),10<f)){if(Nn(u,i,Ut,!En),ao(u,0,!0)!==0)break e;u.timeoutHandle=Pd(dd.bind(null,u,o,pt,jo,or,i,Ut,Wn,Li,En,h,2,-0,0),f);break e}dd(u,o,pt,jo,or,i,Ut,Wn,Li,En,h,0,-0,0)}}break}while(!0);Kt(t)}function dd(t,i,o,u,f,h,T,S,_,R,B,P,I,U){if(t.timeoutHandle=-1,P=i.subtreeFlags,(P&8192||(P&16785408)===16785408)&&(Oa={stylesheets:null,count:0,unsuspend:X0},od(i),P=Q0(),P!==null)){t.cancelPendingCommit=P(xd.bind(null,t,i,h,o,u,f,T,S,_,B,1,I,U)),Nn(t,h,T,!R);return}xd(t,i,h,o,u,f,T,S,_)}function h0(t){for(var i=t;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],h=f.getSnapshot;f=f.value;try{if(!Tt(h(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Nn(t,i,o,u){i&=~ar,i&=~Wn,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var f=i;0<f;){var h=31-xt(f),T=1<<h;u[h]=-1,f&=~T}o!==0&&Su(t,o,i)}function Xo(){return(_e&6)===0?(za(0),!1):!0}function cr(){if(pe!==null){if(Ee===0)var t=pe.return;else t=pe,Wt=Kn=null,Ms(t),Ni=null,wa=0,t=pe;for(;t!==null;)Yf(t.alternate,t),t=t.return;pe=null}}function Bi(t,i){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,D0(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),cr(),Ie=t,pe=o=$t(t.current,null),xe=i,Ee=0,_t=null,En=!1,Ii=ea(t,i),ir=!1,Li=Ut=ar=Wn=An=Pe=0,pt=Va=null,or=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var f=31-xt(u),h=1<<f;i|=t[f],u&=~h}return rn=i,yo(),o}function md(t,i){me=null,L.H=Vo,i===xa||i===Ao?(i=Nc(),Ee=3):i===Ac?(i=Nc(),Ee=4):Ee=i===kf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_t=i,pe===null&&(Pe=1,qo(t,Rt(i,t.current)))}function hd(){var t=L.H;return L.H=Vo,t===null?Vo:t}function pd(){var t=L.A;return L.A=d0,t}function fr(){Pe=4,En||(xe&4194048)!==xe&&Lt.current!==null||(Ii=!0),(An&134217727)===0&&(Wn&134217727)===0||Ie===null||Nn(Ie,xe,Ut,!1)}function dr(t,i,o){var u=_e;_e|=2;var f=hd(),h=pd();(Ie!==t||xe!==i)&&(jo=null,Bi(t,i)),i=!1;var T=Pe;e:do try{if(Ee!==0&&pe!==null){var S=pe,_=_t;switch(Ee){case 8:cr(),T=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(i=!0);var R=Ee;if(Ee=0,_t=null,zi(t,S,_,R),o&&Ii){T=0;break e}break;default:R=Ee,Ee=0,_t=null,zi(t,S,_,R)}}p0(),T=Pe;break}catch(B){md(t,B)}while(!0);return i&&t.shellSuspendCounter++,Wt=Kn=null,_e=u,L.H=f,L.A=h,pe===null&&(Ie=null,xe=0,yo()),T}function p0(){for(;pe!==null;)gd(pe)}function g0(t,i){var o=_e;_e|=2;var u=hd(),f=pd();Ie!==t||xe!==i?(jo=null,Ko=Ht()+500,Bi(t,i)):Ii=ea(t,i);e:do try{if(Ee!==0&&pe!==null){i=pe;var h=_t;t:switch(Ee){case 1:Ee=0,_t=null,zi(t,i,h,1);break;case 2:case 9:if(Mc(h)){Ee=0,_t=null,yd(i);break}i=function(){Ee!==2&&Ee!==9||Ie!==t||(Ee=7),Kt(t)},h.then(i,i);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:Mc(h)?(Ee=0,_t=null,yd(i)):(Ee=0,_t=null,zi(t,i,h,7));break;case 5:var T=null;switch(pe.tag){case 26:T=pe.memoizedState;case 5:case 27:var S=pe;if(!T||Zd(T)){Ee=0,_t=null;var _=S.sibling;if(_!==null)pe=_;else{var R=S.return;R!==null?(pe=R,$o(R)):pe=null}break t}}Ee=0,_t=null,zi(t,i,h,5);break;case 6:Ee=0,_t=null,zi(t,i,h,6);break;case 8:cr(),Pe=6;break e;default:throw Error(l(462))}}y0();break}catch(B){md(t,B)}while(!0);return Wt=Kn=null,L.H=u,L.A=f,_e=o,pe!==null?0:(Ie=null,xe=0,yo(),Pe)}function y0(){for(;pe!==null&&!zt();)gd(pe)}function gd(t){var i=Ff(t.alternate,t,rn);t.memoizedProps=t.pendingProps,i===null?$o(t):pe=i}function yd(t){var i=t,o=i.alternate;switch(i.tag){case 15:case 0:i=Bf(o,i,i.pendingProps,i.type,void 0,xe);break;case 11:i=Bf(o,i,i.pendingProps,i.type.render,i.ref,xe);break;case 5:Ms(i);default:Yf(o,i),i=pe=yc(i,rn),i=Ff(o,i,rn)}t.memoizedProps=t.pendingProps,i===null?$o(t):pe=i}function zi(t,i,o,u){Wt=Kn=null,Ms(i),Ni=null,wa=0;var f=i.return;try{if(l0(t,f,i,o,xe)){Pe=1,qo(t,Rt(o,t.current)),pe=null;return}}catch(h){if(f!==null)throw pe=f,h;Pe=1,qo(t,Rt(o,t.current)),pe=null;return}i.flags&32768?(Ce||u===1?t=!0:Ii||(xe&536870912)!==0?t=!1:(En=t=!0,(u===2||u===9||u===3||u===6)&&(u=Lt.current,u!==null&&u.tag===13&&(u.flags|=16384))),vd(i,t)):$o(i)}function $o(t){var i=t;do{if((i.flags&32768)!==0){vd(i,En);return}t=i.return;var o=r0(i.alternate,i,rn);if(o!==null){pe=o;return}if(i=i.sibling,i!==null){pe=i;return}pe=i=t}while(i!==null);Pe===0&&(Pe=5)}function vd(t,i){do{var o=u0(t.alternate,t);if(o!==null){o.flags&=32767,pe=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(t=t.sibling,t!==null)){pe=t;return}pe=t=o}while(t!==null);Pe=6,pe=null}function xd(t,i,o,u,f,h,T,S,_){t.cancelPendingCommit=null;do Qo();while(it!==0);if((_e&6)!==0)throw Error(l(327));if(i!==null){if(i===t.current)throw Error(l(177));if(h=i.lanes|i.childLanes,h|=ns,Xp(t,o,h,T,S,_),t===Ie&&(pe=Ie=null,xe=0),Ui=i,wn=t,Vi=o,sr=h,rr=f,ud=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,C0(to,function(){return _d(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,f=O.p,O.p=2,T=_e,_e|=4;try{c0(t,i,o)}finally{_e=T,O.p=f,L.T=u}}it=1,Td(),Cd(),Sd()}}function Td(){if(it===1){it=0;var t=wn,i=Ui,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var u=O.p;O.p=2;var f=_e;_e|=4;try{nd(i,t);var h=_r,T=sc(t.containerInfo),S=h.focusedElem,_=h.selectionRange;if(T!==S&&S&&S.ownerDocument&&lc(S.ownerDocument.documentElement,S)){if(_!==null&&Ql(S)){var R=_.start,B=_.end;if(B===void 0&&(B=R),"selectionStart"in S)S.selectionStart=R,S.selectionEnd=Math.min(B,S.value.length);else{var P=S.ownerDocument||document,I=P&&P.defaultView||window;if(I.getSelection){var U=I.getSelection(),re=S.textContent.length,le=Math.min(_.start,re),Ne=_.end===void 0?le:Math.min(_.end,re);!U.extend&&le>Ne&&(T=Ne,Ne=le,le=T);var w=oc(S,le),A=oc(S,Ne);if(w&&A&&(U.rangeCount!==1||U.anchorNode!==w.node||U.anchorOffset!==w.offset||U.focusNode!==A.node||U.focusOffset!==A.offset)){var N=P.createRange();N.setStart(w.node,w.offset),U.removeAllRanges(),le>Ne?(U.addRange(N),U.extend(A.node,A.offset)):(N.setEnd(A.node,A.offset),U.addRange(N))}}}}for(P=[],U=S;U=U.parentNode;)U.nodeType===1&&P.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<P.length;S++){var G=P[S];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ul=!!br,_r=br=null}finally{_e=f,O.p=u,L.T=o}}t.current=i,it=2}}function Cd(){if(it===2){it=0;var t=wn,i=Ui,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var u=O.p;O.p=2;var f=_e;_e|=4;try{Zf(t,i.alternate,i)}finally{_e=f,O.p=u,L.T=o}}it=3}}function Sd(){if(it===4||it===3){it=0,Pp();var t=wn,i=Ui,o=Vi,u=ud;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?it=5:(it=0,Ui=wn=null,bd(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Mn=null),Rl(o),i=i.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Wi,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=L.T,f=O.p,O.p=2,L.T=null;try{for(var h=t.onRecoverableError,T=0;T<u.length;T++){var S=u[T];h(S.value,{componentStack:S.stack})}}finally{L.T=i,O.p=f}}(Vi&3)!==0&&Qo(),Kt(t),f=t.pendingLanes,(o&4194090)!==0&&(f&42)!==0?t===ur?Ba++:(Ba=0,ur=t):Ba=0,za(0)}}function bd(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ya(i)))}function Qo(t){return Td(),Cd(),Sd(),_d()}function _d(){if(it!==5)return!1;var t=wn,i=sr;sr=0;var o=Rl(Vi),u=L.T,f=O.p;try{O.p=32>o?32:o,L.T=null,o=rr,rr=null;var h=wn,T=Vi;if(it=0,Ui=wn=null,Vi=0,(_e&6)!==0)throw Error(l(331));var S=_e;if(_e|=4,sd(h.current),ad(h,h.current,T,o),_e=S,za(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Wi,h)}catch{}return!0}finally{O.p=f,L.T=u,bd(t,i)}}function Ed(t,i,o){i=Rt(o,i),i=qs(t.stateNode,i,2),t=vn(t,i,2),t!==null&&(ta(t,2),Kt(t))}function ke(t,i,o){if(t.tag===3)Ed(t,t,o);else for(;i!==null;){if(i.tag===3){Ed(i,t,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Mn===null||!Mn.has(u))){t=Rt(o,t),o=Nf(2),u=vn(i,o,2),u!==null&&(Rf(o,u,i,t),ta(u,2),Kt(u));break}}i=i.return}}function mr(t,i,o){var u=t.pingCache;if(u===null){u=t.pingCache=new m0;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(ir=!0,f.add(o),t=v0.bind(null,t,i,o),i.then(t,t))}function v0(t,i,o){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Ie===t&&(xe&o)===o&&(Pe===4||Pe===3&&(xe&62914560)===xe&&300>Ht()-lr?(_e&2)===0&&Bi(t,0):ar|=o,Li===xe&&(Li=0)),Kt(t)}function Ad(t,i){i===0&&(i=Cu()),t=xi(t,i),t!==null&&(ta(t,i),Kt(t))}function x0(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),Ad(t,o)}function T0(t,i){var o=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(i),Ad(t,o)}function C0(t,i){return ai(t,i)}var Zo=null,Gi=null,hr=!1,Wo=!1,pr=!1,ei=0;function Kt(t){t!==Gi&&t.next===null&&(Gi===null?Zo=Gi=t:Gi=Gi.next=t),Wo=!0,hr||(hr=!0,b0())}function za(t,i){if(!pr&&Wo){pr=!0;do for(var o=!1,u=Zo;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var h=0;else{var T=u.suspendedLanes,S=u.pingedLanes;h=(1<<31-xt(42|t)+1)-1,h&=f&~(T&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(o=!0,Rd(u,h))}else h=xe,h=ao(u,u===Ie?h:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(h&3)===0||ea(u,h)||(o=!0,Rd(u,h));u=u.next}while(o);pr=!1}}function S0(){Md()}function Md(){Wo=hr=!1;var t=0;ei!==0&&(k0()&&(t=ei),ei=0);for(var i=Ht(),o=null,u=Zo;u!==null;){var f=u.next,h=wd(u,i);h===0?(u.next=null,o===null?Zo=f:o.next=f,f===null&&(Gi=o)):(o=u,(t!==0||(h&3)!==0)&&(Wo=!0)),u=f}za(t)}function wd(t,i){for(var o=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var T=31-xt(h),S=1<<T,_=f[T];_===-1?((S&o)===0||(S&u)!==0)&&(f[T]=jp(S,i)):_<=i&&(t.expiredLanes|=S),h&=~S}if(i=Ie,o=xe,o=ao(t,t===i?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===i&&(Ee===2||Ee===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Ue(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||ea(t,o)){if(i=o&-o,i===t.callbackPriority)return i;switch(u!==null&&Ue(u),Rl(o)){case 2:case 8:o=vu;break;case 32:o=to;break;case 268435456:o=xu;break;default:o=to}return u=Nd.bind(null,t),o=ai(o,u),t.callbackPriority=i,t.callbackNode=o,i}return u!==null&&u!==null&&Ue(u),t.callbackPriority=2,t.callbackNode=null,2}function Nd(t,i){if(it!==0&&it!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Qo()&&t.callbackNode!==o)return null;var u=xe;return u=ao(t,t===Ie?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(fd(t,u,i),wd(t,Ht()),t.callbackNode!=null&&t.callbackNode===o?Nd.bind(null,t):null)}function Rd(t,i){if(Qo())return null;fd(t,i,!0)}function b0(){I0(function(){(_e&6)!==0?ai(yu,S0):Md()})}function gr(){return ei===0&&(ei=Tu()),ei}function kd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:uo(""+t)}function Dd(t,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,t.id&&o.setAttribute("form",t.id),i.parentNode.insertBefore(o,i),t=new FormData(t),o.parentNode.removeChild(o),t}function _0(t,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var h=kd((f[ft]||null).action),T=u.submitter;T&&(i=(i=T[ft]||null)?kd(i.formAction):T.getAttribute("formAction"),i!==null&&(h=i,T=null));var S=new ho("action","action",null,u,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ei!==0){var _=T?Dd(f,T):new FormData(f);Vs(o,{pending:!0,data:_,method:f.method,action:h},null,_)}}else typeof h=="function"&&(S.preventDefault(),_=T?Dd(f,T):new FormData(f),Vs(o,{pending:!0,data:_,method:f.method,action:h},h,_))},currentTarget:f}]})}}for(var yr=0;yr<ts.length;yr++){var vr=ts[yr],E0=vr.toLowerCase(),A0=vr[0].toUpperCase()+vr.slice(1);Gt(E0,"on"+A0)}Gt(cc,"onAnimationEnd"),Gt(fc,"onAnimationIteration"),Gt(dc,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(Fg,"onTransitionRun"),Gt(Og,"onTransitionStart"),Gt(Yg,"onTransitionCancel"),Gt(mc,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ga));function Id(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],f=u.event;u=u.listeners;e:{var h=void 0;if(i)for(var T=u.length-1;0<=T;T--){var S=u[T],_=S.instance,R=S.currentTarget;if(S=S.listener,_!==h&&f.isPropagationStopped())break e;h=S,f.currentTarget=R;try{h(f)}catch(B){Po(B)}f.currentTarget=null,h=_}else for(T=0;T<u.length;T++){if(S=u[T],_=S.instance,R=S.currentTarget,S=S.listener,_!==h&&f.isPropagationStopped())break e;h=S,f.currentTarget=R;try{h(f)}catch(B){Po(B)}f.currentTarget=null,h=_}}}}function ge(t,i){var o=i[kl];o===void 0&&(o=i[kl]=new Set);var u=t+"__bubble";o.has(u)||(Ld(i,t,2,!1),o.add(u))}function xr(t,i,o){var u=0;i&&(u|=4),Ld(o,t,u,i)}var el="_reactListening"+Math.random().toString(36).slice(2);function Tr(t){if(!t[el]){t[el]=!0,Au.forEach(function(o){o!=="selectionchange"&&(M0.has(o)||xr(o,!1,t),xr(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[el]||(i[el]=!0,xr("selectionchange",!1,i))}}function Ld(t,i,o,u){switch(am(i)){case 2:var f=ey;break;case 8:f=ty;break;default:f=Lr}o=f.bind(null,i,o,t),f=void 0,!Hl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(i,o,{capture:!0,passive:f}):t.addEventListener(i,o,!0):f!==void 0?t.addEventListener(i,o,{passive:f}):t.addEventListener(i,o,!1)}function Cr(t,i,o,u,f){var h=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=u.return;T!==null;){var _=T.tag;if((_===3||_===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=li(S),T===null)return;if(_=T.tag,_===5||_===6||_===26||_===27){u=h=T;continue e}S=S.parentNode}}u=u.return}Pu(function(){var R=h,B=Pl(o),P=[];e:{var I=hc.get(t);if(I!==void 0){var U=ho,re=t;switch(t){case"keypress":if(fo(o)===0)break e;case"keydown":case"keyup":U=Cg;break;case"focusin":re="focus",U=Jl;break;case"focusout":re="blur",U=Jl;break;case"beforeblur":case"afterblur":U=Jl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=ug;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=_g;break;case cc:case fc:case dc:U=dg;break;case mc:U=Ag;break;case"scroll":case"scrollend":U=sg;break;case"wheel":U=wg;break;case"copy":case"cut":case"paste":U=hg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Yu;break;case"toggle":case"beforetoggle":U=Rg}var le=(i&4)!==0,Ne=!le&&(t==="scroll"||t==="scrollend"),w=le?I!==null?I+"Capture":null:I;le=[];for(var A=R,N;A!==null;){var G=A;if(N=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||N===null||w===null||(G=aa(A,w),G!=null&&le.push(Pa(A,G,N))),Ne)break;A=A.return}0<le.length&&(I=new U(I,re,null,o,B),P.push({event:I,listeners:le}))}}if((i&7)===0){e:{if(I=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",I&&o!==Gl&&(re=o.relatedTarget||o.fromElement)&&(li(re)||re[oi]))break e;if((U||I)&&(I=B.window===B?B:(I=B.ownerDocument)?I.defaultView||I.parentWindow:window,U?(re=o.relatedTarget||o.toElement,U=R,re=re?li(re):null,re!==null&&(Ne=d(re),le=re.tag,re!==Ne||le!==5&&le!==27&&le!==6)&&(re=null)):(U=null,re=R),U!==re)){if(le=Fu,G="onMouseLeave",w="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(le=Yu,G="onPointerLeave",w="onPointerEnter",A="pointer"),Ne=U==null?I:ia(U),N=re==null?I:ia(re),I=new le(G,A+"leave",U,o,B),I.target=Ne,I.relatedTarget=N,G=null,li(B)===R&&(le=new le(w,A+"enter",re,o,B),le.target=N,le.relatedTarget=Ne,G=le),Ne=G,U&&re)t:{for(le=U,w=re,A=0,N=le;N;N=Pi(N))A++;for(N=0,G=w;G;G=Pi(G))N++;for(;0<A-N;)le=Pi(le),A--;for(;0<N-A;)w=Pi(w),N--;for(;A--;){if(le===w||w!==null&&le===w.alternate)break t;le=Pi(le),w=Pi(w)}le=null}else le=null;U!==null&&Ud(P,I,U,le,!1),re!==null&&Ne!==null&&Ud(P,Ne,re,le,!0)}}e:{if(I=R?ia(R):window,U=I.nodeName&&I.nodeName.toLowerCase(),U==="select"||U==="input"&&I.type==="file")var $=Wu;else if(Qu(I))if(ec)$=Pg;else{$=zg;var he=Bg}else U=I.nodeName,!U||U.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?R&&zl(R.elementType)&&($=Wu):$=Gg;if($&&($=$(t,R))){Zu(P,$,o,B);break e}he&&he(t,I,R),t==="focusout"&&R&&I.type==="number"&&R.memoizedProps.value!=null&&Bl(I,"number",I.value)}switch(he=R?ia(R):window,t){case"focusin":(Qu(he)||he.contentEditable==="true")&&(gi=he,Zl=R,da=null);break;case"focusout":da=Zl=gi=null;break;case"mousedown":Wl=!0;break;case"contextmenu":case"mouseup":case"dragend":Wl=!1,rc(P,o,B);break;case"selectionchange":if(Hg)break;case"keydown":case"keyup":rc(P,o,B)}var ae;if(jl)e:{switch(t){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else pi?Xu(t,o)&&(se="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(se="onCompositionStart");se&&(Ju&&o.locale!=="ko"&&(pi||se!=="onCompositionStart"?se==="onCompositionEnd"&&pi&&(ae=qu()):(hn=B,Fl="value"in hn?hn.value:hn.textContent,pi=!0)),he=tl(R,se),0<he.length&&(se=new Ou(se,t,null,o,B),P.push({event:se,listeners:he}),ae?se.data=ae:(ae=$u(o),ae!==null&&(se.data=ae)))),(ae=Dg?Ig(t,o):Lg(t,o))&&(se=tl(R,"onBeforeInput"),0<se.length&&(he=new Ou("onBeforeInput","beforeinput",null,o,B),P.push({event:he,listeners:se}),he.data=ae)),_0(P,t,R,o,B)}Id(P,i)})}function Pa(t,i,o){return{instance:t,listener:i,currentTarget:o}}function tl(t,i){for(var o=i+"Capture",u=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=aa(t,o),f!=null&&u.unshift(Pa(t,f,h)),f=aa(t,i),f!=null&&u.push(Pa(t,f,h))),t.tag===3)return u;t=t.return}return[]}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ud(t,i,o,u,f){for(var h=i._reactName,T=[];o!==null&&o!==u;){var S=o,_=S.alternate,R=S.stateNode;if(S=S.tag,_!==null&&_===u)break;S!==5&&S!==26&&S!==27||R===null||(_=R,f?(R=aa(o,h),R!=null&&T.unshift(Pa(o,R,_))):f||(R=aa(o,h),R!=null&&T.push(Pa(o,R,_)))),o=o.return}T.length!==0&&t.push({event:i,listeners:T})}var w0=/\r\n?/g,N0=/\u0000|\uFFFD/g;function Vd(t){return(typeof t=="string"?t:""+t).replace(w0,`
`).replace(N0,"")}function Bd(t,i){return i=Vd(i),Vd(t)===i}function nl(){}function we(t,i,o,u,f,h){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||di(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&di(t,""+u);break;case"className":lo(t,"class",u);break;case"tabIndex":lo(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":lo(t,o,u);break;case"style":zu(t,u,h);break;case"data":if(i!=="object"){lo(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=uo(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(o==="formAction"?(i!=="input"&&we(t,i,"name",f.name,f,null),we(t,i,"formEncType",f.formEncType,f,null),we(t,i,"formMethod",f.formMethod,f,null),we(t,i,"formTarget",f.formTarget,f,null)):(we(t,i,"encType",f.encType,f,null),we(t,i,"method",f.method,f,null),we(t,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=uo(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=nl);break;case"onScroll":u!=null&&ge("scroll",t);break;case"onScrollEnd":u!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(l(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=uo(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":ge("beforetoggle",t),ge("toggle",t),oo(t,"popover",u);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":oo(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=og.get(o)||o,oo(t,o,u))}}function Sr(t,i,o,u,f,h){switch(o){case"style":zu(t,u,h);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(l(60));t.innerHTML=o}}break;case"children":typeof u=="string"?di(t,u):(typeof u=="number"||typeof u=="bigint")&&di(t,""+u);break;case"onScroll":u!=null&&ge("scroll",t);break;case"onScrollEnd":u!=null&&ge("scrollend",t);break;case"onClick":u!=null&&(t.onclick=nl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mu.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),h=t[ft]||null,h=h!=null?h[o]:null,typeof h=="function"&&t.removeEventListener(i,h,f),typeof u=="function")){typeof h!="function"&&h!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(i,u,f);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):oo(t,o,u)}}}function at(t,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var u=!1,f=!1,h;for(h in o)if(o.hasOwnProperty(h)){var T=o[h];if(T!=null)switch(h){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:we(t,i,h,T,o,null)}}f&&we(t,i,"srcSet",o.srcSet,o,null),u&&we(t,i,"src",o.src,o,null);return;case"input":ge("invalid",t);var S=h=T=f=null,_=null,R=null;for(u in o)if(o.hasOwnProperty(u)){var B=o[u];if(B!=null)switch(u){case"name":f=B;break;case"type":T=B;break;case"checked":_=B;break;case"defaultChecked":R=B;break;case"value":h=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,i));break;default:we(t,i,u,B,o,null)}}Lu(t,h,S,_,R,T,f,!1),so(t);return;case"select":ge("invalid",t),u=T=h=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":h=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:we(t,i,f,S,o,null)}i=h,o=T,t.multiple=!!u,i!=null?fi(t,!!u,i,!1):o!=null&&fi(t,!!u,o,!0);return;case"textarea":ge("invalid",t),h=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":f=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:we(t,i,T,S,o,null)}Vu(t,u,f,h),so(t);return;case"option":for(_ in o)if(o.hasOwnProperty(_)&&(u=o[_],u!=null))switch(_){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:we(t,i,_,u,o,null)}return;case"dialog":ge("beforetoggle",t),ge("toggle",t),ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(u=0;u<Ga.length;u++)ge(Ga[u],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in o)if(o.hasOwnProperty(R)&&(u=o[R],u!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:we(t,i,R,u,o,null)}return;default:if(zl(i)){for(B in o)o.hasOwnProperty(B)&&(u=o[B],u!==void 0&&Sr(t,i,B,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&we(t,i,S,u,o,null))}function R0(t,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,T=null,S=null,_=null,R=null,B=null;for(U in o){var P=o[U];if(o.hasOwnProperty(U)&&P!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":_=P;default:u.hasOwnProperty(U)||we(t,i,U,null,u,P)}}for(var I in u){var U=u[I];if(P=o[I],u.hasOwnProperty(I)&&(U!=null||P!=null))switch(I){case"type":h=U;break;case"name":f=U;break;case"checked":R=U;break;case"defaultChecked":B=U;break;case"value":T=U;break;case"defaultValue":S=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,i));break;default:U!==P&&we(t,i,I,U,u,P)}}Vl(t,T,S,_,R,B,h,f);return;case"select":U=T=S=I=null;for(h in o)if(_=o[h],o.hasOwnProperty(h)&&_!=null)switch(h){case"value":break;case"multiple":U=_;default:u.hasOwnProperty(h)||we(t,i,h,null,u,_)}for(f in u)if(h=u[f],_=o[f],u.hasOwnProperty(f)&&(h!=null||_!=null))switch(f){case"value":I=h;break;case"defaultValue":S=h;break;case"multiple":T=h;default:h!==_&&we(t,i,f,h,u,_)}i=S,o=T,u=U,I!=null?fi(t,!!o,I,!1):!!u!=!!o&&(i!=null?fi(t,!!o,i,!0):fi(t,!!o,o?[]:"",!1));return;case"textarea":U=I=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:we(t,i,S,null,u,f)}for(T in u)if(f=u[T],h=o[T],u.hasOwnProperty(T)&&(f!=null||h!=null))switch(T){case"value":I=f;break;case"defaultValue":U=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(l(91));break;default:f!==h&&we(t,i,T,f,u,h)}Uu(t,I,U);return;case"option":for(var re in o)if(I=o[re],o.hasOwnProperty(re)&&I!=null&&!u.hasOwnProperty(re))switch(re){case"selected":t.selected=!1;break;default:we(t,i,re,null,u,I)}for(_ in u)if(I=u[_],U=o[_],u.hasOwnProperty(_)&&I!==U&&(I!=null||U!=null))switch(_){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:we(t,i,_,I,u,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in o)I=o[le],o.hasOwnProperty(le)&&I!=null&&!u.hasOwnProperty(le)&&we(t,i,le,null,u,I);for(R in u)if(I=u[R],U=o[R],u.hasOwnProperty(R)&&I!==U&&(I!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,i));break;default:we(t,i,R,I,u,U)}return;default:if(zl(i)){for(var Ne in o)I=o[Ne],o.hasOwnProperty(Ne)&&I!==void 0&&!u.hasOwnProperty(Ne)&&Sr(t,i,Ne,void 0,u,I);for(B in u)I=u[B],U=o[B],!u.hasOwnProperty(B)||I===U||I===void 0&&U===void 0||Sr(t,i,B,I,u,U);return}}for(var w in o)I=o[w],o.hasOwnProperty(w)&&I!=null&&!u.hasOwnProperty(w)&&we(t,i,w,null,u,I);for(P in u)I=u[P],U=o[P],!u.hasOwnProperty(P)||I===U||I==null&&U==null||we(t,i,P,I,u,U)}var br=null,_r=null;function il(t){return t.nodeType===9?t:t.ownerDocument}function zd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gd(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Er(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ar=null;function k0(){var t=window.event;return t&&t.type==="popstate"?t===Ar?!1:(Ar=t,!0):(Ar=null,!1)}var Pd=typeof setTimeout=="function"?setTimeout:void 0,D0=typeof clearTimeout=="function"?clearTimeout:void 0,qd=typeof Promise=="function"?Promise:void 0,I0=typeof queueMicrotask=="function"?queueMicrotask:typeof qd<"u"?function(t){return qd.resolve(null).then(t).catch(L0)}:Pd;function L0(t){setTimeout(function(){throw t})}function Rn(t){return t==="head"}function Hd(t,i){var o=i,u=0,f=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(0<u&&8>u){o=u;var T=t.ownerDocument;if(o&1&&qa(T.documentElement),o&2&&qa(T.body),o&4)for(o=T.head,qa(o),T=o.firstChild;T;){var S=T.nextSibling,_=T.nodeName;T[na]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=S}}if(f===0){t.removeChild(h),Xa(i);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=h}while(o);Xa(i)}function Mr(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Mr(o),Dl(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function U0(t,i,o,u){for(;t.nodeType===1;){var f=o;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[na])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=qt(t.nextSibling),t===null)break}return null}function V0(t,i,o){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=qt(t.nextSibling),t===null))return null;return t}function wr(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function B0(t,i){var o=t.ownerDocument;if(t.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function qt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Nr=null;function Fd(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return t;i--}else o==="/$"&&i++}t=t.previousSibling}return null}function Od(t,i,o){switch(i=il(o),t){case"html":if(t=i.documentElement,!t)throw Error(l(452));return t;case"head":if(t=i.head,!t)throw Error(l(453));return t;case"body":if(t=i.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function qa(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Dl(t)}var Vt=new Map,Yd=new Set;function al(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var un=O.d;O.d={f:z0,r:G0,D:P0,C:q0,L:H0,m:F0,X:Y0,S:O0,M:J0};function z0(){var t=un.f(),i=Xo();return t||i}function G0(t){var i=si(t);i!==null&&i.tag===5&&i.type==="form"?ff(i):un.r(t)}var qi=typeof document>"u"?null:document;function Jd(t,i,o){var u=qi;if(u&&typeof i=="string"&&i){var f=Nt(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Yd.has(f)||(Yd.add(f),t={rel:t,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),at(i,"link",t),Xe(i),u.head.appendChild(i)))}}function P0(t){un.D(t),Jd("dns-prefetch",t,null)}function q0(t,i){un.C(t,i),Jd("preconnect",t,i)}function H0(t,i,o){un.L(t,i,o);var u=qi;if(u&&t&&i){var f='link[rel="preload"][as="'+Nt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Nt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Nt(o.imageSizes)+'"]')):f+='[href="'+Nt(t)+'"]';var h=f;switch(i){case"style":h=Hi(t);break;case"script":h=Fi(t)}Vt.has(h)||(t=x({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:t,as:i},o),Vt.set(h,t),u.querySelector(f)!==null||i==="style"&&u.querySelector(Ha(h))||i==="script"&&u.querySelector(Fa(h))||(i=u.createElement("link"),at(i,"link",t),Xe(i),u.head.appendChild(i)))}}function F0(t,i){un.m(t,i);var o=qi;if(o&&t){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Nt(u)+'"][href="'+Nt(t)+'"]',h=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Fi(t)}if(!Vt.has(h)&&(t=x({rel:"modulepreload",href:t},i),Vt.set(h,t),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Fa(h)))return}u=o.createElement("link"),at(u,"link",t),Xe(u),o.head.appendChild(u)}}}function O0(t,i,o){un.S(t,i,o);var u=qi;if(u&&t){var f=ri(u).hoistableStyles,h=Hi(t);i=i||"default";var T=f.get(h);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(Ha(h)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},o),(o=Vt.get(h))&&Rr(t,o);var _=T=u.createElement("link");Xe(_),at(_,"link",t),_._p=new Promise(function(R,B){_.onload=R,_.onerror=B}),_.addEventListener("load",function(){S.loading|=1}),_.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ol(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(h,T)}}}function Y0(t,i){un.X(t,i);var o=qi;if(o&&t){var u=ri(o).hoistableScripts,f=Fi(t),h=u.get(f);h||(h=o.querySelector(Fa(f)),h||(t=x({src:t,async:!0},i),(i=Vt.get(f))&&kr(t,i),h=o.createElement("script"),Xe(h),at(h,"link",t),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(f,h))}}function J0(t,i){un.M(t,i);var o=qi;if(o&&t){var u=ri(o).hoistableScripts,f=Fi(t),h=u.get(f);h||(h=o.querySelector(Fa(f)),h||(t=x({src:t,async:!0,type:"module"},i),(i=Vt.get(f))&&kr(t,i),h=o.createElement("script"),Xe(h),at(h,"link",t),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(f,h))}}function Kd(t,i,o,u){var f=(f=ue.current)?al(f):null;if(!f)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Hi(o.href),o=ri(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Hi(o.href);var h=ri(f).hoistableStyles,T=h.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,T),(h=f.querySelector(Ha(t)))&&!h._p&&(T.instance=h,T.state.loading=5),Vt.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Vt.set(t,o),h||K0(f,t,o,T.state))),i&&u===null)throw Error(l(528,""));return T}if(i&&u!==null)throw Error(l(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fi(o),o=ri(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Hi(t){return'href="'+Nt(t)+'"'}function Ha(t){return'link[rel="stylesheet"]['+t+"]"}function jd(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function K0(t,i,o,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),at(i,"link",o),Xe(i),t.head.appendChild(i))}function Fi(t){return'[src="'+Nt(t)+'"]'}function Fa(t){return"script[async]"+t}function Xd(t,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+Nt(o.href)+'"]');if(u)return i.instance=u,Xe(u),u;var f=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Xe(u),at(u,"style",f),ol(u,o.precedence,t),i.instance=u;case"stylesheet":f=Hi(o.href);var h=t.querySelector(Ha(f));if(h)return i.state.loading|=4,i.instance=h,Xe(h),h;u=jd(o),(f=Vt.get(f))&&Rr(u,f),h=(t.ownerDocument||t).createElement("link"),Xe(h);var T=h;return T._p=new Promise(function(S,_){T.onload=S,T.onerror=_}),at(h,"link",u),i.state.loading|=4,ol(h,o.precedence,t),i.instance=h;case"script":return h=Fi(o.src),(f=t.querySelector(Fa(h)))?(i.instance=f,Xe(f),f):(u=o,(f=Vt.get(h))&&(u=x({},o),kr(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),Xe(f),at(f,"link",u),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,ol(u,o.precedence,t));return i.instance}function ol(t,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,h=f,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===i)h=S;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(t,i.firstChild))}function Rr(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function kr(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ll=null;function $d(t,i,o){if(ll===null){var u=new Map,f=ll=new Map;f.set(o,u)}else f=ll,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),f=0;f<o.length;f++){var h=o[f];if(!(h[na]||h[ot]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(i)||"";T=t+T;var S=u.get(T);S?S.push(h):u.set(T,[h])}}return u}function Qd(t,i,o){t=t.ownerDocument||t,t.head.insertBefore(o,i==="title"?t.querySelector("head > title"):null)}function j0(t,i,o){if(o===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Zd(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Oa=null;function X0(){}function $0(t,i,o){if(Oa===null)throw Error(l(475));var u=Oa;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Hi(o.href),h=t.querySelector(Ha(f));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=sl.bind(u),t.then(u,u)),i.state.loading|=4,i.instance=h,Xe(h);return}h=t.ownerDocument||t,o=jd(o),(f=Vt.get(f))&&Rr(o,f),h=h.createElement("link"),Xe(h);var T=h;T._p=new Promise(function(S,_){T.onload=S,T.onerror=_}),at(h,"link",o),i.instance=h}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=sl.bind(u),t.addEventListener("load",i),t.addEventListener("error",i))}}function Q0(){if(Oa===null)throw Error(l(475));var t=Oa;return t.stylesheets&&t.count===0&&Dr(t,t.stylesheets),0<t.count?function(i){var o=setTimeout(function(){if(t.stylesheets&&Dr(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o)}}:null}function sl(){if(this.count--,this.count===0){if(this.stylesheets)Dr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rl=null;function Dr(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rl=new Map,i.forEach(Z0,t),rl=null,sl.call(t))}function Z0(t,i){if(!(i.state.loading&4)){var o=rl.get(t);if(o)var u=o.get(null);else{o=new Map,rl.set(t,o);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var T=f[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=i.instance,T=f.getAttribute("data-precedence"),h=o.get(T)||u,h===u&&o.set(null,f),o.set(T,f),this.count++,u=sl.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Ya={$$typeof:J,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function W0(t,i,o,u,f,h,T,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.hiddenUpdates=wl(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Wd(t,i,o,u,f,h,T,S,_,R,B,P){return t=new W0(t,i,o,T,S,_,R,P),i=1,h===!0&&(i|=24),h=Ct(3,null,null,i),t.current=h,h.stateNode=t,i=ms(),i.refCount++,t.pooledCache=i,i.refCount++,h.memoizedState={element:u,isDehydrated:o,cache:i},ys(h),t}function em(t){return t?(t=Ti,t):Ti}function tm(t,i,o,u,f,h){f=em(f),u.context===null?u.context=f:u.pendingContext=f,u=yn(i),u.payload={element:o},h=h===void 0?null:h,h!==null&&(u.callback=h),o=vn(t,u,i),o!==null&&(At(o,t,i),Ca(o,t,i))}function nm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function Ir(t,i){nm(t,i),(t=t.alternate)&&nm(t,i)}function im(t){if(t.tag===13){var i=xi(t,67108864);i!==null&&At(i,t,67108864),Ir(t,67108864)}}var ul=!0;function ey(t,i,o,u){var f=L.T;L.T=null;var h=O.p;try{O.p=2,Lr(t,i,o,u)}finally{O.p=h,L.T=f}}function ty(t,i,o,u){var f=L.T;L.T=null;var h=O.p;try{O.p=8,Lr(t,i,o,u)}finally{O.p=h,L.T=f}}function Lr(t,i,o,u){if(ul){var f=Ur(u);if(f===null)Cr(t,i,u,cl,o),om(t,u);else if(iy(f,t,i,o,u))u.stopPropagation();else if(om(t,u),i&4&&-1<ny.indexOf(t)){for(;f!==null;){var h=si(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=Bn(h.pendingLanes);if(T!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var _=1<<31-xt(T);S.entanglements[1]|=_,T&=~_}Kt(h),(_e&6)===0&&(Ko=Ht()+500,za(0))}}break;case 13:S=xi(h,2),S!==null&&At(S,h,2),Xo(),Ir(h,2)}if(h=Ur(u),h===null&&Cr(t,i,u,cl,o),h===f)break;f=h}f!==null&&u.stopPropagation()}else Cr(t,i,u,null,o)}}function Ur(t){return t=Pl(t),Vr(t)}var cl=null;function Vr(t){if(cl=null,t=li(t),t!==null){var i=d(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=g(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return cl=t,null}function am(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qp()){case yu:return 2;case vu:return 8;case to:case Hp:return 32;case xu:return 268435456;default:return 32}default:return 32}}var Br=!1,kn=null,Dn=null,In=null,Ja=new Map,Ka=new Map,Ln=[],ny="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function om(t,i){switch(t){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Ja.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(i.pointerId)}}function ja(t,i,o,u,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:h,targetContainers:[f]},i!==null&&(i=si(i),i!==null&&im(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function iy(t,i,o,u,f){switch(i){case"focusin":return kn=ja(kn,t,i,o,u,f),!0;case"dragenter":return Dn=ja(Dn,t,i,o,u,f),!0;case"mouseover":return In=ja(In,t,i,o,u,f),!0;case"pointerover":var h=f.pointerId;return Ja.set(h,ja(Ja.get(h)||null,t,i,o,u,f)),!0;case"gotpointercapture":return h=f.pointerId,Ka.set(h,ja(Ka.get(h)||null,t,i,o,u,f)),!0}return!1}function lm(t){var i=li(t.target);if(i!==null){var o=d(i);if(o!==null){if(i=o.tag,i===13){if(i=g(o),i!==null){t.blockedOn=i,$p(t.priority,function(){if(o.tag===13){var u=Et();u=Nl(u);var f=xi(o,u);f!==null&&At(f,o,u),Ir(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fl(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=Ur(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Gl=u,o.target.dispatchEvent(u),Gl=null}else return i=si(o),i!==null&&im(i),t.blockedOn=o,!1;i.shift()}return!0}function sm(t,i,o){fl(t)&&o.delete(i)}function ay(){Br=!1,kn!==null&&fl(kn)&&(kn=null),Dn!==null&&fl(Dn)&&(Dn=null),In!==null&&fl(In)&&(In=null),Ja.forEach(sm),Ka.forEach(sm)}function dl(t,i){t.blockedOn===i&&(t.blockedOn=null,Br||(Br=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ay)))}var ml=null;function rm(t){ml!==t&&(ml=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ml===t&&(ml=null);for(var i=0;i<t.length;i+=3){var o=t[i],u=t[i+1],f=t[i+2];if(typeof u!="function"){if(Vr(u||o)===null)continue;break}var h=si(o);h!==null&&(t.splice(i,3),i-=3,Vs(h,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Xa(t){function i(_){return dl(_,t)}kn!==null&&dl(kn,t),Dn!==null&&dl(Dn,t),In!==null&&dl(In,t),Ja.forEach(i),Ka.forEach(i);for(var o=0;o<Ln.length;o++){var u=Ln[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Ln.length&&(o=Ln[0],o.blockedOn===null);)lm(o),o.blockedOn===null&&Ln.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],h=o[u+1],T=f[ft]||null;if(typeof h=="function")T||rm(o);else if(T){var S=null;if(h&&h.hasAttribute("formAction")){if(f=h,T=h[ft]||null)S=T.formAction;else if(Vr(f)!==null)continue}else S=T.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),rm(o)}}}function zr(t){this._internalRoot=t}hl.prototype.render=zr.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(l(409));var o=i.current,u=Et();tm(o,u,t,i,null,null)},hl.prototype.unmount=zr.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;tm(t.current,2,null,t,null,null),Xo(),i[oi]=null}};function hl(t){this._internalRoot=t}hl.prototype.unstable_scheduleHydration=function(t){if(t){var i=_u();t={blockedOn:null,target:t,priority:i};for(var o=0;o<Ln.length&&i!==0&&i<Ln[o].priority;o++);Ln.splice(o,0,t),o===0&&lm(t)}};var um=e.version;if(um!=="19.1.0")throw Error(l(527,um,"19.1.0"));O.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var oy={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{Wi=pl.inject(oy),vt=pl}catch{}}return Qa.createRoot=function(t,i){if(!c(t))throw Error(l(299));var o=!1,u="",f=Ef,h=Af,T=Mf,S=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=Wd(t,1,!1,null,null,o,u,f,h,T,S,null),t[oi]=i.current,Tr(t),new zr(i)},Qa.hydrateRoot=function(t,i,o){if(!c(t))throw Error(l(299));var u=!1,f="",h=Ef,T=Af,S=Mf,_=null,R=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(_=o.unstable_transitionCallbacks),o.formState!==void 0&&(R=o.formState)),i=Wd(t,1,!0,i,o??null,u,f,h,T,S,_,R),i.context=em(null),o=i.current,u=Et(),u=Nl(u),f=yn(u),f.callback=null,vn(o,f,u),o=u,i.current.lanes=o,ta(i,o),Kt(i),t[oi]=i.current,Tr(t),new hl(i)},Qa.version="19.1.0",Qa}var xm;function py(){if(xm)return qr.exports;xm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qr.exports=hy(),qr.exports}var gy=py();const yy=Zh(gy);var gt=(n=>(n[n.LANGUAGE_SELECTION=0]="LANGUAGE_SELECTION",n[n.CATEGORY_SELECTION=1]="CATEGORY_SELECTION",n[n.LOADING=2]="LOADING",n[n.GAME=3]="GAME",n[n.GAME_OVER=4]="GAME_OVER",n[n.ERROR=5]="ERROR",n))(gt||{});const Wh=Y.createContext(null),ut=()=>{const n=Y.useContext(Wh);if(!n)throw new Error("useAppContext must be used within an AppProvider");return n},ep=n=>ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n},ye.createElement("path",{fillRule:"evenodd",d:"M12.963 2.286a.75.75 0 00-1.071 1.052A9.75 9.75 0 0110.5 12c0 5.385 4.365 9.75 9.75 9.75s9.75-4.365 9.75-9.75S15.885 2.25 10.5 2.25a.75.75 0 00-1.071-.038A9.75 9.75 0 0112.963 2.286z",clipRule:"evenodd"}),ye.createElement("path",{d:"M10.719 1.234a.75.75 0 00-1.113.864 9.78 9.78 0 00-.57 2.379 7.493 7.493 0 01-4.032 4.032A9.78 9.78 0 004.234 9.08a.75.75 0 00-.864 1.113 9.75 9.75 0 0012.87 12.87.75.75 0 001.113-.864 9.78 9.78 0 00.57-2.379 7.493 7.493 0 014.032-4.032A9.78 9.78 0 0019.766 9.08a.75.75 0 00.864-1.113A9.75 9.75 0 0010.719 1.234z"})),tp=n=>ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n},ye.createElement("path",{d:"M12.378 1.602a.75.75 0 00-.756 0L3 7.252v1.037a.75.75 0 00.75.75h16.5a.75.75 0 00.75-.75V7.252L12.378 1.602zM21 10.5H3v8.25a.75.75 0 00.75.75h16.5a.75.75 0 00.75-.75V10.5z"}),ye.createElement("path",{d:"M15.47 13.91a.75.75 0 01.998.118 10.59 10.59 0 011.696 3.016.75.75 0 11-1.41.527 9.09 9.09 0 00-1.45-2.586.75.75 0 01.166-1.075zM10.63 13.91a.75.75 0 00-.166 1.075 9.09 9.09 0 001.45 2.586.75.75 0 101.41-.527 10.59 10.59 0 00-1.696-3.016.75.75 0 00-.998-.118zM5.834 13.75a.75.75 0 01.834.666 9.09 9.09 0 01.27 3.834.75.75 0 11-1.498.07 10.59 10.59 0 00-.316-4.433.75.75 0 01.71-.837z"})),vy=n=>ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n},ye.createElement("path",{fillRule:"evenodd",d:"M3.75 12a.75.75 0 01.75-.75h.75a.75.75 0 01.75.75v.75c0 .414.336.75.75.75h7.5a.75.75 0 01.75-.75v-.75a.75.75 0 01.75-.75h.75a.75.75 0 01.75.75v5.25a.75.75 0 01-.75.75h-.75a.75.75 0 01-.75-.75v-.75a.75.75 0 00-.75-.75h-7.5a.75.75 0 00-.75.75v.75a.75.75 0 01-.75.75h-.75a.75.75 0 01-.75-.75V12zm11.25-5.25a.75.75 0 00-.75-.75h-7.5a.75.75 0 00-.75.75v.75c0 .414.336.75.75.75h7.5c.414 0 .75-.336.75-.75v-.75z",clipRule:"evenodd"}),ye.createElement("path",{d:"M2.25 12c0-3.313 2.686-6 6-6h7.5c3.313 0 6 2.687 6 6v5.25c0 3.313-2.687 6-6 6H8.25c-3.314 0-6-2.687-6-6V12zM8.25 4.5a.75.75 0 01.75.75v.75a2.25 2.25 0 002.25 2.25h1.5a2.25 2.25 0 002.25-2.25v-.75a.75.75 0 011.5 0v.75a3.75 3.75 0 01-3.75 3.75h-1.5A3.75 3.75 0 016.75 6v-.75a.75.75 0 01.75-.75H8.25z"})),xy=n=>ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n},ye.createElement("path",{d:"M12 6a3.75 3.75 0 100 7.5 3.75 3.75 0 000-7.5zM10.5 16.5a1.5 1.5 0 00-1.5 1.5v.75a.75.75 0 00.75.75h4.5a.75.75 0 00.75-.75v-.75a1.5 1.5 0 00-1.5-1.5h-1.5z"}),ye.createElement("path",{fillRule:"evenodd",d:"M4.5 9.75a.75.75 0 01.75-.75h13.5a.75.75 0 010 1.5H5.25a.75.75 0 01-.75-.75zM5.25 15a.75.75 0 000 1.5h13.5a.75.75 0 000-1.5H5.25z",clipRule:"evenodd"}),ye.createElement("path",{d:"M8.25 6a3.75 3.75 0 100 7.5 3.75 3.75 0 000-7.5zM6.75 16.5a1.5 1.5 0 00-1.5 1.5v.75a.75.75 0 00.75.75h4.5a.75.75 0 00.75-.75v-.75a1.5 1.5 0 00-1.5-1.5h-1.5zM15.75 6a3.75 3.75 0 100 7.5 3.75 3.75 0 000-7.5zM14.25 16.5a1.5 1.5 0 00-1.5 1.5v.75a.75.75 0 00.75.75h4.5a.75.75 0 00.75-.75v-.75a1.5 1.5 0 00-1.5-1.5h-1.5z"})),Ty=n=>ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n},ye.createElement("path",{d:"M10.501 3.5a7.5 7.5 0 00-6.195 3.438L1.67 5.108a.75.75 0 00-1.29.908l4.02 6.963a.75.75 0 00.99.33l6.963-4.02a.75.75 0 00.33-.99L10.84 1.328a.75.75 0 00-.909-1.291l-1.83 1.057A7.48 7.48 0 0010.501 3.5zm3.84 1.157l-1.83 1.057a7.5 7.5 0 00-2.012 11.838l-1.057 1.83a.75.75 0 101.29.909l1.83-1.057a7.5 7.5 0 0011.838-2.012l1.057-1.83a.75.75 0 10-.909-1.29l-1.057 1.83a5.999 5.999 0 01-9.457-1.616l2.35-4.072a.75.75 0 00-.33-.99l-4.072-2.35a5.992 5.992 0 01-1.616-9.457l1.83 1.057a.75.75 0 10.908-1.29zM15.001 15a3.75 3.75 0 10-5.304-5.303 3.75 3.75 0 005.304 5.303z"})),Cy=n=>ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n},ye.createElement("path",{d:"M10.5 18.75a.75.75 0 000 1.5h3a.75.75 0 000-1.5h-3z"}),ye.createElement("path",{fillRule:"evenodd",d:"M8.625.75A3.375 3.375 0 005.25 4.125v15.75a3.375 3.375 0 003.375 3.375h6.75a3.375 3.375 0 003.375-3.375V4.125A3.375 3.375 0 0015.375.75h-6.75zM7.5 4.125C7.5 3.504 8.004 3 8.625 3H9.75v.375c0 .621.504 1.125 1.125 1.125h2.25c.621 0 1.125-.504 1.125-1.125V3h1.125c.621 0 1.125.504 1.125 1.125v15.75c0 .621-.504 1.125-1.125 1.125h-6.75c-.621 0-1.125-.504-1.125-1.125V4.125z",clipRule:"evenodd"})),np=n=>ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n},ye.createElement("path",{fillRule:"evenodd",d:"M4.848 2.771A49.144 49.144 0 0112 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 01-3.476.383.39.39 0 00-.297.15l-2.755 4.133a.75.75 0 01-1.248 0l-2.755-4.133a.39.39 0 00-.297-.15 48.9 48.9 0 01-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97zM6.75 8.25a.75.75 0 01.75-.75h9a.75.75 0 010 1.5h-9a.75.75 0 01-.75-.75zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H7.5z",clipRule:"evenodd"})),Sy=n=>ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n},ye.createElement("path",{fillRule:"evenodd",d:"M16.5 3.75a.75.75 0 01.75.75v14.25a.75.75 0 01-1.5 0V4.5a.75.75 0 01.75-.75z",clipRule:"evenodd"}),ye.createElement("path",{d:"M8.25 3.75H6a.75.75 0 000 1.5h2.25V19.5a.75.75 0 001.5 0V5.25A1.5 1.5 0 008.25 3.75zM12 3.75a.75.75 0 01.75.75v14.25a.75.75 0 01-1.5 0V4.5a.75.75 0 01.75-.75zM15.75 3.75a1.5 1.5 0 011.5 1.5V19.5a.75.75 0 001.5 0V5.25a3 3 0 00-3-3H4.5a3 3 0 00-3 3V19.5a.75.75 0 001.5 0V5.25a1.5 1.5 0 011.5-1.5h2.25a.75.75 0 000-1.5H4.5a3 3 0 00-3 3v14.25a.75.75 0 00.75.75h17.5a.75.75 0 00.75-.75V5.25a3 3 0 00-3-3h-2.25z"})),Tm=n=>ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n},ye.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354l-4.596 2.88c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.007z",clipRule:"evenodd"})),by=n=>ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n},ye.createElement("path",{fillRule:"evenodd",d:"M14.615 1.595a.75.75 0 01.359.852L12.982 9.75h7.268a.75.75 0 01.548 1.262l-10.5 11.25a.75.75 0 01-1.272-.71l1.992-7.301H3.75a.75.75 0 01-.548-1.262l10.5-11.25a.75.75 0 01.913-.143z",clipRule:"evenodd"})),_y=n=>ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n},ye.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0113.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 01-.297 1.206c-1.544.57-3.16.99-4.831 1.253a.75.75 0 01-.527-.265 15.63 15.63 0 01-3.423-.372 15.63 15.63 0 01-3.423.372.75.75 0 01-.527.265c-1.67-.263-3.287-.683-4.831-1.253a.75.75 0 01-.297-1.206C4.45 13.807 5.25 11.873 5.25 9.75V9zm4.502 8.9a2.25 2.25 0 104.496 0 25.057 25.057 0 01-4.496 0z",clipRule:"evenodd"})),Yr=n=>ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n},ye.createElement("path",{d:"M14.25 2.25a.75.75 0 00-1.5 0V3h-1.5V2.25a.75.75 0 00-1.5 0V3h-1.5V2.25a.75.75 0 00-1.5 0V3h-1.5a.75.75 0 000 1.5h1.5v1.5H6.75a.75.75 0 000 1.5h1.5v1.5H6.75a.75.75 0 000 1.5h1.5v1.5H6.75a.75.75 0 000 1.5h1.5v1.5H6.75a.75.75 0 000 1.5h1.5v1.5H9a.75.75 0 000 1.5h1.5v.75a.75.75 0 001.5 0v-.75h1.5v.75a.75.75 0 001.5 0v-.75h1.5a.75.75 0 000-1.5h-1.5v-1.5h1.5a.75.75 0 000-1.5h-1.5v-1.5h1.5a.75.75 0 000-1.5h-1.5v-1.5h1.5a.75.75 0 000-1.5h-1.5v-1.5h1.5a.75.75 0 000-1.5H14.25V2.25z"}),ye.createElement("path",{fillRule:"evenodd",d:"M3 8.25a.75.75 0 01.75-.75h16.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75H3.75a.75.75 0 01-.75-.75v-7.5zM4.5 9v6h15V9h-15z",clipRule:"evenodd"})),Ey=n=>ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n},ye.createElement("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.106a.75.75 0 11-1.06-1.06l1.591-1.591a.75.75 0 111.06 1.06l-1.591 1.591zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 17.834a.75.75 0 111.06-1.06l1.59-1.591a.75.75 0 111.06 1.06l-1.59 1.591a.75.75 0 01-1.06 0zM12 21.75a.75.75 0 01-.75-.75v-2.25a.75.75 0 011.5 0V21a.75.75 0 01-.75.75zM5.106 17.894a.75.75 0 111.06-1.06l1.591 1.591a.75.75 0 11-1.06 1.06l-1.591-1.59zM3 12a.75.75 0 01.75-.75h2.25a.75.75 0 010 1.5H3.75A.75.75 0 013 12zM6.166 6.166a.75.75 0 11-1.06 1.06l-1.59-1.591a.75.75 0 111.06-1.06l1.59 1.591z"})),ip=[{key:"urbanFire",icon:ep},{key:"floodResponse",icon:tp},{key:"roadAccident",icon:vy},{key:"marketplaceStampede",icon:xy}],ti=[{id:"first_game",nameKey:"ach_first_game_name",descriptionKey:"ach_first_game_desc",icon:Tm,rarity:"common"},{id:"perfect_score",nameKey:"ach_perfect_score_name",descriptionKey:"ach_perfect_score_desc",icon:Sy,rarity:"rare"},{id:"quick_thinker",nameKey:"ach_quick_thinker_name",descriptionKey:"ach_quick_thinker_desc",icon:by,rarity:"rare"},{id:"level_5",nameKey:"ach_level_5_name",descriptionKey:"ach_level_5_desc",icon:Tm,rarity:"legendary"},{id:"fire_fighter",nameKey:"ach_fire_fighter_name",descriptionKey:"ach_fire_fighter_desc",icon:ep,rarity:"common"},{id:"flood_expert",nameKey:"ach_flood_expert_name",descriptionKey:"ach_flood_expert_desc",icon:tp,rarity:"common"},{id:"comms_check",nameKey:"ach_comms_check_name",descriptionKey:"ach_comms_check_desc",icon:Ty,rarity:"common"},{id:"chat_starter",nameKey:"ach_chat_starter_name",descriptionKey:"ach_chat_starter_desc",icon:np,rarity:"common"}],Cm=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT - Abuja","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"],Vn={en:"English",ha:"Hausa",yo:"Yorùbá",ig:"Igbo",pcm:"Nigerian Pidgin"},Sm={en:{welcomeSubtitle:"Master life-saving emergency skills through immersive AI-powered simulations. Every decision builds critical safety knowledge for real-world situations.",feature1:"Realistic Emergency Simulations",feature2:"Adaptive AI Learning System",feature3:"NEMA-Approved Guidelines",feature4:"Customizable Training Timer",readyTitle:"Ready to Begin Your Safety Training?",readySubtitle:"Start with carefully designed emergency scenarios that challenge your decision-making and build confidence for real disasters.",startButton:"Start Emergency Training",chooseScenarioTitle:"Select Your Emergency Training Scenario",chooseScenarioSubtitle:"Choose from realistic disaster scenarios designed to test your emergency preparedness and decision-making skills. Each simulation adapts to your responses with AI-powered challenges.",startTrainingLink:"Start Training",backButton:"Back to Welcome",backToDashboard:"Back to Dashboard",safetyScoreLabel:"Safety Score",questionCountLabel:"Question",feedbackCorrect:"Excellent Decision!",feedbackIncorrect:"Learn & Improve",nextButton:"Continue Training",endButton:"Complete Session",gameOverComplete:"Training Session Complete!",gameOverFailed:"Training Session Incomplete",finalScoreLabel:"Your Emergency Preparedness Score",performanceAnalysisTitle:"Performance Analysis",noSummary:"No summary available.",noSummaryError:"Could not generate a performance summary at this time. Great effort, though!",tryAgainButton:"Try Again",newScenarioButton:"Choose New Scenario",loadingMission:"Generating your personalized emergency scenario...",loadingSummary:"Analyzing your performance and creating feedback...",errorTitle:"Training Temporarily Unavailable",errorUnknown:"We're experiencing technical difficulties. Please try again in a moment.",errorNextQuestion:"Unable to load the next training question. Please check your connection.",errorMissingScenario:"Training scenario could not be loaded. Please select a different scenario.",urbanFire_title:"Urban Fire Emergency",urbanFire_description:"Master fire safety protocols in dense urban environments. Learn evacuation procedures, smoke inhalation prevention, and emergency communication strategies.",floodResponse_title:"Flood Emergency Response",floodResponse_description:"Navigate life-threatening flood situations with proper safety techniques. Practice water rescue awareness, evacuation timing, and survival decision-making.",roadAccident_title:"Traffic Accident Response",roadAccident_description:"Learn essential first aid and safety protocols for road traffic accidents. Master scene safety, victim assessment, and emergency service coordination.",marketplaceStampede_title:"Crowd Control & Stampede Safety",marketplaceStampede_description:"Develop critical crowd safety awareness and emergency escape techniques. Practice situation assessment, safe movement, and panic prevention strategies.",systemInstruction:"You are an AI assistant for Nigeria's National Emergency Management Agency (NEMA). Your role is to create educational disaster preparedness game scenarios in English. Generate a question and multiple-choice answers for the given disaster type. One choice must be the safest and correct action according to NEMA guidelines. The other choices should represent common but dangerous mistakes. The choices should be concise, around 10-15 words on average, to fit the UI. Provide brief, clear feedback for each choice. The tone should be serious, educational, and supportive. Ensure the scenarios are culturally relevant to Nigeria.",summaryPrompt_start:"You are an AI assistant for NEMA. The user has just completed a training scenario. Based on their performance history, provide a brief, encouraging summary in English. Address the user directly. First, mention one thing they did well. Then, provide one key, actionable tip for improvement based on their mistakes. Keep the entire summary under 70 words. The category was:",summaryPrompt_middle:"Here is their performance history:",context_previousQuestion:"Previous question:",context_myChoice:"My choice was:",context_correct:"This was correct.",context_incorrect:"This was incorrect.",context_feedback:"The feedback I received was:",aiPoweredTraining:"AI-Powered Safety Training",changeLanguageAriaLabel:"Change language",levelLabel:"Level",xpLabel:"XP",xpEarned:"XP Earned",levelUp:"Level Up!",timerLabel:"SECONDS",timesUp:"Time's Up!",baseXp:"Completion XP",bonusXp:"Speed Bonus",totalXpEarned:"Total XP Earned",timerSettingsTitle:"Training Timer Configuration",noTimer:"Unlimited Time",commsHubTitle:"Comms Hub",broadcastsTab:"Broadcasts",messagingTab:"Messaging",checkAlertsButton:"Check for New Alerts",loadingAlerts:"Fetching latest alerts...",noAlerts:"No active alerts at this time.",alertSeverity:"Severity",alertInfo:"Information",alertWarning:"Warning",alertAlert:"ALERT",alertSources:"Sources",errorBroadcast:"Could not fetch emergency broadcasts.",messagingPlaceholder:"Select a chat to start messaging.",sendMessage:"Send",messagePlaceholder:"Type your message...",familyGroupChat:"Family Group",communityWatchChat:"Community Watch",neighborChat:"Neighbor Ade",errorChat:"Could not get a reply. Please try again.",returnToGame:"Return to Training",switchToComms:"Communications Hub",dashboardTab:"Dashboard",dashboardTitle:"Emergency Preparedness Command Center",locationPrompt:"Set your location to receive personalized safety alerts, weather warnings, and location-specific emergency guidance.",locationSetButton:"Activate Location Services",selectLocation:"Choose Your State/Region",setLocationTitle:"Configure Your Safety Zone",contextualAlertTitle:"Local Emergency Intelligence",trainingRecommendationTitle:"AI-Recommended Training Module",preparednessTipTitle:"Safety Intelligence Brief",startRecommendedTraining:"Begin Recommended Training",browseAllScenarios:"Explore All Training Scenarios",loadingDashboard:"Analyzing your location and personalizing safety content...",errorDashboard:"Unable to load personalized safety content. Please check your connection.",achievementsTab:"Achievements",achievementsTitle:"Your Achievements",lockedAchievement:"Locked",toastUnlocked:"Achievement Unlocked!",changeLocationButton:"Change",ach_first_game_name:"First Responder",ach_first_game_desc:"Complete your first training scenario.",ach_perfect_score_name:"Flawless Execution",ach_perfect_score_desc:"Achieve a 100% safety score in any scenario.",ach_quick_thinker_name:"Quick Thinker",ach_quick_thinker_desc:"Answer a question correctly with over 10 seconds remaining on the timer.",ach_level_5_name:"NEMA Veteran",ach_level_5_desc:"Reach Level 5.",ach_fire_fighter_name:"Fire Fighter",ach_fire_fighter_desc:"Successfully complete the Urban Fire scenario.",ach_flood_expert_name:"Flood Expert",ach_flood_expert_desc:"Successfully complete the Flood Response scenario.",ach_comms_check_name:"Signal Check",ach_comms_check_desc:"Check for new emergency broadcasts.",ach_chat_starter_name:"Chat Starter",ach_chat_starter_desc:"Send your first message in the comms hub."},ha:{welcomeSubtitle:"Kware wajen shirin ko-ta-kwana ta hanyar wasannin AI. Kowane shawara da ka yanke na kara maka ilimin kiyaye kai.",feature1:"Yanayi na gaske",feature2:"Kalubale daga AI",feature3:"Jagoranci daga kwararru",feature4:"Lokaci na Zabi",readyTitle:"A Shirye Ka Ke Ka Fara Horon?",readySubtitle:"Zabi daga cikin yanayin gaggawa don gwadawa da inganta dabarun shirin ko-ta-kwana.",startButton:"Fara Horon Gaggawa",chooseScenarioTitle:"Zabi Yanayin Gaggawa",chooseScenarioSubtitle:"Zabi wani mawuyacin hali don gwada dabarun amsa gaggawa. Kowane yanayi na amfani da AI don samar da kalubale na gaske.",startTrainingLink:"Fara Horo",backButton:"Koma Shafin Barka",backToDashboard:"Koma Dashboard",safetyScoreLabel:"Makin Kiyayewa",questionCountLabel:"Tambaya",feedbackCorrect:"Dai-dai!",feedbackIncorrect:"Kusan...",nextButton:"Tambaya ta Gaba",endButton:"Kammala Horo",gameOverComplete:"An Kammala Horon!",gameOverFailed:"Horon Bai Yi Nasara Ba!",finalScoreLabel:"Makin Kiyayewarka na Karshe",performanceAnalysisTitle:"Sakamakon Ayyuka",noSummary:"Babu taƙaitaccen bayani.",noSummaryError:"Ba a iya samar da taƙaitaccen aikin a yanzu ba. Amma an yi ƙoƙari sosai!",tryAgainButton:"Sake Gwada",newScenarioButton:"Zabi Sabon Yanayi",loadingMission:"Ana samar da aikin ka...",loadingSummary:"Ana nazarin aikin ka...",errorTitle:"An Samu Matsala",errorUnknown:"An samu wata matsala da ba a sani ba.",errorNextQuestion:"An kasa lodo tambaya ta gaba.",errorMissingScenario:"Bayanin yanayi ya bata.",urbanFire_title:"Kiyayewar Wuta a Birni",urbanFire_description:"Koyi yadda za a bi da hadarin wuta a cikin birni mai yawan jama'a.",floodResponse_title:"Amsa ga Ambaliya",floodResponse_description:"Yanke shawara masu muhimmanci a lokacin ambaliyar ruwa mai karfi.",roadAccident_title:"Hadarin Hanya",roadAccident_description:"Koyi hanyoyin da suka dace kuma masu aminci lokacin da ka fuskanci hadarin hanya.",marketplaceStampede_title:"Turmutsitsin Kasuwa",marketplaceStampede_description:"Nemo hanyar fita mafi aminci daga wurin jama'a da ya cika makil.",systemInstruction:"Kai mataimaki ne na AI na Hukumar Agajin Gaggawa ta Kasa (NEMA) a Najeriya. Aikinka shi ne kirkirar wasannin ilimantarwa kan shirin ko-ta-kwana a cikin harshen Hausa. Samar da tambaya da amsoshi masu zabi da yawa don nau'in bala'in da aka bayar. Dole ne amsa daya ta zama mafi aminci kuma daidai bisa ga ka'idojin NEMA. Sauran zabin su kasance kura-kurai da mutane ke yawan yi. Zabin ya zama gajere, kimanin kalmomi 10-15 a matsakaici, don dacewa da UI. Bayar da gajeren bayani mai haske ga kowane zabi. Sautin ya zama mai muhimmanci, ilimantarwa, da goyon baya. Tabbatar cewa yanayin ya dace da al'adun Najeriya.",summaryPrompt_start:"Kai mataimaki ne na AI na NEMA. Mai amfani ya kammala wani yanayin horo. Dangane da tarihin aikinsa, bayar da gajeren bayani mai karfafa gwiwa a cikin harshen Hausa. Yi magana da mai amfani kai tsaye. Da farko, ambaci abu daya da ya yi daidai. Sa'an nan, ba da shawara guda daya mai amfani don ingantawa dangane da kura-kuransa. Tsawon bayanin kada ya wuce kalmomi 70. Fannin shi ne:",summaryPrompt_middle:"Ga tarihin aikinsa:",context_previousQuestion:"Tambayar da ta gabata:",context_myChoice:"Zabi na shi ne:",context_correct:"Wannan daidai ne.",context_incorrect:"Wannan ba daidai ba ne.",context_feedback:"Ra'ayin da na samu shi ne:",aiPoweredTraining:"Horo na Tsaro da AI ke Gudanarwa",changeLanguageAriaLabel:"Canja yare",levelLabel:"Mataki",xpLabel:"XP",xpEarned:"XP da aka samu",levelUp:"An Haye Mataki!",timerLabel:"DAKIKU",timesUp:"Lokaci Ya Kure!",baseXp:"XP na Kammalawa",bonusXp:"Kyautar Sauri",totalXpEarned:"Jimillar XP da aka Samu",timerSettingsTitle:"Saitunan Lokaci",noTimer:"Babu Lokaci",commsHubTitle:"Cibiyar Sadarwa",broadcastsTab:"Sanarwa",messagingTab:"Saƙonni",checkAlertsButton:"Duba Sabbin Sanarwa",loadingAlerts:"Ana kawo sabbin sanarwa...",noAlerts:"Babu wata sanarwa a yanzu.",alertSeverity:"Tsananin",alertInfo:"Bayani",alertWarning:"Gargadi",alertAlert:"HATTARA",alertSources:"Madogara",errorBroadcast:"An kasa kawo sanarwar gaggawa.",messagingPlaceholder:"Zabi hira don fara aikawa da sako.",sendMessage:"Aika",messagePlaceholder:"Rubuta sakonka...",familyGroupChat:"Rukunin Iyali",communityWatchChat:"Rukunin Tsaro na Al'umma",neighborChat:"Maƙwabci Ade",errorChat:"An kasa samun amsa. Da fatan za a sake gwadawa.",returnToGame:"Koma Horon",switchToComms:"Cibiyar Sadarwa",dashboardTab:"Dashboard",dashboardTitle:"Dashboard ɗin Taimakon AI naka",locationPrompt:"Saita wurinka don samun faɗakarwa da shawarwari na musamman.",locationSetButton:"Saita Wuri",selectLocation:"Zaɓi Jihar Ka",setLocationTitle:"Saita Wurin Ka",contextualAlertTitle:"Faɗakarwa na Gida",trainingRecommendationTitle:"Shawara kan Horo",preparednessTipTitle:"Shawara ta Musamman",startRecommendedTraining:"Fara Horon da aka Ba da Shawara",browseAllScenarios:"Duba Dukkan Yanayi",loadingDashboard:"Ana keɓance dashboard ɗinka...",errorDashboard:"An kasa lodo abun ciki na musamman.",achievementsTab:"Nasarori",achievementsTitle:"Nasarorin Ka",lockedAchievement:"A Rufe",toastUnlocked:"An Buɗe Nasara!",changeLocationButton:"Canja",ach_first_game_name:"Mai Amsa na Farko",ach_first_game_desc:"Kammala yanayin horo na farko.",ach_perfect_score_name:"Aiki Cikakke",ach_perfect_score_desc:"Samu maki 100% a kowane yanayi.",ach_quick_thinker_name:"Mai Sauri Tunanin",ach_quick_thinker_desc:"Amsa tambaya daidai da sauran fiye da sakanni 10.",ach_level_5_name:"Tsohon Sojan NEMA",ach_level_5_desc:"Kai Mataki na 5.",ach_fire_fighter_name:"Mai Kashe Wuta",ach_fire_fighter_desc:"Kammala yanayin Wuta a Birni da nasara.",ach_flood_expert_name:"Kwararre a Ambaliya",ach_flood_expert_desc:"Kammala yanayin Amsa ga Ambaliya da nasara.",ach_comms_check_name:"Duba Sigina",ach_comms_check_desc:"Duba sabbin sanarwar gaggawa.",ach_chat_starter_name:"Mai Fara Hira",ach_chat_starter_desc:"Aika sakonka na farko a cibiyar sadarwa."},yo:{welcomeSubtitle:"Kọ bi o ṣe le mura sile fun ajalu nipasẹ awọn ere AI. Gbogbo ipinnu rẹ n ṣe okunkun imọ aabo rẹ.",feature1:"Àwọn ipò tó jọ ti gidi",feature2:"Àwọn ìpèníjà láti ọwọ́ AI",feature3:"Ìtọ́sọ́nà láti ọdọ àwọn amoye",feature4:"Àwọn aago àyànfẹ́",readyTitle:"Ṣé o Múra Láti Bẹ̀rẹ̀ Ìdánilẹ́kọ̀ọ́ Rẹ?",readySubtitle:"Yan lára àwọn ipò pajawiri tí a ṣe láti dán àwọn ọgbọ́n ìmúrasílẹ̀ rẹ wò.",startButton:"Bẹ̀rẹ̀ Ìdánilẹ́kọ̀ọ́ Pajawiri",chooseScenarioTitle:"Yan Ipo Pajawiri Rẹ",chooseScenarioSubtitle:"Yan ipò pàtàkì kan láti dán àwọn ọgbọ́n ìdáhùn pajawiri rẹ wò. AI ni ó n darí ipò kọ̀ọ̀kan.",startTrainingLink:"Bẹ̀rẹ̀ Ìdánilẹ́kọ̀ọ́",backButton:"Padà sí Ibùdó",backToDashboard:"Padà sí Dashboard",safetyScoreLabel:"Maki Aabo",questionCountLabel:"Ibeere",feedbackCorrect:"Ó Tọ́!",feedbackIncorrect:"Kò Fẹ́rẹ̀ẹ́ Tọ́...",nextButton:"Ibeere Tó Kàn",endButton:"Parí Ìdánilẹ́kọ̀ọ́",gameOverComplete:"Ìdánilẹ́kọ̀ọ́ Ti Pari!",gameOverFailed:"Ìdánilẹ́kọ̀ọ́ Kò Yọrí sí Rere!",finalScoreLabel:"Maki Aabo Rẹ Tó Gbẹ̀yìn",performanceAnalysisTitle:"Àtúnyẹ̀wò Iṣẹ́",noSummary:"Kò sí àkópọ̀.",noSummaryError:"A kò le ṣe àkópọ̀ iṣẹ́ rẹ ní àkókò yí. Ṣùgbọ́n o ṣe rere!",tryAgainButton:"Tún Gbìyànjú",newScenarioButton:"Yan Ipo Tuntun",loadingMission:"A n ṣètò iṣẹ́ rẹ...",loadingSummary:"A n ṣe àtúnyẹ̀wò iṣẹ́ rẹ...",errorTitle:"Aṣìṣe Kan Ṣẹlẹ̀",errorUnknown:"Aṣìṣe tí a kò mọ̀ kan ṣẹlẹ̀.",errorNextQuestion:"A kò le gbé ìbéèrè tó kàn jáde.",errorMissingScenario:"Àlàyé ipò kò sí.",urbanFire_title:"Aabo Iná ní Ìlú Nlá",urbanFire_description:"Kọ́ bí a ṣe lè yẹra fún ewu iná ní àyíká ìlú tó kún fọ́fọ́.",floodResponse_title:"Ìdáhùn sí Ìkún Omi",floodResponse_description:"Ṣe àwọn ìpinnu pàtàkì nígbà ìkún omi tó lágbára.",roadAccident_title:"Ìjàmbá Ọ̀nà",roadAccident_description:"Kọ́ àwọn ìlànà tó tọ́ àti àbò nígbà tí o bá bá ìjàmbá ọ̀nà pàdé.",marketplaceStampede_title:"Ìforítì ní Ọjà",marketplaceStampede_description:"Wá ọ̀nà àbò tó dára jù lọ kúrò níbi tí èrò pọ̀ sí jù.",systemInstruction:"Ìwọ ni olùrànlọ́wọ́ AI fún àjọ NEMA ní Nàìjíríà. Iṣẹ́ rẹ ni láti ṣẹ̀dá àwọn eré ìmúrasílẹ̀ fún ajalu ní èdè Yorùbá. Ṣẹ̀dá ìbéèrè kan àti àwọn ìdáhùn olówó púpọ̀ fún irú ajalu tí a fún ọ. Ìdáhùn kan gbọ́dọ̀ jẹ́ èyí tó ní àbò jù lọ gẹ́gẹ́ bí ìtọ́sọ́nà NEMA. Kí àwọn ìdáhùn yòókù jẹ́ àwọn àṣìṣe tí ó wọ́pọ̀. Àwọn ìdáhùn gbọ́dọ̀ jẹ́ kúkúrú, nǹkan bí ọ̀rọ̀ 10-15, láti bá ojú ìwòrán mu. Fún ìdáhùn kọ̀ọ̀kan ní àlàyé kúkúrú. Kí ohùn jẹ́ ọ̀rọ̀ tó ṣe pàtàkì, tó ń kọ́ni lẹ́kọ̀ọ́, àti tó ń fúnni ní ìrànlọ́wọ́. Rí i dájú pé àwọn ipò náà bá àṣà Nàìjíríà mu.",summaryPrompt_start:"��wọ ni olùrànlọ́wọ́ AI fún NEMA. Olùlò náà ti parí ìdánilẹ́kọ̀ọ́ kan. Dựa lórí iṣ���́ rẹ̀ sẹ́yìn, kọ àkópọ̀ kúkúrú kan ní èdè Yorùbá. Bá olùlò náà sọ̀rọ̀ tààrà. Kọ́kọ́ sọ ohun kan tó ṣe dáadáa. Lẹ́yìn náà, fún un ní àbá kan ṣoṣo tó wúlò láti fi mú ìlọsíwájú bá iṣẹ́ rẹ̀. Kí gbogbo àkópọ̀ náà má ju ọ̀rọ̀ 70 lọ. Ẹ̀ka náà ni:",summaryPrompt_middle:"Eyi ni ìtàn iṣẹ́ rẹ̀:",context_previousQuestion:"Ibeere iṣaaju:",context_myChoice:"Idahun mi ni:",context_correct:"Eyi tọ.",context_incorrect:"Eyi ko tọ.",context_feedback:"Esi ti mo gba ni:",aiPoweredTraining:"Ìdánilẹ́kọ̀ọ́ Aabo pẹ̀lú AI",changeLanguageAriaLabel:"Yí èdè padà",levelLabel:"Ipele",xpLabel:"XP",xpEarned:"XP tí a gbà",levelUp:"O ti Goke Ipele!",timerLabel:"ISEJU AAYA",timesUp:"Àkókò Ti Tó!",baseXp:"XP fún Ìparí",bonusXp:"Ère fún Iyára",totalXpEarned:"Àpapọ̀ XP tí a gbà",timerSettingsTitle:"Ètò Aago",noTimer:"Kò sí Aago",commsHubTitle:"Ibùdó Ìbánisọ̀rọ̀",broadcastsTab:"Ìkéde",messagingTab:"Ìránṣ���́",checkAlertsButton:"Yẹ àwọn ìkéde tuntun wò",loadingAlerts:"A n gba àwọn ìkéde tuntun...",noAlerts:"Kò sí ìkéde kankan ní àkókò yí.",alertSeverity:"Okun",alertInfo:"Ìfitónilétí",alertWarning:"Ìkìlọ̀",alertAlert:"PÀJÁWIRI",alertSources:"Orísun",errorBroadcast:"A kò le gba àwọn ìkéde pajawiri.",messagingPlaceholder:"Yan ìjíròrò kan láti bẹ̀rẹ̀ sí fi ìránṣẹ́ ránṣẹ́.",sendMessage:"Fi Ránṣẹ́",messagePlaceholder:"Tẹ ìránṣẹ́ rẹ síbí...",familyGroupChat:"Ẹgbẹ́ Ebi",communityWatchChat:"Ẹgbẹ́ Aṣọ́gbè",neighborChat:"Aládùúgbò Ade",errorChat:"A kò le gba ìdáhùn. Jọ̀wọ́ tún gbìyànjú.",returnToGame:"Padà sí Ìdánilẹ́kọ̀ọ́",switchToComms:"Ibùdó Ìbánisọ̀rọ̀",dashboardTab:"Dashboard",dashboardTitle:"Dashboard Ìrànlọ́wọ́ AI Rẹ",locationPrompt:"Ṣeto ipo rẹ fun awọn itaniji ati amọran ti ara ẹni.",locationSetButton:"Ṣeto Ipo",selectLocation:"Yan Ipinle Rẹ",setLocationTitle:"Ṣeto Ipo Rẹ",contextualAlertTitle:"Itaniji Agbegbe",trainingRecommendationTitle:"Iṣeduro Idanileko",preparednessTipTitle:"Amọran Pro",startRecommendedTraining:"Bẹrẹ Idanileko Iṣeduro",browseAllScenarios:"Wo Gbogbo Awọn oju iṣẹlẹ",loadingDashboard:"A n ṣe akanṣe dashboard rẹ...",errorDashboard:"Ko le gbe akoonu ti ara ẹni.",achievementsTab:"Awọn Aṣeyọri",achievementsTitle:"Awọn Aṣeyọri Rẹ",lockedAchievement:"Ti Nii pa",toastUnlocked:"Aṣeyọri ti ṣii!",changeLocationButton:"Yí Padà",ach_first_game_name:"Oludahun Akọkọ",ach_first_game_desc:"Pari oju iṣẹlẹ idanileko akọkọ rẹ.",ach_perfect_score_name:"Iṣe Ailabawọn",ach_perfect_score_desc:"Gba ami-ami aabo 100% ni eyikeyi oju iṣẹlẹ.",ach_quick_thinker_name:"Oniro-sare",ach_quick_thinker_desc:"Dahun ibeere kan ni pipe pẹlu diẹ sii ju awọn aaya 10 ti o ku lori aago.",ach_level_5_name:"Ogbo-ogbologboo NEMA",ach_level_5_desc:"De Ipele 5.",ach_fire_fighter_name:"Onija-ina",ach_fire_fighter_desc:"Pari oju iṣẹlẹ Ina Ilu ni aṣeyọri.",ach_flood_expert_name:"Amoye Ikun-omi",ach_flood_expert_desc:"Pari oju iṣẹlẹ Idahun si Ikun-omi ni aṣey���ri.",ach_comms_check_name:"Ayẹwo Ifihan agbara",ach_comms_check_desc:"Ṣayẹwo fun awọn ikede pajawiri tuntun.",ach_chat_starter_name:"Olupilẹṣẹ Iwiregbe",ach_chat_starter_desc:"Fi ifiranṣẹ akọkọ rẹ ranṣẹ ni ibudo ibaraẹnisọrọ."},ig:{welcomeSubtitle:"Mụta maka nkwadebe maka ọdachi site na egwuregwu AI. Mkpebi ọ bụla na-akpụzi ihe ọmụma nchekwa gị.",feature1:"Ọnọdụ dị adị",feature2:"Ihe ịma aka sitere na AI",feature3:"Nduzi sitere n'aka ndị ọkachamara",feature4:"Oge Nhọrọ",readyTitle:"Ị Dị Njikere Ịmalite Ọzụzụ Gị?",readySubtitle:"Họrọ site na ọnọdụ mberede iji nwalee ma melite nkà nkwadebe ọdachi gị.",startButton:"Malite Ọzụzụ Mberede",chooseScenarioTitle:"Họrọ Ọnọdụ Mberede Gị",chooseScenarioSubtitle:"Họrọ ọnọdụ siri ike iji nwalee nkà nzaghachi mberede gị. AI na-enye ike n'ọnọdụ ọ bụla.",startTrainingLink:"Malite Ọzụzụ",backButton:"Laghachi na Nnọọ",backToDashboard:"Laghachi na Dashboard",safetyScoreLabel:"Akara Nchekwa",questionCountLabel:"Ajụjụ",feedbackCorrect:"Ọ Dị Mma!",feedbackIncorrect:"O Teghị Aka...",nextButton:"Ajụjụ Ọzọ",endButton:"Kwụsị Ọzụzụ",gameOverComplete:"Ọzụzụ Agwụla!",gameOverFailed:"Ọz��zụ Akụọla!",finalScoreLabel:"Akara Nchekwa Ikpeazụ Gị",performanceAnalysisTitle:"Nyocha Arụmọrụ",noSummary:"Onweghị nchịkọta dị.",noSummaryError:"Enweghị ike ịmepụta nchịkọta arụmọrụ n'oge a. Mana ị gbalịrị!",tryAgainButton:"Nwaa ọzọ",newScenarioButton:"Họrọ Ọnọdụ Ọhụrụ",loadingMission:"Na-emepụta ozi gị...",loadingSummary:"Na-enyocha arụmọrụ gị...",errorTitle:"Njehie Emeela",errorUnknown:"Njehie a na-amaghị emeela.",errorNextQuestion:"Ọ dara ibu ajụjụ na-esote.",errorMissingScenario:"Data ọnọdụ na-efu.",urbanFire_title:"Nchekwa Ọkụ n'Obodo",urbanFire_description:"Mụta ka esi agabiga ihe egwu ọkụ n'ime obodo jupụtara na ndị mmadụ.",floodResponse_title:"Nzaghachi Maka Idei Mmiri",floodResponse_description:"Mee mkpebi ndị dị mkpa n'oge idei mmiri siri ike.",roadAccident_title:"Ihe Ọghọm Ụzọ",roadAccident_description:"Mụta usoro ziri ezi na nchekwa mgbe ị zutere ihe mberede okporo ụzọ.",marketplaceStampede_title:"Nzọgbu n'Ahịa",marketplaceStampede_description:"Chọta ụzọ kachasị mma isi pụọ n'ebe ọha na eze jupụtara n'ụzọ dị ize ndụ.",systemInstruction:"Ị bụ onye enyemaka AI maka National Emergency Management Agency (NEMA) nke Nigeria. Ọrụ gị bụ ịmepụta egwuregwu mmụta nkwadebe maka ọdachi n'asụsụ Igbo. Mepụta ajụjụ na azịza nhọrọ maka ụdị ọdachi enyere. Otu nhọrọ ga-abụrịrị ihe kachasị nchebe na nke ziri ezi dịka ntuziaka NEMA siri dị. Nhọrọ ndị ọzọ kwesịrị ịnọchite anya mmejọ ndị a na-emekarị ma dị ize ndụ. Nhọrọ kwesịrị ịdị nkenke, ihe dị ka okwu 10-15 na nkezi, iji dabaa na UI. Nye nzaghachi dị nkenke ma doo anya maka nhọrọ ọ bụla. Ụda olu kwesịrị ịdị njọ, mmụta, na nkwado. Gbaa mbọ hụ na ọnọdụ ndị a dabara na omenala Nigeria.",summaryPrompt_start:"Ị bụ onye enyemaka AI maka NEMA. Onye ọrụ ka gwụchara ọnọdụ ọzụzụ. Dabere na akụkọ arụmọrụ ha, nye nchịkọta dị nkenke, na-agba ume n'asụsụ Igbo. Gwa onye ọrụ okwu ozugbo. Nke mbụ, kwuo otu ihe ha mere nke ọma. Mgbe ahụ, nye otu ndụmọdụ dị mkpa maka imeziwanye dabere na mmejọ ha. Debe nchịkọta niile n'okpuru okwu 70. Otu a bụ:",summaryPrompt_middle:"Nke a bụ akụkọ arụmọrụ ha:",context_previousQuestion:"Ajụjụ gara aga:",context_myChoice:"Nhọrọ m bụ:",context_correct:"Nke a ziri ezi.",context_incorrect:"Nke a ezighi ezi.",context_feedback:"Nzaghachi m nwetara bụ:",aiPoweredTraining:"Ọzụzụ Nchekwa nke AI",changeLanguageAriaLabel:"Gbanwee asụsụ",levelLabel:"Ọkwa",xpLabel:"XP",xpEarned:"XP enwetara",levelUp:"Ị rịgoro n'ọkwa!",timerLabel:"SEKONDI",timesUp:"Oge agwụla!",baseXp:"XP Mmecha",bonusXp:"Ụgwọ ọsọ",totalXpEarned:"XP niile enwetara",timerSettingsTitle:"Ntọala Oge",noTimer:"Enweghị Oge",commsHubTitle:"Ebe Nkwukọrịta",broadcastsTab:"Mgbasa ozi",messagingTab:"Ozi",checkAlertsButton:"Lelee maka Mgbasa ozi Ọhụrụ",loadingAlerts:"Na-ebute mgbasa ozi ọhụrụ...",noAlerts:"Onweghị mgbasa ozi na-arụ ọrụ n'oge a.",alertSeverity:"Ike",alertInfo:"Ozi",alertWarning:"Ịdọ aka na ntị",alertAlert:"MBEREDE",alertSources:"Isi Iyi",errorBroadcast:"Enweghị ike ibute mgbasa ozi mberede.",messagingPlaceholder:"Họrọ nkata iji malite izi ozi.",sendMessage:"Zipu",messagePlaceholder:"Pịnye ozi gị...",familyGroupChat:"Otu Ezinụlọ",communityWatchChat:"Otu Nche Obodo",neighborChat:"Onye agbata obi Ade",errorChat:"Enweghị ike inweta azịza. Biko nwaa ọzọ.",returnToGame:"Laghachi n'Ọzụzụ",switchToComms:"Ebe Nkwukọrịta",dashboardTab:"Dashboard",dashboardTitle:"Dashboard Enyemaka AI Gị",locationPrompt:"Tọọ ebe gị maka njikere na ndụmọdụ ahaziri iche.",locationSetButton:"Tọọ Ebe",selectLocation:"Họrọ Steeti Gị",setLocationTitle:"Tọọ Ebe Gị",contextualAlertTitle:"Njikere Obodo",trainingRecommendationTitle:"Nkwado Ọzụzụ",preparednessTipTitle:"Ndụmọdụ Pro",startRecommendedTraining:"Malite Ọzụzụ A Kwadoro",browseAllScenarios:"Chọgharịa Ọnọdụ Niile",loadingDashboard:"Na-ahazi dashboard gị...",errorDashboard:"Enweghị ike ibunye ọdịnaya ahaziri iche.",achievementsTab:"Mmezu",achievementsTitle:"Mmezu Gị",lockedAchievement:"Akpọchiri",toastUnlocked:"Mmezu Akpọgheela!",changeLocationButton:"Gbanwee",ach_first_game_name:"Onye Nzaghachi Mbụ",ach_first_game_desc:"Mechaa ọnọdụ ọzụzụ mbụ gị.",ach_perfect_score_name:"Mmezu Zuru Okè",ach_perfect_score_desc:"Nweta akara nchekwa 100% n'ọnọdụ ọ bụla.",ach_quick_thinker_name:"Onye Na-eche Echiche ngwa ngwa",ach_quick_thinker_desc:"Zaa ajụjụ nke ọma na ihe karịrị sekọnd 10 fọdụrụ na oge.",ach_level_5_name:"Okenye NEMA",ach_level_5_desc:"Ruo Ọkwa 5.",ach_fire_fighter_name:"Onye Mgbanyụ ọkụ",ach_fire_fighter_desc:"Mechaa ọnọdụ ọkụ obodo nke ọma.",ach_flood_expert_name:"Ọkachamara Idei Mmiri",ach_flood_expert_desc:"Mechaa ọnọdụ nzaghachi idei mmiri nke ọma.",ach_comms_check_name:"Nyocha mgbaàmà",ach_comms_check_desc:"Lelee maka mgbasa ozi mberede ọhụrụ.",ach_chat_starter_name:"Onye mbido nkata",ach_chat_starter_desc:"Zipu ozi mbụ gị n'ebe nkwukọrịta."},pcm:{welcomeSubtitle:"Sabi how to prepare for emergency with AI-powered scenarios. Every decision you make dey shape your safety knowledge.",feature1:"Real-life situation",feature2:"AI-generated wahala",feature3:"Guidance from oga dem",feature4:"Timer na your choice",readyTitle:"You Don Ready to Begin Your Training?",readySubtitle:"Choose from emergency situations wey go test and improve your sabi on how to prepare.",startButton:"Start Emergency Training",chooseScenarioTitle:"Choose Your Emergency Situation",chooseScenarioSubtitle:"Select one critical situation to test your emergency response skills. Na AI dey power each situation to give you real-life challenges.",startTrainingLink:"Start Training",backButton:"Go Back to Welcome",backToDashboard:"Go Back to Dashboard",safetyScoreLabel:"Safety Score",questionCountLabel:"Question",feedbackCorrect:"Correct!",feedbackIncorrect:"You try...",nextButton:"Next Question",endButton:"End Training",gameOverComplete:"Training Don Complete!",gameOverFailed:"Training No Work!",finalScoreLabel:"Your Final Safety Score",performanceAnalysisTitle:"How You Perform",noSummary:"No summary for now.",noSummaryError:"We no fit generate summary for now. But you try well well!",tryAgainButton:"Try Again",newScenarioButton:"Choose New Situation",loadingMission:"Dey generate your mission...",loadingSummary:"Dey analyze how you perform...",errorTitle:"Wahala Don Happen",errorUnknown:"Unknown wahala don happen.",errorNextQuestion:"To load next question fail.",errorMissingScenario:"Information for the situation no dey.",urbanFire_title:"Urban Fire Safety",urbanFire_description:"Learn how to handle fire danger for inside city wey people plenty.",floodResponse_title:"Flood Response",floodResponse_description:"Make sharp decisions during serious and sudden flood.",roadAccident_title:"Road Accident",roadAccident_description:"Learn the correct and safe things to do when you see road accident.",marketplaceStampede_title:"Market Stampede",marketplaceStampede_description:"Find the safest way to comot from dangerously crowded public place.",systemInstruction:"You be AI assistant for Nigeria's National Emergency Management Agency (NEMA). Your work na to create educational disaster preparedness game scenarios for inside Pidgin English. Generate question and multiple-choice answers for the kind of disaster we give you. One choice must be the safest and correct action according to NEMA guidelines. The other choices suppose be common but dangerous mistakes wey people dey make. The choices suppose be short, around 10-15 words on average, to fit the UI. Give short, clear feedback for each choice. The tone suppose be serious, educational, and e go dey support person. Make sure say the scenarios relate to Nigerian culture.",summaryPrompt_start:"You be AI assistant for NEMA. The user don just complete one training scenario. Based on how dem perform, give short, encouraging summary for inside Pidgin. Address the user directly. First, mention one thing wey dem do well. Then, give one key, sharp tip for improvement based on their mistakes. Make the whole summary no pass 70 words. The category na:",summaryPrompt_middle:"See how dem take perform:",context_previousQuestion:"Previous question:",context_myChoice:"My choice na:",context_correct:"This one correct.",context_incorrect:"This one no correct.",context_feedback:"The feedback wey I get na:",aiPoweredTraining:"AI-Powered Safety Training",changeLanguageAriaLabel:"Change language",levelLabel:"Level",xpLabel:"XP",xpEarned:"XP wey you get",levelUp:"You don level up!",timerLabel:"SECONDS",timesUp:"Time don up!",baseXp:"XP for finishing",bonusXp:"Bonus for speed",totalXpEarned:"Total XP wey you get",timerSettingsTitle:"Timer Settings",noTimer:"No Timer",commsHubTitle:"Communications Hub",broadcastsTab:"Broadcasts",messagingTab:"Messaging",checkAlertsButton:"Check for New Alerts",loadingAlerts:"Dey fetch latest alerts...",noAlerts:"No active alerts for now.",alertSeverity:"Severity",alertInfo:"Information",alertWarning:"Warning",alertAlert:"ALERT",alertSources:"Sources",errorBroadcast:"We no fit fetch emergency broadcasts.",messagingPlaceholder:"Select chat to start messaging.",sendMessage:"Send",messagePlaceholder:"Type your message...",familyGroupChat:"Family Group",communityWatchChat:"Community Watch",neighborChat:"Neighbor Ade",errorChat:"We no fit get reply. Abeg try again.",returnToGame:"Return to Training",switchToComms:"Communications Hub",dashboardTab:"Dashboard",dashboardTitle:"Your AI-Assistance Dashboard",locationPrompt:"Set your location for personal alerts and tips.",locationSetButton:"Set Location",selectLocation:"Select Your State",setLocationTitle:"Set Your Location",contextualAlertTitle:"Local Alert",trainingRecommendationTitle:"Training wey we Recommend",preparednessTipTitle:"Pro Tip",startRecommendedTraining:"Start the Training wey we Recommend",browseAllScenarios:"See All Scenarios",loadingDashboard:"Dey arrange your dashboard...",errorDashboard:"We no fit load your personal content.",achievementsTab:"Achievements",achievementsTitle:"Your Achievements",lockedAchievement:"Locked",toastUnlocked:"Achievement Unlocked!",changeLocationButton:"Change",ach_first_game_name:"First Responder",ach_first_game_desc:"Complete your first training scenario.",ach_perfect_score_name:"Perfect Work",ach_perfect_score_desc:"Get 100% safety score for any scenario.",ach_quick_thinker_name:"Sharp Thinker",ach_quick_thinker_desc:"Answer question correctly with more than 10 seconds wey remain.",ach_level_5_name:"NEMA Veteran",ach_level_5_desc:"Reach Level 5.",ach_fire_fighter_name:"Fire Fighter",ach_fire_fighter_desc:"Successfully complete the Urban Fire scenario.",ach_flood_expert_name:"Flood Oga",ach_flood_expert_desc:"Successfully complete the Flood Response scenario.",ach_comms_check_name:"Signal Check",ach_comms_check_desc:"Check for new emergency broadcasts.",ach_chat_starter_name:"Chat Starter",ach_chat_starter_desc:"Send your first message for inside comms hub."}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ay,My;function wy(){return{geminiUrl:Ay,vertexUrl:My}}function Ny(n,e,a){var l,c,d;if(!(!((l=n.httpOptions)===null||l===void 0)&&l.baseUrl)){const g=wy();return n.vertexai?(c=g.vertexUrl)!==null&&c!==void 0?c:e:(d=g.geminiUrl)!==null&&d!==void 0?d:a}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ii{}function te(n,e){const a=/\{([^}]+)\}/g;return n.replace(a,(l,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const d=e[c];return d!=null?String(d):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function r(n,e,a){for(let d=0;d<e.length-1;d++){const g=e[d];if(g.endsWith("[]")){const v=g.slice(0,-2);if(!(v in n))if(Array.isArray(a))n[v]=Array.from({length:a.length},()=>({}));else throw new Error(`Value must be a list given an array path ${g}`);if(Array.isArray(n[v])){const y=n[v];if(Array.isArray(a))for(let p=0;p<y.length;p++){const x=y[p];r(x,e.slice(d+1),a[p])}else for(const p of y)r(p,e.slice(d+1),a)}return}else if(g.endsWith("[0]")){const v=g.slice(0,-3);v in n||(n[v]=[{}]);const y=n[v];r(y[0],e.slice(d+1),a);return}(!n[g]||typeof n[g]!="object")&&(n[g]={}),n=n[g]}const l=e[e.length-1],c=n[l];if(c!==void 0){if(!a||typeof a=="object"&&Object.keys(a).length===0||a===c)return;if(typeof c=="object"&&typeof a=="object"&&c!==null&&a!==null)Object.assign(c,a);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else n[l]=a}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let a=0;a<e.length;a++){if(typeof n!="object"||n===null)return;const l=e[a];if(l.endsWith("[]")){const c=l.slice(0,-2);if(c in n){const d=n[c];return Array.isArray(d)?d.map(g=>s(g,e.slice(a+1))):void 0}else return}else n=n[l]}return n}catch(a){if(a instanceof TypeError)return;throw a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(bm||(bm={}));var _m;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(_m||(_m={}));var Je;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Je||(Je={}));var Em;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Em||(Em={}));var Am;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Am||(Am={}));var Mm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Mm||(Mm={}));var wm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(wm||(wm={}));var Nm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Nm||(Nm={}));var Rm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Rm||(Rm={}));var km;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(km||(km={}));var Dm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Dm||(Dm={}));var Im;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Im||(Im={}));var Lm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Lm||(Lm={}));var Um;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Um||(Um={}));var Vm;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Vm||(Vm={}));var Bm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Bm||(Bm={}));var Sl;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Sl||(Sl={}));var zm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(zm||(zm={}));var jr;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(jr||(jr={}));var Gm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Gm||(Gm={}));var Pm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Pm||(Pm={}));var qm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(qm||(qm={}));var Hm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Hm||(Hm={}));var Fm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Fm||(Fm={}));var Om;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Om||(Om={}));var Ym;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Ym||(Ym={}));var Jm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Jm||(Jm={}));var Km;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Km||(Km={}));var jm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(jm||(jm={}));var Xm;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Xm||(Xm={}));var $m;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($m||($m={}));var Qm;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Qm||(Qm={}));var Zm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Zm||(Zm={}));var Wm;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Wm||(Wm={}));var eh;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(eh||(eh={}));var th;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(th||(th={}));var nh;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(nh||(nh={}));var ih;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(ih||(ih={}));var ah;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ah||(ah={}));var oh;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(oh||(oh={}));var lh;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(lh||(lh={}));var Ji;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ji||(Ji={}));class Xr{constructor(e){const a={};for(const l of e.headers.entries())a[l[0]]=l[1];this.headers=a,this.responseInternal=e}json(){return this.responseInternal.json()}}class Za{get text(){var e,a,l,c,d,g,v,y;if(((c=(l=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",x=!1;const C=[];for(const b of(y=(v=(g=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content)===null||v===void 0?void 0:v.parts)!==null&&y!==void 0?y:[]){for(const[M,D]of Object.entries(b))M!=="text"&&M!=="thought"&&(D!==null||D!==void 0)&&C.push(M);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;x=!0,p+=b.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?p:void 0}get data(){var e,a,l,c,d,g,v,y;if(((c=(l=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const x=[];for(const C of(y=(v=(g=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content)===null||v===void 0?void 0:v.parts)!==null&&y!==void 0?y:[]){for(const[b,M]of Object.entries(C))b!=="inlineData"&&(M!==null||M!==void 0)&&x.push(b);C.inlineData&&typeof C.inlineData.data=="string"&&(p+=atob(C.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,a,l,c,d,g,v,y;if(((c=(l=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(v=(g=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content)===null||v===void 0?void 0:v.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,a,l,c,d,g,v,y,p;if(((c=(l=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(v=(g=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content)===null||v===void 0?void 0:v.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,a,l,c,d,g,v,y,p;if(((c=(l=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(v=(g=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content)===null||v===void 0?void 0:v.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.output}}class sh{}class rh{}class Ry{}class ky{}class uh{}class ch{}class fh{}class Dy{}class dh{}class mh{}class hh{}class Iy{}class Ly{}class Uy{}class ph{}class Vy{get text(){var e,a,l;let c="",d=!1;const g=[];for(const v of(l=(a=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[y,p]of Object.entries(v))y!=="text"&&y!=="thought"&&p!==null&&g.push(y);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;d=!0,c+=v.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,a,l;let c="";const d=[];for(const g of(l=(a=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[v,y]of Object.entries(g))v!=="inlineData"&&y!==null&&d.push(v);g.inlineData&&typeof g.inlineData.data=="string"&&(c+=atob(g.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class By{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ae(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const a=e.split("/",2);return`publishers/${a[0]}/models/${a[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ap(n,e){const a=Ae(n,e);return a?a.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${a}`:a.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${a}`:a:""}function op(n){return Array.isArray(n)?n.map(e=>bl(e)):[bl(n)]}function bl(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function lp(n){const e=bl(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function sp(n){const e=bl(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gh(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function rp(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>gh(e)):[gh(n)]}function $r(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function yh(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function vh(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function rt(n){if(n==null)throw new Error("ContentUnion is required");return $r(n)?n:{role:"user",parts:rp(n)}}function up(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(a=>{const l=rt(a);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const a=rt(e);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]}return Array.isArray(e)?e.map(a=>rt(a)):[rt(e)]}function Bt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(yh(n)||vh(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[rt(n)]}const e=[],a=[],l=$r(n[0]);for(const c of n){const d=$r(c);if(d!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(c);else{if(yh(c)||vh(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");a.push(c)}}return l||e.push({role:"user",parts:rp(a)}),e}function zy(n,e){n.includes("null")&&(e.nullable=!0);const a=n.filter(l=>l!=="null");if(a.length===1)e.type=Object.values(Je).includes(a[0].toUpperCase())?a[0].toUpperCase():Je.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of a)e.anyOf.push({type:Object.values(Je).includes(l.toUpperCase())?l.toUpperCase():Je.TYPE_UNSPECIFIED})}}function Ki(n){const e={},a=["items"],l=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=n.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,n=d[1]):d[1].type==="null"&&(e.nullable=!0,n=d[0])),n.type instanceof Array&&zy(n.type,e);for(const[g,v]of Object.entries(n))if(v!=null)if(g=="type"){if(v==="null")throw new Error("type: null can not be the only possible type for the field.");if(v instanceof Array)continue;e.type=Object.values(Je).includes(v.toUpperCase())?v.toUpperCase():Je.TYPE_UNSPECIFIED}else if(a.includes(g))e[g]=Ki(v);else if(l.includes(g)){const y=[];for(const p of v){if(p.type=="null"){e.nullable=!0;continue}y.push(Ki(p))}e[g]=y}else if(c.includes(g)){const y={};for(const[p,x]of Object.entries(v))y[p]=Ki(x);e[g]=y}else{if(g==="additionalProperties")continue;e[g]=v}return e}function fu(n){return Ki(n)}function du(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function mu(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Xi(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ki(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ki(e.response));return n}function $i(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const a of n)e.push(a);return e}function Gy(n,e,a,l=1){const c=!e.startsWith(`${a}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${a}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${a}/${e}`:e:c?`${a}/${e}`:e}function cn(n,e){if(typeof e!="string")throw new Error("name must be a string");return Gy(n,e,"cachedContents")}function cp(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function fn(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}function Py(n){return n!=null&&typeof n=="object"&&"name"in n}function qy(n){return n!=null&&typeof n=="object"&&"video"in n}function Hy(n){return n!=null&&typeof n=="object"&&"uri"in n}function fp(n){var e;let a;if(Py(n)&&(a=n.name),!(Hy(n)&&(a=n.uri,a===void 0))&&!(qy(n)&&(a=(e=n.video)===null||e===void 0?void 0:e.uri,a===void 0))){if(typeof n=="string"&&(a=n),a===void 0)throw new Error("Could not extract file name from the provided input.");if(a.startsWith("https://")){const c=a.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${a}`);a=c[0]}else a.startsWith("files/")&&(a=a.split("files/")[1]);return a}}function dp(n,e){let a;return n.isVertexAI()?a=e?"publishers/google/models":"models":a=e?"models":"tunedModels",a}function mp(n){for(const e of["models","tunedModels","publisherModels"])if(Fy(n,e))return n[e];return[]}function Fy(n,e){return n!==null&&typeof n=="object"&&e in n}function Oy(n,e={}){const a=n,l={name:a.name,description:a.description,parametersJsonSchema:a.inputSchema};return e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function Yy(n,e={}){const a=[],l=new Set;for(const c of n){const d=c.name;if(l.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);l.add(d);const g=Oy(c,e);g.functionDeclarations&&a.push(...g.functionDeclarations)}return{functionDeclarations:a}}function hp(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function Jy(n){const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Qi(n,e){const a=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(a))return a.split("/").pop();throw new Error(`Invalid batch job name: ${a}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(a))return a.split("/").pop();if(/^\d+$/.test(a))return a;throw new Error(`Invalid batch job name: ${a}.`)}function pp(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ky(n){const e={},a=s(n,["fps"]);a!=null&&r(e,["fps"],a);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function jy(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=s(n,["data"]);a!=null&&r(e,["data"],a);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Xy(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function $y(n){const e={},a=s(n,["videoMetadata"]);a!=null&&r(e,["videoMetadata"],Ky(a));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],jy(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Xy(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=s(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const x=s(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function gp(n){const e={},a=s(n,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>$y(d))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function Qy(n){const e={},a=s(n,["anyOf"]);a!=null&&r(e,["anyOf"],a);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const g=s(n,["example"]);g!=null&&r(e,["example"],g);const v=s(n,["format"]);v!=null&&r(e,["format"],v);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const x=s(n,["maxLength"]);x!=null&&r(e,["maxLength"],x);const C=s(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const b=s(n,["maximum"]);b!=null&&r(e,["maximum"],b);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const D=s(n,["minLength"]);D!=null&&r(e,["minLength"],D);const k=s(n,["minProperties"]);k!=null&&r(e,["minProperties"],k);const H=s(n,["minimum"]);H!=null&&r(e,["minimum"],H);const F=s(n,["nullable"]);F!=null&&r(e,["nullable"],F);const z=s(n,["pattern"]);z!=null&&r(e,["pattern"],z);const J=s(n,["properties"]);J!=null&&r(e,["properties"],J);const K=s(n,["propertyOrdering"]);K!=null&&r(e,["propertyOrdering"],K);const V=s(n,["required"]);V!=null&&r(e,["required"],V);const Z=s(n,["title"]);Z!=null&&r(e,["title"],Z);const ne=s(n,["type"]);return ne!=null&&r(e,["type"],ne),e}function Zy(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=s(n,["category"]);a!=null&&r(e,["category"],a);const l=s(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function Wy(n){const e={},a=s(n,["behavior"]);a!=null&&r(e,["behavior"],a);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const g=s(n,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const v=s(n,["response"]);v!=null&&r(e,["response"],v);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function ev(n){const e={},a=s(n,["startTime"]);a!=null&&r(e,["startTime"],a);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function tv(n){const e={},a=s(n,["timeRangeFilter"]);return a!=null&&r(e,["timeRangeFilter"],ev(a)),e}function nv(n){const e={},a=s(n,["mode"]);a!=null&&r(e,["mode"],a);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function iv(n){const e={},a=s(n,["dynamicRetrievalConfig"]);return a!=null&&r(e,["dynamicRetrievalConfig"],nv(a)),e}function av(){return{}}function ov(n){const e={},a=s(n,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(p=>Wy(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],tv(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],iv(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],av());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function lv(n){const e={},a=s(n,["mode"]);a!=null&&r(e,["mode"],a);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function sv(n){const e={},a=s(n,["latitude"]);a!=null&&r(e,["latitude"],a);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function rv(n){const e={},a=s(n,["latLng"]);a!=null&&r(e,["latLng"],sv(a));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function uv(n){const e={},a=s(n,["functionCallingConfig"]);a!=null&&r(e,["functionCallingConfig"],lv(a));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],rv(l)),e}function cv(n){const e={},a=s(n,["voiceName"]);return a!=null&&r(e,["voiceName"],a),e}function yp(n){const e={},a=s(n,["prebuiltVoiceConfig"]);return a!=null&&r(e,["prebuiltVoiceConfig"],cv(a)),e}function fv(n){const e={},a=s(n,["speaker"]);a!=null&&r(e,["speaker"],a);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],yp(l)),e}function dv(n){const e={},a=s(n,["speakerVoiceConfigs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>fv(c))),r(e,["speakerVoiceConfigs"],l)}return e}function mv(n){const e={},a=s(n,["voiceConfig"]);a!=null&&r(e,["voiceConfig"],yp(a));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],dv(l));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function hv(n){const e={},a=s(n,["includeThoughts"]);a!=null&&r(e,["includeThoughts"],a);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function pv(n,e,a){const l={},c=s(e,["systemInstruction"]);a!==void 0&&c!=null&&r(a,["systemInstruction"],gp(rt(c)));const d=s(e,["temperature"]);d!=null&&r(l,["temperature"],d);const g=s(e,["topP"]);g!=null&&r(l,["topP"],g);const v=s(e,["topK"]);v!=null&&r(l,["topK"],v);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const x=s(e,["stopSequences"]);x!=null&&r(l,["stopSequences"],x);const C=s(e,["responseLogprobs"]);C!=null&&r(l,["responseLogprobs"],C);const b=s(e,["logprobs"]);b!=null&&r(l,["logprobs"],b);const M=s(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const D=s(e,["frequencyPenalty"]);D!=null&&r(l,["frequencyPenalty"],D);const k=s(e,["seed"]);k!=null&&r(l,["seed"],k);const H=s(e,["responseMimeType"]);H!=null&&r(l,["responseMimeType"],H);const F=s(e,["responseSchema"]);F!=null&&r(l,["responseSchema"],Qy(fu(F)));const z=s(e,["responseJsonSchema"]);if(z!=null&&r(l,["responseJsonSchema"],z),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=s(e,["safetySettings"]);if(a!==void 0&&J!=null){let ie=J;Array.isArray(ie)&&(ie=ie.map(Q=>Zy(Q))),r(a,["safetySettings"],ie)}const K=s(e,["tools"]);if(a!==void 0&&K!=null){let ie=$i(K);Array.isArray(ie)&&(ie=ie.map(Q=>ov(Xi(Q)))),r(a,["tools"],ie)}const V=s(e,["toolConfig"]);if(a!==void 0&&V!=null&&r(a,["toolConfig"],uv(V)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=s(e,["cachedContent"]);a!==void 0&&Z!=null&&r(a,["cachedContent"],cn(n,Z));const ne=s(e,["responseModalities"]);ne!=null&&r(l,["responseModalities"],ne);const de=s(e,["mediaResolution"]);de!=null&&r(l,["mediaResolution"],de);const W=s(e,["speechConfig"]);if(W!=null&&r(l,["speechConfig"],mv(du(W))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=s(e,["thinkingConfig"]);return ce!=null&&r(l,["thinkingConfig"],hv(ce)),l}function gv(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["request","model"],Ae(n,l));const c=s(e,["contents"]);if(c!=null){let g=Bt(c);Array.isArray(g)&&(g=g.map(v=>gp(v))),r(a,["request","contents"],g)}const d=s(e,["config"]);return d!=null&&r(a,["request","generationConfig"],pv(n,d,a)),a}function yv(n,e){const a={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=s(e,["fileName"]);l!=null&&r(a,["fileName"],l);const c=s(e,["inlinedRequests"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>gv(n,g))),r(a,["requests","requests"],d)}return a}function vv(n,e){const a={},l=s(n,["displayName"]);if(e!==void 0&&l!=null&&r(e,["batch","displayName"],l),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return a}function xv(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","model"],Ae(n,l));const c=s(e,["src"]);c!=null&&r(a,["batch","inputConfig"],yv(n,hp(n,c)));const d=s(e,["config"]);return d!=null&&r(a,["config"],vv(d,a)),a}function Tv(n,e){const a={},l=s(e,["name"]);l!=null&&r(a,["_url","name"],Qi(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],c),a}function Cv(n,e){const a={},l=s(e,["name"]);l!=null&&r(a,["_url","name"],Qi(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],c),a}function Sv(n,e){const a={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);if(e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return a}function bv(n){const e={},a=s(n,["config"]);return a!=null&&r(e,["config"],Sv(a,e)),e}function _v(n,e){const a={},l=s(e,["name"]);l!=null&&r(a,["_url","name"],Qi(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],c),a}function Ev(n){const e={},a=s(n,["format"]);a!=null&&r(e,["instancesFormat"],a);const l=s(n,["gcsUri"]);l!=null&&r(e,["gcsSource","uris"],l);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigquerySource","inputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Av(n){const e={},a=s(n,["format"]);a!=null&&r(e,["predictionsFormat"],a);const l=s(n,["gcsUri"]);l!=null&&r(e,["gcsDestination","outputUriPrefix"],l);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigqueryDestination","outputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function Mv(n,e){const a={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=s(n,["dest"]);return e!==void 0&&c!=null&&r(e,["outputConfig"],Av(Jy(c))),a}function wv(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["model"],Ae(n,l));const c=s(e,["src"]);c!=null&&r(a,["inputConfig"],Ev(hp(n,c)));const d=s(e,["config"]);return d!=null&&r(a,["config"],Mv(d,a)),a}function Nv(n,e){const a={},l=s(e,["name"]);l!=null&&r(a,["_url","name"],Qi(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],c),a}function Rv(n,e){const a={},l=s(e,["name"]);l!=null&&r(a,["_url","name"],Qi(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],c),a}function kv(n,e){const a={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),a}function Dv(n){const e={},a=s(n,["config"]);return a!=null&&r(e,["config"],kv(a,e)),e}function Iv(n,e){const a={},l=s(e,["name"]);l!=null&&r(a,["_url","name"],Qi(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],c),a}function vp(){return{}}function Lv(n){const e={},a=s(n,["fps"]);a!=null&&r(e,["fps"],a);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function Uv(n){const e={},a=s(n,["data"]);a!=null&&r(e,["data"],a);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Vv(n){const e={},a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Bv(n){const e={},a=s(n,["videoMetadata"]);a!=null&&r(e,["videoMetadata"],Lv(a));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],Uv(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Vv(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=s(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const x=s(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function zv(n){const e={},a=s(n,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Bv(d))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function Gv(n){const e={},a=s(n,["citationSources"]);return a!=null&&r(e,["citations"],a),e}function Pv(n){const e={},a=s(n,["retrievedUrl"]);a!=null&&r(e,["retrievedUrl"],a);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function qv(n){const e={},a=s(n,["urlMetadata"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Pv(c))),r(e,["urlMetadata"],l)}return e}function Hv(n){const e={},a=s(n,["content"]);a!=null&&r(e,["content"],zv(a));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],Gv(l));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const g=s(n,["urlContextMetadata"]);g!=null&&r(e,["urlContextMetadata"],qv(g));const v=s(n,["avgLogprobs"]);v!=null&&r(e,["avgLogprobs"],v);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const x=s(n,["logprobsResult"]);x!=null&&r(e,["logprobsResult"],x);const C=s(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function Fv(n){const e={},a=s(n,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(v=>Hv(v))),r(e,["candidates"],g)}const l=s(n,["modelVersion"]);l!=null&&r(e,["modelVersion"],l);const c=s(n,["promptFeedback"]);c!=null&&r(e,["promptFeedback"],c);const d=s(n,["usageMetadata"]);return d!=null&&r(e,["usageMetadata"],d),e}function Ov(n){const e={},a=s(n,["response"]);return a!=null&&r(e,["response"],Fv(a)),s(n,["error"])!=null&&r(e,["error"],vp()),e}function Yv(n){const e={},a=s(n,["responsesFile"]);a!=null&&r(e,["fileName"],a);const l=s(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Ov(d))),r(e,["inlinedResponses"],c)}return e}function Qr(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["metadata","displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["metadata","state"]);c!=null&&r(e,["state"],pp(c));const d=s(n,["metadata","createTime"]);d!=null&&r(e,["createTime"],d);const g=s(n,["metadata","endTime"]);g!=null&&r(e,["endTime"],g);const v=s(n,["metadata","updateTime"]);v!=null&&r(e,["updateTime"],v);const y=s(n,["metadata","model"]);y!=null&&r(e,["model"],y);const p=s(n,["metadata","output"]);return p!=null&&r(e,["dest"],Yv(p)),e}function Jv(n){const e={},a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const l=s(n,["operations"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Qr(d))),r(e,["batchJobs"],c)}return e}function Kv(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["done"]);return l!=null&&r(e,["done"],l),s(n,["error"])!=null&&r(e,["error"],vp()),e}function xp(n){const e={},a=s(n,["details"]);a!=null&&r(e,["details"],a);const l=s(n,["code"]);l!=null&&r(e,["code"],l);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function jv(n){const e={},a=s(n,["instancesFormat"]);a!=null&&r(e,["format"],a);const l=s(n,["gcsSource","uris"]);l!=null&&r(e,["gcsUri"],l);const c=s(n,["bigquerySource","inputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function Xv(n){const e={},a=s(n,["predictionsFormat"]);a!=null&&r(e,["format"],a);const l=s(n,["gcsDestination","outputUriPrefix"]);l!=null&&r(e,["gcsUri"],l);const c=s(n,["bigqueryDestination","outputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function Zr(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["state"]);c!=null&&r(e,["state"],pp(c));const d=s(n,["error"]);d!=null&&r(e,["error"],xp(d));const g=s(n,["createTime"]);g!=null&&r(e,["createTime"],g);const v=s(n,["startTime"]);v!=null&&r(e,["startTime"],v);const y=s(n,["endTime"]);y!=null&&r(e,["endTime"],y);const p=s(n,["updateTime"]);p!=null&&r(e,["updateTime"],p);const x=s(n,["model"]);x!=null&&r(e,["model"],x);const C=s(n,["inputConfig"]);C!=null&&r(e,["src"],jv(C));const b=s(n,["outputConfig"]);return b!=null&&r(e,["dest"],Xv(b)),e}function $v(n){const e={},a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const l=s(n,["batchPredictionJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Zr(d))),r(e,["batchJobs"],c)}return e}function Qv(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["done"]);l!=null&&r(e,["done"],l);const c=s(n,["error"]);return c!=null&&r(e,["error"],xp(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ni;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ni||(ni={}));class eo{constructor(e,a,l,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=a,this.init(e,l,c)}init(e,a,l){var c,d;this.nameInternal=e,this.pageInternal=a[this.nameInternal]||[],this.idxInternal=0;let g={config:{}};l?typeof l=="object"?g=Object.assign({},l):g=l:g={config:{}},g.config&&(g.config.pageToken=a.nextPageToken),this.paramsInternal=g,this.pageInternalSize=(d=(c=g.config)===null||c===void 0?void 0:c.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zv extends ii{constructor(e){super(),this.apiClient=e,this.create=async a=>{if(this.apiClient.isVertexAI()){const c=Date.now().toString();if(Array.isArray(a.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(a.config=a.config||{},a.config.displayName===void 0&&(a.config.displayName="genaiBatchJob_${timestampStr}"),a.config.dest===void 0&&typeof a.src=="string")if(a.src.startsWith("gs://")&&a.src.endsWith(".jsonl"))a.config.dest=`${a.src.slice(0,-6)}/dest`;else if(a.src.startsWith("bq://"))a.config.dest=`${a.src}_dest_${c}`;else throw new Error("Unsupported source:"+a.src)}return await this.createInternal(a)},this.list=async(a={})=>new eo(ni.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(a),a)}async createInternal(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=wv(this.apiClient,e);return v=te("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>Zr(x))}else{const p=xv(this.apiClient,e);return v=te("{model}:batchGenerateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>Qr(x))}}async get(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=Nv(this.apiClient,e);return v=te("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>Zr(x))}else{const p=Tv(this.apiClient,e);return v=te("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>Qr(x))}}async cancel(e){var a,l,c,d;let g="",v={};if(this.apiClient.isVertexAI()){const y=Rv(this.apiClient,e);g=te("batchPredictionJobs/{name}:cancel",y._url),v=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=Cv(this.apiClient,e);g=te("batches/{name}:cancel",y._url),v=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=Dv(e);return v=te("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>{const C=$v(x),b=new ph;return Object.assign(b,C),b})}else{const p=bv(e);return v=te("batches",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>{const C=Jv(x),b=new ph;return Object.assign(b,C),b})}}async delete(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=Iv(this.apiClient,e);return v=te("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>Qv(x))}else{const p=_v(this.apiClient,e);return v=te("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>Kv(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wv(n){const e={},a=s(n,["fps"]);a!=null&&r(e,["fps"],a);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function ex(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=s(n,["data"]);a!=null&&r(e,["data"],a);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function tx(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function nx(n){const e={},a=s(n,["videoMetadata"]);a!=null&&r(e,["videoMetadata"],Wv(a));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],ex(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],tx(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=s(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const x=s(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function xh(n){const e={},a=s(n,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>nx(d))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function ix(n){const e={},a=s(n,["behavior"]);a!=null&&r(e,["behavior"],a);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const g=s(n,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const v=s(n,["response"]);v!=null&&r(e,["response"],v);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function ax(n){const e={},a=s(n,["startTime"]);a!=null&&r(e,["startTime"],a);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function ox(n){const e={},a=s(n,["timeRangeFilter"]);return a!=null&&r(e,["timeRangeFilter"],ax(a)),e}function lx(n){const e={},a=s(n,["mode"]);a!=null&&r(e,["mode"],a);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function sx(n){const e={},a=s(n,["dynamicRetrievalConfig"]);return a!=null&&r(e,["dynamicRetrievalConfig"],lx(a)),e}function rx(){return{}}function ux(n){const e={},a=s(n,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(p=>ix(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],ox(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],sx(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],rx());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function cx(n){const e={},a=s(n,["mode"]);a!=null&&r(e,["mode"],a);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function fx(n){const e={},a=s(n,["latitude"]);a!=null&&r(e,["latitude"],a);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function dx(n){const e={},a=s(n,["latLng"]);a!=null&&r(e,["latLng"],fx(a));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function mx(n){const e={},a=s(n,["functionCallingConfig"]);a!=null&&r(e,["functionCallingConfig"],cx(a));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],dx(l)),e}function hx(n,e){const a={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const g=s(n,["contents"]);if(e!==void 0&&g!=null){let x=Bt(g);Array.isArray(x)&&(x=x.map(C=>xh(C))),r(e,["contents"],x)}const v=s(n,["systemInstruction"]);e!==void 0&&v!=null&&r(e,["systemInstruction"],xh(rt(v)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(C=>ux(C))),r(e,["tools"],x)}const p=s(n,["toolConfig"]);if(e!==void 0&&p!=null&&r(e,["toolConfig"],mx(p)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return a}function px(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["model"],ap(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],hx(c,a)),a}function gx(n,e){const a={},l=s(e,["name"]);l!=null&&r(a,["_url","name"],cn(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],c),a}function yx(n,e){const a={},l=s(e,["name"]);l!=null&&r(a,["_url","name"],cn(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],c),a}function vx(n,e){const a={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),a}function xx(n,e){const a={},l=s(e,["name"]);l!=null&&r(a,["_url","name"],cn(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],vx(c,a)),a}function Tx(n,e){const a={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),a}function Cx(n){const e={},a=s(n,["config"]);return a!=null&&r(e,["config"],Tx(a,e)),e}function Sx(n){const e={},a=s(n,["fps"]);a!=null&&r(e,["fps"],a);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function bx(n){const e={},a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function _x(n){const e={},a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Ex(n){const e={},a=s(n,["videoMetadata"]);a!=null&&r(e,["videoMetadata"],Sx(a));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],bx(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],_x(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=s(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const x=s(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function Th(n){const e={},a=s(n,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Ex(d))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function Ax(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=s(n,["description"]);a!=null&&r(e,["description"],a);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const v=s(n,["responseJsonSchema"]);return v!=null&&r(e,["responseJsonSchema"],v),e}function Mx(n){const e={},a=s(n,["startTime"]);a!=null&&r(e,["startTime"],a);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function wx(n){const e={},a=s(n,["timeRangeFilter"]);return a!=null&&r(e,["timeRangeFilter"],Mx(a)),e}function Nx(n){const e={},a=s(n,["mode"]);a!=null&&r(e,["mode"],a);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function Rx(n){const e={},a=s(n,["dynamicRetrievalConfig"]);return a!=null&&r(e,["dynamicRetrievalConfig"],Nx(a)),e}function kx(){return{}}function Dx(n){const e={},a=s(n,["apiKeyString"]);return a!=null&&r(e,["apiKeyString"],a),e}function Ix(n){const e={},a=s(n,["apiKeyConfig"]);a!=null&&r(e,["apiKeyConfig"],Dx(a));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const g=s(n,["oauthConfig"]);g!=null&&r(e,["oauthConfig"],g);const v=s(n,["oidcConfig"]);return v!=null&&r(e,["oidcConfig"],v),e}function Lx(n){const e={},a=s(n,["authConfig"]);return a!=null&&r(e,["authConfig"],Ix(a)),e}function Ux(){return{}}function Vx(n){const e={},a=s(n,["functionDeclarations"]);if(a!=null){let C=a;Array.isArray(C)&&(C=C.map(b=>Ax(b))),r(e,["functionDeclarations"],C)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],wx(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],Rx(d)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],kx());const v=s(n,["googleMaps"]);v!=null&&r(e,["googleMaps"],Lx(v)),s(n,["urlContext"])!=null&&r(e,["urlContext"],Ux());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const x=s(n,["computerUse"]);return x!=null&&r(e,["computerUse"],x),e}function Bx(n){const e={},a=s(n,["mode"]);a!=null&&r(e,["mode"],a);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function zx(n){const e={},a=s(n,["latitude"]);a!=null&&r(e,["latitude"],a);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function Gx(n){const e={},a=s(n,["latLng"]);a!=null&&r(e,["latLng"],zx(a));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function Px(n){const e={},a=s(n,["functionCallingConfig"]);a!=null&&r(e,["functionCallingConfig"],Bx(a));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],Gx(l)),e}function qx(n,e){const a={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const g=s(n,["contents"]);if(e!==void 0&&g!=null){let C=Bt(g);Array.isArray(C)&&(C=C.map(b=>Th(b))),r(e,["contents"],C)}const v=s(n,["systemInstruction"]);e!==void 0&&v!=null&&r(e,["systemInstruction"],Th(rt(v)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(b=>Vx(b))),r(e,["tools"],C)}const p=s(n,["toolConfig"]);e!==void 0&&p!=null&&r(e,["toolConfig"],Px(p));const x=s(n,["kmsKeyName"]);return e!==void 0&&x!=null&&r(e,["encryption_spec","kmsKeyName"],x),a}function Hx(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["model"],ap(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],qx(c,a)),a}function Fx(n,e){const a={},l=s(e,["name"]);l!=null&&r(a,["_url","name"],cn(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],c),a}function Ox(n,e){const a={},l=s(e,["name"]);l!=null&&r(a,["_url","name"],cn(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],c),a}function Yx(n,e){const a={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),a}function Jx(n,e){const a={},l=s(e,["name"]);l!=null&&r(a,["_url","name"],cn(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],Yx(c,a)),a}function Kx(n,e){const a={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),a}function jx(n){const e={},a=s(n,["config"]);return a!=null&&r(e,["config"],Kx(a,e)),e}function xl(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const g=s(n,["updateTime"]);g!=null&&r(e,["updateTime"],g);const v=s(n,["expireTime"]);v!=null&&r(e,["expireTime"],v);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function Xx(){return{}}function $x(n){const e={},a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const l=s(n,["cachedContents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>xl(d))),r(e,["cachedContents"],c)}return e}function Tl(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const g=s(n,["updateTime"]);g!=null&&r(e,["updateTime"],g);const v=s(n,["expireTime"]);v!=null&&r(e,["expireTime"],v);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function Qx(){return{}}function Zx(n){const e={},a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const l=s(n,["cachedContents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Tl(d))),r(e,["cachedContents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wx extends ii{constructor(e){super(),this.apiClient=e,this.list=async(a={})=>new eo(ni.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(a),a)}async create(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=Hx(this.apiClient,e);return v=te("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>Tl(x))}else{const p=px(this.apiClient,e);return v=te("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>xl(x))}}async get(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=Fx(this.apiClient,e);return v=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>Tl(x))}else{const p=gx(this.apiClient,e);return v=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>xl(x))}}async delete(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=Ox(this.apiClient,e);return v=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(()=>{const x=Qx(),C=new mh;return Object.assign(C,x),C})}else{const p=yx(this.apiClient,e);return v=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(()=>{const x=Xx(),C=new mh;return Object.assign(C,x),C})}}async update(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=Jx(this.apiClient,e);return v=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>Tl(x))}else{const p=xx(this.apiClient,e);return v=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>xl(x))}}async listInternal(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=jx(e);return v=te("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>{const C=Zx(x),b=new hh;return Object.assign(b,C),b})}else{const p=Cx(e);return v=te("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>{const C=$x(x),b=new hh;return Object.assign(b,C),b})}}}function Ch(n){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&n[e],l=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Le(n){return this instanceof Le?(this.v=n,this):new Le(n)}function ji(n,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=a.apply(n,e||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),v("next"),v("throw"),v("return",g),c[Symbol.asyncIterator]=function(){return this},c;function g(M){return function(D){return Promise.resolve(D).then(M,C)}}function v(M,D){l[M]&&(c[M]=function(k){return new Promise(function(H,F){d.push([M,k,H,F])>1||y(M,k)})},D&&(c[M]=D(c[M])))}function y(M,D){try{p(l[M](D))}catch(k){b(d[0][3],k)}}function p(M){M.value instanceof Le?Promise.resolve(M.value.v).then(x,C):b(d[0][2],M)}function x(M){y("next",M)}function C(M){y("throw",M)}function b(M,D){M(D),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Wa(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],a;return e?e.call(n):(n=typeof Ch=="function"?Ch(n):n[Symbol.iterator](),a={},l("next"),l("throw"),l("return"),a[Symbol.asyncIterator]=function(){return this},a);function l(d){a[d]=n[d]&&function(g){return new Promise(function(v,y){g=n[d](g),c(v,y,g.done,g.value)})}}function c(d,g,v,y){Promise.resolve(y).then(function(p){d({value:p,done:v})},g)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eT(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const a=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return a===void 0?!1:Tp(a)}function Tp(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function tT(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Sh(n){if(n===void 0||n.length===0)return[];const e=[],a=n.length;let l=0;for(;l<a;)if(n[l].role==="user")e.push(n[l]),l++;else{const c=[];let d=!0;for(;l<a&&n[l].role==="model";)c.push(n[l]),d&&!Tp(n[l])&&(d=!1),l++;d?e.push(...c):e.pop()}return e}class nT{constructor(e,a){this.modelsModule=e,this.apiClient=a}create(e){return new iT(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class iT{constructor(e,a,l,c={},d=[]){this.apiClient=e,this.modelsModule=a,this.model=l,this.config=c,this.history=d,this.sendPromise=Promise.resolve(),tT(d)}async sendMessage(e){var a;await this.sendPromise;const l=rt(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(a=e.config)!==null&&a!==void 0?a:this.config});return this.sendPromise=(async()=>{var d,g,v;const y=await c,p=(g=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content,x=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let b=[];x!=null&&(b=(v=x.slice(C))!==null&&v!==void 0?v:[]);const M=p?[p]:[];this.recordHistory(l,M,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var a;await this.sendPromise;const l=rt(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(a=e.config)!==null&&a!==void 0?a:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const d=await c;return this.processStreamResponse(d,l)}getHistory(e=!1){const a=e?Sh(this.history):this.history;return structuredClone(a)}processStreamResponse(e,a){var l,c;return ji(this,arguments,function*(){var g,v,y,p;const x=[];try{for(var C=!0,b=Wa(e),M;M=yield Le(b.next()),g=M.done,!g;C=!0){p=M.value,C=!1;const D=p;if(eT(D)){const k=(c=(l=D.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;k!==void 0&&x.push(k)}yield yield Le(D)}}catch(D){v={error:D}}finally{try{!C&&!g&&(y=b.return)&&(yield Le(y.call(b)))}finally{if(v)throw v.error}}this.recordHistory(a,x)})}recordHistory(e,a,l){let c=[];a.length>0&&a.every(d=>d.role!==void 0)?c=a:c.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...Sh(l)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _l extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,_l.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aT(n,e){const a={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),a}function oT(n){const e={},a=s(n,["config"]);return a!=null&&r(e,["config"],aT(a,e)),e}function lT(n){const e={},a=s(n,["details"]);a!=null&&r(e,["details"],a);const l=s(n,["message"]);l!=null&&r(e,["message"],l);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function sT(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const g=s(n,["createTime"]);g!=null&&r(e,["createTime"],g);const v=s(n,["expirationTime"]);v!=null&&r(e,["expirationTime"],v);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const x=s(n,["uri"]);x!=null&&r(e,["uri"],x);const C=s(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const b=s(n,["state"]);b!=null&&r(e,["state"],b);const M=s(n,["source"]);M!=null&&r(e,["source"],M);const D=s(n,["videoMetadata"]);D!=null&&r(e,["videoMetadata"],D);const k=s(n,["error"]);return k!=null&&r(e,["error"],lT(k)),e}function rT(n){const e={},a=s(n,["file"]);a!=null&&r(e,["file"],sT(a));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function uT(n){const e={},a=s(n,["name"]);a!=null&&r(e,["_url","file"],fp(a));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function cT(n){const e={},a=s(n,["name"]);a!=null&&r(e,["_url","file"],fp(a));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function fT(n){const e={},a=s(n,["details"]);a!=null&&r(e,["details"],a);const l=s(n,["message"]);l!=null&&r(e,["message"],l);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function Wr(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const g=s(n,["createTime"]);g!=null&&r(e,["createTime"],g);const v=s(n,["expirationTime"]);v!=null&&r(e,["expirationTime"],v);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const x=s(n,["uri"]);x!=null&&r(e,["uri"],x);const C=s(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const b=s(n,["state"]);b!=null&&r(e,["state"],b);const M=s(n,["source"]);M!=null&&r(e,["source"],M);const D=s(n,["videoMetadata"]);D!=null&&r(e,["videoMetadata"],D);const k=s(n,["error"]);return k!=null&&r(e,["error"],fT(k)),e}function dT(n){const e={},a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const l=s(n,["files"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Wr(d))),r(e,["files"],c)}return e}function mT(){return{}}function hT(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pT extends ii{constructor(e){super(),this.apiClient=e,this.list=async(a={})=>new eo(ni.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(a),a)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(a=>Wr(a))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var a,l;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=oT(e);return d=te("files",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const p=dT(y),x=new Iy;return Object.assign(x,p),x})}}async createInternal(e){var a,l;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=rT(e);return d=te("upload/v1beta/files",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(()=>{const y=mT(),p=new Ly;return Object.assign(p,y),p})}}async get(e){var a,l;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=uT(e);return d=te("files/{file}",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Wr(y))}}async delete(e){var a,l;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=cT(e);return d=te("files/{file}",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(()=>{const y=hT(),p=new Uy;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gT(n){const e={},a=s(n,["voiceName"]);return a!=null&&r(e,["voiceName"],a),e}function yT(n){const e={},a=s(n,["voiceName"]);return a!=null&&r(e,["voiceName"],a),e}function Cp(n){const e={},a=s(n,["prebuiltVoiceConfig"]);return a!=null&&r(e,["prebuiltVoiceConfig"],gT(a)),e}function vT(n){const e={},a=s(n,["prebuiltVoiceConfig"]);return a!=null&&r(e,["prebuiltVoiceConfig"],yT(a)),e}function xT(n){const e={},a=s(n,["speaker"]);a!=null&&r(e,["speaker"],a);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Cp(l)),e}function TT(n){const e={},a=s(n,["speakerVoiceConfigs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>xT(c))),r(e,["speakerVoiceConfigs"],l)}return e}function CT(n){const e={},a=s(n,["voiceConfig"]);a!=null&&r(e,["voiceConfig"],Cp(a));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],TT(l));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function ST(n){const e={},a=s(n,["voiceConfig"]);if(a!=null&&r(e,["voiceConfig"],vT(a)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function bT(n){const e={},a=s(n,["fps"]);a!=null&&r(e,["fps"],a);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function _T(n){const e={},a=s(n,["fps"]);a!=null&&r(e,["fps"],a);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function ET(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=s(n,["data"]);a!=null&&r(e,["data"],a);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function AT(n){const e={},a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function MT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function wT(n){const e={},a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function NT(n){const e={},a=s(n,["videoMetadata"]);a!=null&&r(e,["videoMetadata"],bT(a));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],ET(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],MT(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=s(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const x=s(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function RT(n){const e={},a=s(n,["videoMetadata"]);a!=null&&r(e,["videoMetadata"],_T(a));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],AT(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],wT(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=s(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const x=s(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function kT(n){const e={},a=s(n,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>NT(d))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function DT(n){const e={},a=s(n,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>RT(d))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function IT(n){const e={},a=s(n,["behavior"]);a!=null&&r(e,["behavior"],a);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const g=s(n,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const v=s(n,["response"]);v!=null&&r(e,["response"],v);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function LT(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=s(n,["description"]);a!=null&&r(e,["description"],a);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const v=s(n,["responseJsonSchema"]);return v!=null&&r(e,["responseJsonSchema"],v),e}function UT(n){const e={},a=s(n,["startTime"]);a!=null&&r(e,["startTime"],a);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function VT(n){const e={},a=s(n,["startTime"]);a!=null&&r(e,["startTime"],a);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function BT(n){const e={},a=s(n,["timeRangeFilter"]);return a!=null&&r(e,["timeRangeFilter"],UT(a)),e}function zT(n){const e={},a=s(n,["timeRangeFilter"]);return a!=null&&r(e,["timeRangeFilter"],VT(a)),e}function GT(n){const e={},a=s(n,["mode"]);a!=null&&r(e,["mode"],a);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function PT(n){const e={},a=s(n,["mode"]);a!=null&&r(e,["mode"],a);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function qT(n){const e={},a=s(n,["dynamicRetrievalConfig"]);return a!=null&&r(e,["dynamicRetrievalConfig"],GT(a)),e}function HT(n){const e={},a=s(n,["dynamicRetrievalConfig"]);return a!=null&&r(e,["dynamicRetrievalConfig"],PT(a)),e}function FT(){return{}}function OT(n){const e={},a=s(n,["apiKeyString"]);return a!=null&&r(e,["apiKeyString"],a),e}function YT(n){const e={},a=s(n,["apiKeyConfig"]);a!=null&&r(e,["apiKeyConfig"],OT(a));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const g=s(n,["oauthConfig"]);g!=null&&r(e,["oauthConfig"],g);const v=s(n,["oidcConfig"]);return v!=null&&r(e,["oidcConfig"],v),e}function JT(n){const e={},a=s(n,["authConfig"]);return a!=null&&r(e,["authConfig"],YT(a)),e}function KT(){return{}}function jT(){return{}}function XT(n){const e={},a=s(n,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(p=>IT(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],BT(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],qT(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],KT());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function $T(n){const e={},a=s(n,["functionDeclarations"]);if(a!=null){let C=a;Array.isArray(C)&&(C=C.map(b=>LT(b))),r(e,["functionDeclarations"],C)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],zT(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],HT(d)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],FT());const v=s(n,["googleMaps"]);v!=null&&r(e,["googleMaps"],JT(v)),s(n,["urlContext"])!=null&&r(e,["urlContext"],jT());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const x=s(n,["computerUse"]);return x!=null&&r(e,["computerUse"],x),e}function QT(n){const e={},a=s(n,["handle"]);if(a!=null&&r(e,["handle"],a),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ZT(n){const e={},a=s(n,["handle"]);a!=null&&r(e,["handle"],a);const l=s(n,["transparent"]);return l!=null&&r(e,["transparent"],l),e}function bh(){return{}}function _h(){return{}}function WT(n){const e={},a=s(n,["disabled"]);a!=null&&r(e,["disabled"],a);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const g=s(n,["silenceDurationMs"]);return g!=null&&r(e,["silenceDurationMs"],g),e}function e1(n){const e={},a=s(n,["disabled"]);a!=null&&r(e,["disabled"],a);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const g=s(n,["silenceDurationMs"]);return g!=null&&r(e,["silenceDurationMs"],g),e}function t1(n){const e={},a=s(n,["automaticActivityDetection"]);a!=null&&r(e,["automaticActivityDetection"],WT(a));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function n1(n){const e={},a=s(n,["automaticActivityDetection"]);a!=null&&r(e,["automaticActivityDetection"],e1(a));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function i1(n){const e={},a=s(n,["targetTokens"]);return a!=null&&r(e,["targetTokens"],a),e}function a1(n){const e={},a=s(n,["targetTokens"]);return a!=null&&r(e,["targetTokens"],a),e}function o1(n){const e={},a=s(n,["triggerTokens"]);a!=null&&r(e,["triggerTokens"],a);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],i1(l)),e}function l1(n){const e={},a=s(n,["triggerTokens"]);a!=null&&r(e,["triggerTokens"],a);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],a1(l)),e}function s1(n){const e={},a=s(n,["proactiveAudio"]);return a!=null&&r(e,["proactiveAudio"],a),e}function r1(n){const e={},a=s(n,["proactiveAudio"]);return a!=null&&r(e,["proactiveAudio"],a),e}function u1(n,e){const a={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const g=s(n,["topP"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topP"],g);const v=s(n,["topK"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","topK"],v);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const x=s(n,["seed"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","seed"],x);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],CT(mu(C)));const b=s(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],b);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],kT(rt(M)));const D=s(n,["tools"]);if(e!==void 0&&D!=null){let V=$i(D);Array.isArray(V)&&(V=V.map(Z=>XT(Xi(Z)))),r(e,["setup","tools"],V)}const k=s(n,["sessionResumption"]);e!==void 0&&k!=null&&r(e,["setup","sessionResumption"],QT(k));const H=s(n,["inputAudioTranscription"]);e!==void 0&&H!=null&&r(e,["setup","inputAudioTranscription"],bh());const F=s(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&r(e,["setup","outputAudioTranscription"],bh());const z=s(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&r(e,["setup","realtimeInputConfig"],t1(z));const J=s(n,["contextWindowCompression"]);e!==void 0&&J!=null&&r(e,["setup","contextWindowCompression"],o1(J));const K=s(n,["proactivity"]);return e!==void 0&&K!=null&&r(e,["setup","proactivity"],s1(K)),a}function c1(n,e){const a={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const g=s(n,["topP"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topP"],g);const v=s(n,["topK"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","topK"],v);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const x=s(n,["seed"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","seed"],x);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],ST(mu(C)));const b=s(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],b);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],DT(rt(M)));const D=s(n,["tools"]);if(e!==void 0&&D!=null){let V=$i(D);Array.isArray(V)&&(V=V.map(Z=>$T(Xi(Z)))),r(e,["setup","tools"],V)}const k=s(n,["sessionResumption"]);e!==void 0&&k!=null&&r(e,["setup","sessionResumption"],ZT(k));const H=s(n,["inputAudioTranscription"]);e!==void 0&&H!=null&&r(e,["setup","inputAudioTranscription"],_h());const F=s(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&r(e,["setup","outputAudioTranscription"],_h());const z=s(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&r(e,["setup","realtimeInputConfig"],n1(z));const J=s(n,["contextWindowCompression"]);e!==void 0&&J!=null&&r(e,["setup","contextWindowCompression"],l1(J));const K=s(n,["proactivity"]);return e!==void 0&&K!=null&&r(e,["setup","proactivity"],r1(K)),a}function f1(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["setup","model"],Ae(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],u1(c,a)),a}function d1(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["setup","model"],Ae(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],c1(c,a)),a}function m1(){return{}}function h1(){return{}}function p1(){return{}}function g1(){return{}}function y1(n){const e={},a=s(n,["media"]);a!=null&&r(e,["mediaChunks"],op(a));const l=s(n,["audio"]);l!=null&&r(e,["audio"],sp(l));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&r(e,["video"],lp(d));const g=s(n,["text"]);return g!=null&&r(e,["text"],g),s(n,["activityStart"])!=null&&r(e,["activityStart"],m1()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],p1()),e}function v1(n){const e={},a=s(n,["media"]);a!=null&&r(e,["mediaChunks"],op(a));const l=s(n,["audio"]);l!=null&&r(e,["audio"],sp(l));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&r(e,["video"],lp(d));const g=s(n,["text"]);return g!=null&&r(e,["text"],g),s(n,["activityStart"])!=null&&r(e,["activityStart"],h1()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],g1()),e}function Sp(n){const e={},a=s(n,["text"]);a!=null&&r(e,["text"],a);const l=s(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function x1(n){const e={},a=s(n,["weightedPrompts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Sp(c))),r(e,["weightedPrompts"],l)}return e}function bp(n){const e={},a=s(n,["temperature"]);a!=null&&r(e,["temperature"],a);const l=s(n,["topK"]);l!=null&&r(e,["topK"],l);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const g=s(n,["bpm"]);g!=null&&r(e,["bpm"],g);const v=s(n,["density"]);v!=null&&r(e,["density"],v);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=s(n,["scale"]);p!=null&&r(e,["scale"],p);const x=s(n,["muteBass"]);x!=null&&r(e,["muteBass"],x);const C=s(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const b=s(n,["onlyBassAndDrums"]);return b!=null&&r(e,["onlyBassAndDrums"],b),e}function T1(n){const e={},a=s(n,["musicGenerationConfig"]);return a!=null&&r(e,["musicGenerationConfig"],bp(a)),e}function _p(n){const e={},a=s(n,["model"]);return a!=null&&r(e,["model"],a),e}function Ep(n){const e={},a=s(n,["weightedPrompts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Sp(c))),r(e,["weightedPrompts"],l)}return e}function eu(n){const e={},a=s(n,["setup"]);a!=null&&r(e,["setup"],_p(a));const l=s(n,["clientContent"]);l!=null&&r(e,["clientContent"],Ep(l));const c=s(n,["musicGenerationConfig"]);c!=null&&r(e,["musicGenerationConfig"],bp(c));const d=s(n,["playbackControl"]);return d!=null&&r(e,["playbackControl"],d),e}function C1(){return{}}function S1(n){const e={},a=s(n,["sessionId"]);return a!=null&&r(e,["sessionId"],a),e}function b1(n){const e={},a=s(n,["fps"]);a!=null&&r(e,["fps"],a);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function _1(n){const e={},a=s(n,["fps"]);a!=null&&r(e,["fps"],a);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function E1(n){const e={},a=s(n,["data"]);a!=null&&r(e,["data"],a);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function A1(n){const e={},a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function M1(n){const e={},a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function w1(n){const e={},a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function N1(n){const e={},a=s(n,["videoMetadata"]);a!=null&&r(e,["videoMetadata"],b1(a));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],E1(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],M1(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=s(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const x=s(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function R1(n){const e={},a=s(n,["videoMetadata"]);a!=null&&r(e,["videoMetadata"],_1(a));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],A1(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],w1(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=s(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const x=s(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function k1(n){const e={},a=s(n,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>N1(d))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function D1(n){const e={},a=s(n,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>R1(d))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function Eh(n){const e={},a=s(n,["text"]);a!=null&&r(e,["text"],a);const l=s(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function Ah(n){const e={},a=s(n,["text"]);a!=null&&r(e,["text"],a);const l=s(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function I1(n){const e={},a=s(n,["retrievedUrl"]);a!=null&&r(e,["retrievedUrl"],a);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function L1(n){const e={},a=s(n,["urlMetadata"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>I1(c))),r(e,["urlMetadata"],l)}return e}function U1(n){const e={},a=s(n,["modelTurn"]);a!=null&&r(e,["modelTurn"],k1(a));const l=s(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const g=s(n,["generationComplete"]);g!=null&&r(e,["generationComplete"],g);const v=s(n,["inputTranscription"]);v!=null&&r(e,["inputTranscription"],Eh(v));const y=s(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],Eh(y));const p=s(n,["urlContextMetadata"]);return p!=null&&r(e,["urlContextMetadata"],L1(p)),e}function V1(n){const e={},a=s(n,["modelTurn"]);a!=null&&r(e,["modelTurn"],D1(a));const l=s(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const g=s(n,["generationComplete"]);g!=null&&r(e,["generationComplete"],g);const v=s(n,["inputTranscription"]);v!=null&&r(e,["inputTranscription"],Ah(v));const y=s(n,["outputTranscription"]);return y!=null&&r(e,["outputTranscription"],Ah(y)),e}function B1(n){const e={},a=s(n,["id"]);a!=null&&r(e,["id"],a);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function z1(n){const e={},a=s(n,["args"]);a!=null&&r(e,["args"],a);const l=s(n,["name"]);return l!=null&&r(e,["name"],l),e}function G1(n){const e={},a=s(n,["functionCalls"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>B1(c))),r(e,["functionCalls"],l)}return e}function P1(n){const e={},a=s(n,["functionCalls"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>z1(c))),r(e,["functionCalls"],l)}return e}function q1(n){const e={},a=s(n,["ids"]);return a!=null&&r(e,["ids"],a),e}function H1(n){const e={},a=s(n,["ids"]);return a!=null&&r(e,["ids"],a),e}function gl(n){const e={},a=s(n,["modality"]);a!=null&&r(e,["modality"],a);const l=s(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function yl(n){const e={},a=s(n,["modality"]);a!=null&&r(e,["modality"],a);const l=s(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function F1(n){const e={},a=s(n,["promptTokenCount"]);a!=null&&r(e,["promptTokenCount"],a);const l=s(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const c=s(n,["responseTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const g=s(n,["thoughtsTokenCount"]);g!=null&&r(e,["thoughtsTokenCount"],g);const v=s(n,["totalTokenCount"]);v!=null&&r(e,["totalTokenCount"],v);const y=s(n,["promptTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(M=>gl(M))),r(e,["promptTokensDetails"],b)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(M=>gl(M))),r(e,["cacheTokensDetails"],b)}const x=s(n,["responseTokensDetails"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(M=>gl(M))),r(e,["responseTokensDetails"],b)}const C=s(n,["toolUsePromptTokensDetails"]);if(C!=null){let b=C;Array.isArray(b)&&(b=b.map(M=>gl(M))),r(e,["toolUsePromptTokensDetails"],b)}return e}function O1(n){const e={},a=s(n,["promptTokenCount"]);a!=null&&r(e,["promptTokenCount"],a);const l=s(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const c=s(n,["candidatesTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const g=s(n,["thoughtsTokenCount"]);g!=null&&r(e,["thoughtsTokenCount"],g);const v=s(n,["totalTokenCount"]);v!=null&&r(e,["totalTokenCount"],v);const y=s(n,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(D=>yl(D))),r(e,["promptTokensDetails"],M)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let M=p;Array.isArray(M)&&(M=M.map(D=>yl(D))),r(e,["cacheTokensDetails"],M)}const x=s(n,["candidatesTokensDetails"]);if(x!=null){let M=x;Array.isArray(M)&&(M=M.map(D=>yl(D))),r(e,["responseTokensDetails"],M)}const C=s(n,["toolUsePromptTokensDetails"]);if(C!=null){let M=C;Array.isArray(M)&&(M=M.map(D=>yl(D))),r(e,["toolUsePromptTokensDetails"],M)}const b=s(n,["trafficType"]);return b!=null&&r(e,["trafficType"],b),e}function Y1(n){const e={},a=s(n,["timeLeft"]);return a!=null&&r(e,["timeLeft"],a),e}function J1(n){const e={},a=s(n,["timeLeft"]);return a!=null&&r(e,["timeLeft"],a),e}function K1(n){const e={},a=s(n,["newHandle"]);a!=null&&r(e,["newHandle"],a);const l=s(n,["resumable"]);l!=null&&r(e,["resumable"],l);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function j1(n){const e={},a=s(n,["newHandle"]);a!=null&&r(e,["newHandle"],a);const l=s(n,["resumable"]);l!=null&&r(e,["resumable"],l);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function X1(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],C1());const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],U1(l));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],G1(c));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],q1(d));const g=s(n,["usageMetadata"]);g!=null&&r(e,["usageMetadata"],F1(g));const v=s(n,["goAway"]);v!=null&&r(e,["goAway"],Y1(v));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],K1(y)),e}function $1(n){const e={},a=s(n,["setupComplete"]);a!=null&&r(e,["setupComplete"],S1(a));const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],V1(l));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],P1(c));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],H1(d));const g=s(n,["usageMetadata"]);g!=null&&r(e,["usageMetadata"],O1(g));const v=s(n,["goAway"]);v!=null&&r(e,["goAway"],J1(v));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],j1(y)),e}function Q1(){return{}}function Z1(n){const e={},a=s(n,["text"]);a!=null&&r(e,["text"],a);const l=s(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function W1(n){const e={},a=s(n,["weightedPrompts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Z1(c))),r(e,["weightedPrompts"],l)}return e}function eC(n){const e={},a=s(n,["temperature"]);a!=null&&r(e,["temperature"],a);const l=s(n,["topK"]);l!=null&&r(e,["topK"],l);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const g=s(n,["bpm"]);g!=null&&r(e,["bpm"],g);const v=s(n,["density"]);v!=null&&r(e,["density"],v);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=s(n,["scale"]);p!=null&&r(e,["scale"],p);const x=s(n,["muteBass"]);x!=null&&r(e,["muteBass"],x);const C=s(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const b=s(n,["onlyBassAndDrums"]);return b!=null&&r(e,["onlyBassAndDrums"],b),e}function tC(n){const e={},a=s(n,["clientContent"]);a!=null&&r(e,["clientContent"],W1(a));const l=s(n,["musicGenerationConfig"]);return l!=null&&r(e,["musicGenerationConfig"],eC(l)),e}function nC(n){const e={},a=s(n,["data"]);a!=null&&r(e,["data"],a);const l=s(n,["mimeType"]);l!=null&&r(e,["mimeType"],l);const c=s(n,["sourceMetadata"]);return c!=null&&r(e,["sourceMetadata"],tC(c)),e}function iC(n){const e={},a=s(n,["audioChunks"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>nC(c))),r(e,["audioChunks"],l)}return e}function aC(n){const e={},a=s(n,["text"]);a!=null&&r(e,["text"],a);const l=s(n,["filteredReason"]);return l!=null&&r(e,["filteredReason"],l),e}function oC(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],Q1());const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],iC(l));const c=s(n,["filteredPrompt"]);return c!=null&&r(e,["filteredPrompt"],aC(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lC(n){const e={},a=s(n,["fps"]);a!=null&&r(e,["fps"],a);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function sC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=s(n,["data"]);a!=null&&r(e,["data"],a);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function rC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function uC(n){const e={},a=s(n,["videoMetadata"]);a!=null&&r(e,["videoMetadata"],lC(a));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],sC(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],rC(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=s(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const x=s(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function El(n){const e={},a=s(n,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>uC(d))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function cC(n){const e={},a=s(n,["anyOf"]);a!=null&&r(e,["anyOf"],a);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const g=s(n,["example"]);g!=null&&r(e,["example"],g);const v=s(n,["format"]);v!=null&&r(e,["format"],v);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const x=s(n,["maxLength"]);x!=null&&r(e,["maxLength"],x);const C=s(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const b=s(n,["maximum"]);b!=null&&r(e,["maximum"],b);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const D=s(n,["minLength"]);D!=null&&r(e,["minLength"],D);const k=s(n,["minProperties"]);k!=null&&r(e,["minProperties"],k);const H=s(n,["minimum"]);H!=null&&r(e,["minimum"],H);const F=s(n,["nullable"]);F!=null&&r(e,["nullable"],F);const z=s(n,["pattern"]);z!=null&&r(e,["pattern"],z);const J=s(n,["properties"]);J!=null&&r(e,["properties"],J);const K=s(n,["propertyOrdering"]);K!=null&&r(e,["propertyOrdering"],K);const V=s(n,["required"]);V!=null&&r(e,["required"],V);const Z=s(n,["title"]);Z!=null&&r(e,["title"],Z);const ne=s(n,["type"]);return ne!=null&&r(e,["type"],ne),e}function fC(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=s(n,["category"]);a!=null&&r(e,["category"],a);const l=s(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function dC(n){const e={},a=s(n,["behavior"]);a!=null&&r(e,["behavior"],a);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const g=s(n,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const v=s(n,["response"]);v!=null&&r(e,["response"],v);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function mC(n){const e={},a=s(n,["startTime"]);a!=null&&r(e,["startTime"],a);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function hC(n){const e={},a=s(n,["timeRangeFilter"]);return a!=null&&r(e,["timeRangeFilter"],mC(a)),e}function pC(n){const e={},a=s(n,["mode"]);a!=null&&r(e,["mode"],a);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function gC(n){const e={},a=s(n,["dynamicRetrievalConfig"]);return a!=null&&r(e,["dynamicRetrievalConfig"],pC(a)),e}function yC(){return{}}function vC(n){const e={},a=s(n,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(p=>dC(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],hC(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],gC(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],yC());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function xC(n){const e={},a=s(n,["mode"]);a!=null&&r(e,["mode"],a);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function TC(n){const e={},a=s(n,["latitude"]);a!=null&&r(e,["latitude"],a);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function CC(n){const e={},a=s(n,["latLng"]);a!=null&&r(e,["latLng"],TC(a));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function SC(n){const e={},a=s(n,["functionCallingConfig"]);a!=null&&r(e,["functionCallingConfig"],xC(a));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],CC(l)),e}function bC(n){const e={},a=s(n,["voiceName"]);return a!=null&&r(e,["voiceName"],a),e}function Ap(n){const e={},a=s(n,["prebuiltVoiceConfig"]);return a!=null&&r(e,["prebuiltVoiceConfig"],bC(a)),e}function _C(n){const e={},a=s(n,["speaker"]);a!=null&&r(e,["speaker"],a);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Ap(l)),e}function EC(n){const e={},a=s(n,["speakerVoiceConfigs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>_C(c))),r(e,["speakerVoiceConfigs"],l)}return e}function AC(n){const e={},a=s(n,["voiceConfig"]);a!=null&&r(e,["voiceConfig"],Ap(a));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],EC(l));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function MC(n){const e={},a=s(n,["includeThoughts"]);a!=null&&r(e,["includeThoughts"],a);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function wC(n,e,a){const l={},c=s(e,["systemInstruction"]);a!==void 0&&c!=null&&r(a,["systemInstruction"],El(rt(c)));const d=s(e,["temperature"]);d!=null&&r(l,["temperature"],d);const g=s(e,["topP"]);g!=null&&r(l,["topP"],g);const v=s(e,["topK"]);v!=null&&r(l,["topK"],v);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const x=s(e,["stopSequences"]);x!=null&&r(l,["stopSequences"],x);const C=s(e,["responseLogprobs"]);C!=null&&r(l,["responseLogprobs"],C);const b=s(e,["logprobs"]);b!=null&&r(l,["logprobs"],b);const M=s(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const D=s(e,["frequencyPenalty"]);D!=null&&r(l,["frequencyPenalty"],D);const k=s(e,["seed"]);k!=null&&r(l,["seed"],k);const H=s(e,["responseMimeType"]);H!=null&&r(l,["responseMimeType"],H);const F=s(e,["responseSchema"]);F!=null&&r(l,["responseSchema"],cC(fu(F)));const z=s(e,["responseJsonSchema"]);if(z!=null&&r(l,["responseJsonSchema"],z),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=s(e,["safetySettings"]);if(a!==void 0&&J!=null){let ie=J;Array.isArray(ie)&&(ie=ie.map(Q=>fC(Q))),r(a,["safetySettings"],ie)}const K=s(e,["tools"]);if(a!==void 0&&K!=null){let ie=$i(K);Array.isArray(ie)&&(ie=ie.map(Q=>vC(Xi(Q)))),r(a,["tools"],ie)}const V=s(e,["toolConfig"]);if(a!==void 0&&V!=null&&r(a,["toolConfig"],SC(V)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=s(e,["cachedContent"]);a!==void 0&&Z!=null&&r(a,["cachedContent"],cn(n,Z));const ne=s(e,["responseModalities"]);ne!=null&&r(l,["responseModalities"],ne);const de=s(e,["mediaResolution"]);de!=null&&r(l,["mediaResolution"],de);const W=s(e,["speechConfig"]);if(W!=null&&r(l,["speechConfig"],AC(du(W))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=s(e,["thinkingConfig"]);return ce!=null&&r(l,["thinkingConfig"],MC(ce)),l}function Mh(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","model"],Ae(n,l));const c=s(e,["contents"]);if(c!=null){let g=Bt(c);Array.isArray(g)&&(g=g.map(v=>El(v))),r(a,["contents"],g)}const d=s(e,["config"]);return d!=null&&r(a,["generationConfig"],wC(n,d,a)),a}function NC(n,e){const a={},l=s(n,["taskType"]);e!==void 0&&l!=null&&r(e,["requests[]","taskType"],l);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const d=s(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function RC(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","model"],Ae(n,l));const c=s(e,["contents"]);c!=null&&r(a,["requests[]","content"],up(n,c));const d=s(e,["config"]);d!=null&&r(a,["config"],NC(d,a));const g=s(e,["model"]);return g!==void 0&&r(a,["requests[]","model"],Ae(n,g)),a}function kC(n,e){const a={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=s(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&r(e,["parameters","aspectRatio"],c);const d=s(n,["guidanceScale"]);if(e!==void 0&&d!=null&&r(e,["parameters","guidanceScale"],d),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=s(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&r(e,["parameters","includeSafetyAttributes"],y);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&r(e,["parameters","includeRaiReason"],p);const x=s(n,["language"]);e!==void 0&&x!=null&&r(e,["parameters","language"],x);const C=s(n,["outputMimeType"]);e!==void 0&&C!=null&&r(e,["parameters","outputOptions","mimeType"],C);const b=s(n,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&r(e,["parameters","outputOptions","compressionQuality"],b),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function DC(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","model"],Ae(n,l));const c=s(e,["prompt"]);c!=null&&r(a,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&r(a,["config"],kC(d,a)),a}function IC(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","name"],Ae(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],c),a}function LC(n,e,a){const l={},c=s(e,["pageSize"]);a!==void 0&&c!=null&&r(a,["_query","pageSize"],c);const d=s(e,["pageToken"]);a!==void 0&&d!=null&&r(a,["_query","pageToken"],d);const g=s(e,["filter"]);a!==void 0&&g!=null&&r(a,["_query","filter"],g);const v=s(e,["queryBase"]);return a!==void 0&&v!=null&&r(a,["_url","models_url"],dp(n,v)),l}function UC(n,e){const a={},l=s(e,["config"]);return l!=null&&r(a,["config"],LC(n,l,a)),a}function VC(n,e){const a={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),a}function BC(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","name"],Ae(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],VC(c,a)),a}function zC(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","name"],Ae(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],c),a}function GC(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function PC(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","model"],Ae(n,l));const c=s(e,["contents"]);if(c!=null){let g=Bt(c);Array.isArray(g)&&(g=g.map(v=>El(v))),r(a,["contents"],g)}const d=s(e,["config"]);return d!=null&&r(a,["config"],GC(d)),a}function qC(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=s(n,["imageBytes"]);a!=null&&r(e,["bytesBase64Encoded"],fn(a));const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function HC(n,e){const a={},l=s(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=s(n,["durationSeconds"]);if(e!==void 0&&c!=null&&r(e,["parameters","durationSeconds"],c),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=s(n,["aspectRatio"]);if(e!==void 0&&d!=null&&r(e,["parameters","aspectRatio"],d),s(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const g=s(n,["personGeneration"]);if(e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=s(n,["negativePrompt"]);e!==void 0&&v!=null&&r(e,["parameters","negativePrompt"],v);const y=s(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&r(e,["parameters","enhancePrompt"],y),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function FC(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","model"],Ae(n,l));const c=s(e,["prompt"]);c!=null&&r(a,["instances[0]","prompt"],c);const d=s(e,["image"]);if(d!=null&&r(a,["instances[0]","image"],qC(d)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const g=s(e,["config"]);return g!=null&&r(a,["config"],HC(g,a)),a}function OC(n){const e={},a=s(n,["fps"]);a!=null&&r(e,["fps"],a);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function YC(n){const e={},a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function JC(n){const e={},a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function KC(n){const e={},a=s(n,["videoMetadata"]);a!=null&&r(e,["videoMetadata"],OC(a));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],YC(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],JC(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=s(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const x=s(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function Zi(n){const e={},a=s(n,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>KC(d))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function jC(n){const e={},a=s(n,["anyOf"]);a!=null&&r(e,["anyOf"],a);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const g=s(n,["example"]);g!=null&&r(e,["example"],g);const v=s(n,["format"]);v!=null&&r(e,["format"],v);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const x=s(n,["maxLength"]);x!=null&&r(e,["maxLength"],x);const C=s(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const b=s(n,["maximum"]);b!=null&&r(e,["maximum"],b);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const D=s(n,["minLength"]);D!=null&&r(e,["minLength"],D);const k=s(n,["minProperties"]);k!=null&&r(e,["minProperties"],k);const H=s(n,["minimum"]);H!=null&&r(e,["minimum"],H);const F=s(n,["nullable"]);F!=null&&r(e,["nullable"],F);const z=s(n,["pattern"]);z!=null&&r(e,["pattern"],z);const J=s(n,["properties"]);J!=null&&r(e,["properties"],J);const K=s(n,["propertyOrdering"]);K!=null&&r(e,["propertyOrdering"],K);const V=s(n,["required"]);V!=null&&r(e,["required"],V);const Z=s(n,["title"]);Z!=null&&r(e,["title"],Z);const ne=s(n,["type"]);return ne!=null&&r(e,["type"],ne),e}function XC(n){const e={},a=s(n,["featureSelectionPreference"]);return a!=null&&r(e,["featureSelectionPreference"],a),e}function $C(n){const e={},a=s(n,["method"]);a!=null&&r(e,["method"],a);const l=s(n,["category"]);l!=null&&r(e,["category"],l);const c=s(n,["threshold"]);return c!=null&&r(e,["threshold"],c),e}function QC(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=s(n,["description"]);a!=null&&r(e,["description"],a);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const v=s(n,["responseJsonSchema"]);return v!=null&&r(e,["responseJsonSchema"],v),e}function ZC(n){const e={},a=s(n,["startTime"]);a!=null&&r(e,["startTime"],a);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function WC(n){const e={},a=s(n,["timeRangeFilter"]);return a!=null&&r(e,["timeRangeFilter"],ZC(a)),e}function eS(n){const e={},a=s(n,["mode"]);a!=null&&r(e,["mode"],a);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function tS(n){const e={},a=s(n,["dynamicRetrievalConfig"]);return a!=null&&r(e,["dynamicRetrievalConfig"],eS(a)),e}function nS(){return{}}function iS(n){const e={},a=s(n,["apiKeyString"]);return a!=null&&r(e,["apiKeyString"],a),e}function aS(n){const e={},a=s(n,["apiKeyConfig"]);a!=null&&r(e,["apiKeyConfig"],iS(a));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const g=s(n,["oauthConfig"]);g!=null&&r(e,["oauthConfig"],g);const v=s(n,["oidcConfig"]);return v!=null&&r(e,["oidcConfig"],v),e}function oS(n){const e={},a=s(n,["authConfig"]);return a!=null&&r(e,["authConfig"],aS(a)),e}function lS(){return{}}function Mp(n){const e={},a=s(n,["functionDeclarations"]);if(a!=null){let C=a;Array.isArray(C)&&(C=C.map(b=>QC(b))),r(e,["functionDeclarations"],C)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],WC(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],tS(d)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],nS());const v=s(n,["googleMaps"]);v!=null&&r(e,["googleMaps"],oS(v)),s(n,["urlContext"])!=null&&r(e,["urlContext"],lS());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const x=s(n,["computerUse"]);return x!=null&&r(e,["computerUse"],x),e}function sS(n){const e={},a=s(n,["mode"]);a!=null&&r(e,["mode"],a);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function rS(n){const e={},a=s(n,["latitude"]);a!=null&&r(e,["latitude"],a);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function uS(n){const e={},a=s(n,["latLng"]);a!=null&&r(e,["latLng"],rS(a));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function cS(n){const e={},a=s(n,["functionCallingConfig"]);a!=null&&r(e,["functionCallingConfig"],sS(a));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],uS(l)),e}function fS(n){const e={},a=s(n,["voiceName"]);return a!=null&&r(e,["voiceName"],a),e}function dS(n){const e={},a=s(n,["prebuiltVoiceConfig"]);return a!=null&&r(e,["prebuiltVoiceConfig"],fS(a)),e}function mS(n){const e={},a=s(n,["voiceConfig"]);if(a!=null&&r(e,["voiceConfig"],dS(a)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function hS(n){const e={},a=s(n,["includeThoughts"]);a!=null&&r(e,["includeThoughts"],a);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function pS(n,e,a){const l={},c=s(e,["systemInstruction"]);a!==void 0&&c!=null&&r(a,["systemInstruction"],Zi(rt(c)));const d=s(e,["temperature"]);d!=null&&r(l,["temperature"],d);const g=s(e,["topP"]);g!=null&&r(l,["topP"],g);const v=s(e,["topK"]);v!=null&&r(l,["topK"],v);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const x=s(e,["stopSequences"]);x!=null&&r(l,["stopSequences"],x);const C=s(e,["responseLogprobs"]);C!=null&&r(l,["responseLogprobs"],C);const b=s(e,["logprobs"]);b!=null&&r(l,["logprobs"],b);const M=s(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const D=s(e,["frequencyPenalty"]);D!=null&&r(l,["frequencyPenalty"],D);const k=s(e,["seed"]);k!=null&&r(l,["seed"],k);const H=s(e,["responseMimeType"]);H!=null&&r(l,["responseMimeType"],H);const F=s(e,["responseSchema"]);F!=null&&r(l,["responseSchema"],jC(fu(F)));const z=s(e,["responseJsonSchema"]);z!=null&&r(l,["responseJsonSchema"],z);const J=s(e,["routingConfig"]);J!=null&&r(l,["routingConfig"],J);const K=s(e,["modelSelectionConfig"]);K!=null&&r(l,["modelConfig"],XC(K));const V=s(e,["safetySettings"]);if(a!==void 0&&V!=null){let Se=V;Array.isArray(Se)&&(Se=Se.map(L=>$C(L))),r(a,["safetySettings"],Se)}const Z=s(e,["tools"]);if(a!==void 0&&Z!=null){let Se=$i(Z);Array.isArray(Se)&&(Se=Se.map(L=>Mp(Xi(L)))),r(a,["tools"],Se)}const ne=s(e,["toolConfig"]);a!==void 0&&ne!=null&&r(a,["toolConfig"],cS(ne));const de=s(e,["labels"]);a!==void 0&&de!=null&&r(a,["labels"],de);const W=s(e,["cachedContent"]);a!==void 0&&W!=null&&r(a,["cachedContent"],cn(n,W));const ce=s(e,["responseModalities"]);ce!=null&&r(l,["responseModalities"],ce);const ie=s(e,["mediaResolution"]);ie!=null&&r(l,["mediaResolution"],ie);const Q=s(e,["speechConfig"]);Q!=null&&r(l,["speechConfig"],mS(du(Q)));const Re=s(e,["audioTimestamp"]);Re!=null&&r(l,["audioTimestamp"],Re);const qe=s(e,["thinkingConfig"]);return qe!=null&&r(l,["thinkingConfig"],hS(qe)),l}function wh(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","model"],Ae(n,l));const c=s(e,["contents"]);if(c!=null){let g=Bt(c);Array.isArray(g)&&(g=g.map(v=>Zi(v))),r(a,["contents"],g)}const d=s(e,["config"]);return d!=null&&r(a,["generationConfig"],pS(n,d,a)),a}function gS(n,e){const a={},l=s(n,["taskType"]);e!==void 0&&l!=null&&r(e,["instances[]","task_type"],l);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["instances[]","title"],c);const d=s(n,["outputDimensionality"]);e!==void 0&&d!=null&&r(e,["parameters","outputDimensionality"],d);const g=s(n,["mimeType"]);e!==void 0&&g!=null&&r(e,["instances[]","mimeType"],g);const v=s(n,["autoTruncate"]);return e!==void 0&&v!=null&&r(e,["parameters","autoTruncate"],v),a}function yS(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","model"],Ae(n,l));const c=s(e,["contents"]);c!=null&&r(a,["instances[]","content"],up(n,c));const d=s(e,["config"]);return d!=null&&r(a,["config"],gS(d,a)),a}function vS(n,e){const a={},l=s(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const g=s(n,["aspectRatio"]);e!==void 0&&g!=null&&r(e,["parameters","aspectRatio"],g);const v=s(n,["guidanceScale"]);e!==void 0&&v!=null&&r(e,["parameters","guidanceScale"],v);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const x=s(n,["personGeneration"]);e!==void 0&&x!=null&&r(e,["parameters","personGeneration"],x);const C=s(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const b=s(n,["includeRaiReason"]);e!==void 0&&b!=null&&r(e,["parameters","includeRaiReason"],b);const M=s(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const D=s(n,["outputMimeType"]);e!==void 0&&D!=null&&r(e,["parameters","outputOptions","mimeType"],D);const k=s(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&r(e,["parameters","outputOptions","compressionQuality"],k);const H=s(n,["addWatermark"]);e!==void 0&&H!=null&&r(e,["parameters","addWatermark"],H);const F=s(n,["enhancePrompt"]);return e!==void 0&&F!=null&&r(e,["parameters","enhancePrompt"],F),a}function xS(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","model"],Ae(n,l));const c=s(e,["prompt"]);c!=null&&r(a,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&r(a,["config"],vS(d,a)),a}function Al(n){const e={},a=s(n,["gcsUri"]);a!=null&&r(e,["gcsUri"],a);const l=s(n,["imageBytes"]);l!=null&&r(e,["bytesBase64Encoded"],fn(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function TS(n){const e={},a=s(n,["maskMode"]);a!=null&&r(e,["maskMode"],a);const l=s(n,["segmentationClasses"]);l!=null&&r(e,["maskClasses"],l);const c=s(n,["maskDilation"]);return c!=null&&r(e,["dilation"],c),e}function CS(n){const e={},a=s(n,["controlType"]);a!=null&&r(e,["controlType"],a);const l=s(n,["enableControlImageComputation"]);return l!=null&&r(e,["computeControl"],l),e}function SS(n){const e={},a=s(n,["styleDescription"]);return a!=null&&r(e,["styleDescription"],a),e}function bS(n){const e={},a=s(n,["subjectType"]);a!=null&&r(e,["subjectType"],a);const l=s(n,["subjectDescription"]);return l!=null&&r(e,["subjectDescription"],l),e}function _S(n){const e={},a=s(n,["referenceImage"]);a!=null&&r(e,["referenceImage"],Al(a));const l=s(n,["referenceId"]);l!=null&&r(e,["referenceId"],l);const c=s(n,["referenceType"]);c!=null&&r(e,["referenceType"],c);const d=s(n,["maskImageConfig"]);d!=null&&r(e,["maskImageConfig"],TS(d));const g=s(n,["controlImageConfig"]);g!=null&&r(e,["controlImageConfig"],CS(g));const v=s(n,["styleImageConfig"]);v!=null&&r(e,["styleImageConfig"],SS(v));const y=s(n,["subjectImageConfig"]);return y!=null&&r(e,["subjectImageConfig"],bS(y)),e}function ES(n,e){const a={},l=s(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const g=s(n,["aspectRatio"]);e!==void 0&&g!=null&&r(e,["parameters","aspectRatio"],g);const v=s(n,["guidanceScale"]);e!==void 0&&v!=null&&r(e,["parameters","guidanceScale"],v);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const x=s(n,["personGeneration"]);e!==void 0&&x!=null&&r(e,["parameters","personGeneration"],x);const C=s(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const b=s(n,["includeRaiReason"]);e!==void 0&&b!=null&&r(e,["parameters","includeRaiReason"],b);const M=s(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const D=s(n,["outputMimeType"]);e!==void 0&&D!=null&&r(e,["parameters","outputOptions","mimeType"],D);const k=s(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&r(e,["parameters","outputOptions","compressionQuality"],k);const H=s(n,["editMode"]);e!==void 0&&H!=null&&r(e,["parameters","editMode"],H);const F=s(n,["baseSteps"]);return e!==void 0&&F!=null&&r(e,["parameters","editConfig","baseSteps"],F),a}function AS(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","model"],Ae(n,l));const c=s(e,["prompt"]);c!=null&&r(a,["instances[0]","prompt"],c);const d=s(e,["referenceImages"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(y=>_S(y))),r(a,["instances[0]","referenceImages"],v)}const g=s(e,["config"]);return g!=null&&r(a,["config"],ES(g,a)),a}function MS(n,e){const a={},l=s(n,["includeRaiReason"]);e!==void 0&&l!=null&&r(e,["parameters","includeRaiReason"],l);const c=s(n,["outputMimeType"]);e!==void 0&&c!=null&&r(e,["parameters","outputOptions","mimeType"],c);const d=s(n,["outputCompressionQuality"]);e!==void 0&&d!=null&&r(e,["parameters","outputOptions","compressionQuality"],d);const g=s(n,["enhanceInputImage"]);e!==void 0&&g!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],g);const v=s(n,["imagePreservationFactor"]);e!==void 0&&v!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const y=s(n,["numberOfImages"]);e!==void 0&&y!=null&&r(e,["parameters","sampleCount"],y);const p=s(n,["mode"]);return e!==void 0&&p!=null&&r(e,["parameters","mode"],p),a}function wS(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","model"],Ae(n,l));const c=s(e,["image"]);c!=null&&r(a,["instances[0]","image"],Al(c));const d=s(e,["upscaleFactor"]);d!=null&&r(a,["parameters","upscaleConfig","upscaleFactor"],d);const g=s(e,["config"]);return g!=null&&r(a,["config"],MS(g,a)),a}function NS(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","name"],Ae(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],c),a}function RS(n,e,a){const l={},c=s(e,["pageSize"]);a!==void 0&&c!=null&&r(a,["_query","pageSize"],c);const d=s(e,["pageToken"]);a!==void 0&&d!=null&&r(a,["_query","pageToken"],d);const g=s(e,["filter"]);a!==void 0&&g!=null&&r(a,["_query","filter"],g);const v=s(e,["queryBase"]);return a!==void 0&&v!=null&&r(a,["_url","models_url"],dp(n,v)),l}function kS(n,e){const a={},l=s(e,["config"]);return l!=null&&r(a,["config"],RS(n,l,a)),a}function DS(n,e){const a={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),a}function IS(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","model"],Ae(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],DS(c,a)),a}function LS(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","name"],Ae(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],c),a}function US(n,e){const a={},l=s(n,["systemInstruction"]);e!==void 0&&l!=null&&r(e,["systemInstruction"],Zi(rt(l)));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>Mp(v))),r(e,["tools"],g)}const d=s(n,["generationConfig"]);return e!==void 0&&d!=null&&r(e,["generationConfig"],d),a}function VS(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","model"],Ae(n,l));const c=s(e,["contents"]);if(c!=null){let g=Bt(c);Array.isArray(g)&&(g=g.map(v=>Zi(v))),r(a,["contents"],g)}const d=s(e,["config"]);return d!=null&&r(a,["config"],US(d,a)),a}function BS(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","model"],Ae(n,l));const c=s(e,["contents"]);if(c!=null){let g=Bt(c);Array.isArray(g)&&(g=g.map(v=>Zi(v))),r(a,["contents"],g)}const d=s(e,["config"]);return d!=null&&r(a,["config"],d),a}function zS(n){const e={},a=s(n,["uri"]);a!=null&&r(e,["gcsUri"],a);const l=s(n,["videoBytes"]);l!=null&&r(e,["bytesBase64Encoded"],fn(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function GS(n,e){const a={},l=s(n,["numberOfVideos"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=s(n,["outputGcsUri"]);e!==void 0&&c!=null&&r(e,["parameters","storageUri"],c);const d=s(n,["fps"]);e!==void 0&&d!=null&&r(e,["parameters","fps"],d);const g=s(n,["durationSeconds"]);e!==void 0&&g!=null&&r(e,["parameters","durationSeconds"],g);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["parameters","seed"],v);const y=s(n,["aspectRatio"]);e!==void 0&&y!=null&&r(e,["parameters","aspectRatio"],y);const p=s(n,["resolution"]);e!==void 0&&p!=null&&r(e,["parameters","resolution"],p);const x=s(n,["personGeneration"]);e!==void 0&&x!=null&&r(e,["parameters","personGeneration"],x);const C=s(n,["pubsubTopic"]);e!==void 0&&C!=null&&r(e,["parameters","pubsubTopic"],C);const b=s(n,["negativePrompt"]);e!==void 0&&b!=null&&r(e,["parameters","negativePrompt"],b);const M=s(n,["enhancePrompt"]);e!==void 0&&M!=null&&r(e,["parameters","enhancePrompt"],M);const D=s(n,["generateAudio"]);e!==void 0&&D!=null&&r(e,["parameters","generateAudio"],D);const k=s(n,["lastFrame"]);e!==void 0&&k!=null&&r(e,["instances[0]","lastFrame"],Al(k));const H=s(n,["compressionQuality"]);return e!==void 0&&H!=null&&r(e,["parameters","compressionQuality"],H),a}function PS(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["_url","model"],Ae(n,l));const c=s(e,["prompt"]);c!=null&&r(a,["instances[0]","prompt"],c);const d=s(e,["image"]);d!=null&&r(a,["instances[0]","image"],Al(d));const g=s(e,["video"]);g!=null&&r(a,["instances[0]","video"],zS(g));const v=s(e,["config"]);return v!=null&&r(a,["config"],GS(v,a)),a}function qS(n){const e={},a=s(n,["fps"]);a!=null&&r(e,["fps"],a);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function HS(n){const e={},a=s(n,["data"]);a!=null&&r(e,["data"],a);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function FS(n){const e={},a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function OS(n){const e={},a=s(n,["videoMetadata"]);a!=null&&r(e,["videoMetadata"],qS(a));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],HS(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],FS(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=s(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const x=s(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function YS(n){const e={},a=s(n,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>OS(d))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function JS(n){const e={},a=s(n,["citationSources"]);return a!=null&&r(e,["citations"],a),e}function KS(n){const e={},a=s(n,["retrievedUrl"]);a!=null&&r(e,["retrievedUrl"],a);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function jS(n){const e={},a=s(n,["urlMetadata"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>KS(c))),r(e,["urlMetadata"],l)}return e}function XS(n){const e={},a=s(n,["content"]);a!=null&&r(e,["content"],YS(a));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],JS(l));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const g=s(n,["urlContextMetadata"]);g!=null&&r(e,["urlContextMetadata"],jS(g));const v=s(n,["avgLogprobs"]);v!=null&&r(e,["avgLogprobs"],v);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const x=s(n,["logprobsResult"]);x!=null&&r(e,["logprobsResult"],x);const C=s(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function Nh(n){const e={},a=s(n,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(v=>XS(v))),r(e,["candidates"],g)}const l=s(n,["modelVersion"]);l!=null&&r(e,["modelVersion"],l);const c=s(n,["promptFeedback"]);c!=null&&r(e,["promptFeedback"],c);const d=s(n,["usageMetadata"]);return d!=null&&r(e,["usageMetadata"],d),e}function $S(n){const e={},a=s(n,["values"]);return a!=null&&r(e,["values"],a),e}function QS(){return{}}function ZS(n){const e={},a=s(n,["embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>$S(d))),r(e,["embeddings"],c)}return s(n,["metadata"])!=null&&r(e,["metadata"],QS()),e}function WS(n){const e={},a=s(n,["bytesBase64Encoded"]);a!=null&&r(e,["imageBytes"],fn(a));const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function wp(n){const e={},a=s(n,["safetyAttributes","categories"]);a!=null&&r(e,["categories"],a);const l=s(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function eb(n){const e={},a=s(n,["_self"]);a!=null&&r(e,["image"],WS(a));const l=s(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const c=s(n,["_self"]);return c!=null&&r(e,["safetyAttributes"],wp(c)),e}function tb(n){const e={},a=s(n,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>eb(d))),r(e,["generatedImages"],c)}const l=s(n,["positivePromptSafetyAttributes"]);return l!=null&&r(e,["positivePromptSafetyAttributes"],wp(l)),e}function nb(n){const e={},a=s(n,["baseModel"]);a!=null&&r(e,["baseModel"],a);const l=s(n,["createTime"]);l!=null&&r(e,["createTime"],l);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function tu(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["version"]);d!=null&&r(e,["version"],d);const g=s(n,["_self"]);g!=null&&r(e,["tunedModelInfo"],nb(g));const v=s(n,["inputTokenLimit"]);v!=null&&r(e,["inputTokenLimit"],v);const y=s(n,["outputTokenLimit"]);y!=null&&r(e,["outputTokenLimit"],y);const p=s(n,["supportedGenerationMethods"]);return p!=null&&r(e,["supportedActions"],p),e}function ib(n){const e={},a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const l=s(n,["_self"]);if(l!=null){let c=mp(l);Array.isArray(c)&&(c=c.map(d=>tu(d))),r(e,["models"],c)}return e}function ab(){return{}}function ob(n){const e={},a=s(n,["totalTokens"]);a!=null&&r(e,["totalTokens"],a);const l=s(n,["cachedContentTokenCount"]);return l!=null&&r(e,["cachedContentTokenCount"],l),e}function lb(n){const e={},a=s(n,["video","uri"]);a!=null&&r(e,["uri"],a);const l=s(n,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],fn(l));const c=s(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function sb(n){const e={},a=s(n,["_self"]);return a!=null&&r(e,["video"],lb(a)),e}function rb(n){const e={},a=s(n,["generatedSamples"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(g=>sb(g))),r(e,["generatedVideos"],d)}const l=s(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function ub(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const g=s(n,["response","generateVideoResponse"]);return g!=null&&r(e,["response"],rb(g)),e}function cb(n){const e={},a=s(n,["fps"]);a!=null&&r(e,["fps"],a);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function fb(n){const e={},a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function db(n){const e={},a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function mb(n){const e={},a=s(n,["videoMetadata"]);a!=null&&r(e,["videoMetadata"],cb(a));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],fb(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],db(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=s(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const x=s(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function hb(n){const e={},a=s(n,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>mb(d))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function pb(n){const e={},a=s(n,["citations"]);return a!=null&&r(e,["citations"],a),e}function gb(n){const e={},a=s(n,["retrievedUrl"]);a!=null&&r(e,["retrievedUrl"],a);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function yb(n){const e={},a=s(n,["urlMetadata"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>gb(c))),r(e,["urlMetadata"],l)}return e}function vb(n){const e={},a=s(n,["content"]);a!=null&&r(e,["content"],hb(a));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],pb(l));const c=s(n,["finishMessage"]);c!=null&&r(e,["finishMessage"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const g=s(n,["urlContextMetadata"]);g!=null&&r(e,["urlContextMetadata"],yb(g));const v=s(n,["avgLogprobs"]);v!=null&&r(e,["avgLogprobs"],v);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const x=s(n,["logprobsResult"]);x!=null&&r(e,["logprobsResult"],x);const C=s(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function Rh(n){const e={},a=s(n,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(p=>vb(p))),r(e,["candidates"],y)}const l=s(n,["createTime"]);l!=null&&r(e,["createTime"],l);const c=s(n,["responseId"]);c!=null&&r(e,["responseId"],c);const d=s(n,["modelVersion"]);d!=null&&r(e,["modelVersion"],d);const g=s(n,["promptFeedback"]);g!=null&&r(e,["promptFeedback"],g);const v=s(n,["usageMetadata"]);return v!=null&&r(e,["usageMetadata"],v),e}function xb(n){const e={},a=s(n,["truncated"]);a!=null&&r(e,["truncated"],a);const l=s(n,["token_count"]);return l!=null&&r(e,["tokenCount"],l),e}function Tb(n){const e={},a=s(n,["values"]);a!=null&&r(e,["values"],a);const l=s(n,["statistics"]);return l!=null&&r(e,["statistics"],xb(l)),e}function Cb(n){const e={},a=s(n,["billableCharacterCount"]);return a!=null&&r(e,["billableCharacterCount"],a),e}function Sb(n){const e={},a=s(n,["predictions[]","embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Tb(d))),r(e,["embeddings"],c)}const l=s(n,["metadata"]);return l!=null&&r(e,["metadata"],Cb(l)),e}function bb(n){const e={},a=s(n,["gcsUri"]);a!=null&&r(e,["gcsUri"],a);const l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["imageBytes"],fn(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Np(n){const e={},a=s(n,["safetyAttributes","categories"]);a!=null&&r(e,["categories"],a);const l=s(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function hu(n){const e={},a=s(n,["_self"]);a!=null&&r(e,["image"],bb(a));const l=s(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const c=s(n,["_self"]);c!=null&&r(e,["safetyAttributes"],Np(c));const d=s(n,["prompt"]);return d!=null&&r(e,["enhancedPrompt"],d),e}function _b(n){const e={},a=s(n,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>hu(d))),r(e,["generatedImages"],c)}const l=s(n,["positivePromptSafetyAttributes"]);return l!=null&&r(e,["positivePromptSafetyAttributes"],Np(l)),e}function Eb(n){const e={},a=s(n,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>hu(c))),r(e,["generatedImages"],l)}return e}function Ab(n){const e={},a=s(n,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>hu(c))),r(e,["generatedImages"],l)}return e}function Mb(n){const e={},a=s(n,["endpoint"]);a!=null&&r(e,["name"],a);const l=s(n,["deployedModelId"]);return l!=null&&r(e,["deployedModelId"],l),e}function wb(n){const e={},a=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&r(e,["baseModel"],a);const l=s(n,["createTime"]);l!=null&&r(e,["createTime"],l);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function Nb(n){const e={},a=s(n,["checkpointId"]);a!=null&&r(e,["checkpointId"],a);const l=s(n,["epoch"]);l!=null&&r(e,["epoch"],l);const c=s(n,["step"]);return c!=null&&r(e,["step"],c),e}function nu(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["versionId"]);d!=null&&r(e,["version"],d);const g=s(n,["deployedModels"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(b=>Mb(b))),r(e,["endpoints"],C)}const v=s(n,["labels"]);v!=null&&r(e,["labels"],v);const y=s(n,["_self"]);y!=null&&r(e,["tunedModelInfo"],wb(y));const p=s(n,["defaultCheckpointId"]);p!=null&&r(e,["defaultCheckpointId"],p);const x=s(n,["checkpoints"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(b=>Nb(b))),r(e,["checkpoints"],C)}return e}function Rb(n){const e={},a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const l=s(n,["_self"]);if(l!=null){let c=mp(l);Array.isArray(c)&&(c=c.map(d=>nu(d))),r(e,["models"],c)}return e}function kb(){return{}}function Db(n){const e={},a=s(n,["totalTokens"]);return a!=null&&r(e,["totalTokens"],a),e}function Ib(n){const e={},a=s(n,["tokensInfo"]);return a!=null&&r(e,["tokensInfo"],a),e}function Lb(n){const e={},a=s(n,["gcsUri"]);a!=null&&r(e,["uri"],a);const l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],fn(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Ub(n){const e={},a=s(n,["_self"]);return a!=null&&r(e,["video"],Lb(a)),e}function Vb(n){const e={},a=s(n,["videos"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(g=>Ub(g))),r(e,["generatedVideos"],d)}const l=s(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function Bb(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const g=s(n,["response"]);return g!=null&&r(e,["response"],Vb(g)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zb="Content-Type",Gb="X-Server-Timeout",Pb="User-Agent",iu="x-goog-api-client",qb="1.9.0",Hb=`google-genai-sdk/${qb}`,Fb="v1beta1",Ob="v1beta",kh=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Yb{constructor(e){var a,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:Fb,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:Ob,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),a=new URL(e);return a.protocol=a.protocol=="http:"?"ws":"wss",a.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,a,l){const c=[this.getRequestUrlInternal(a)];return l&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let a=this.clientOptions.httpOptions;e.httpOptions&&(a=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,a,l);if(e.queryParams)for(const[g,v]of Object.entries(e.queryParams))c.searchParams.append(g,String(v));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,a,e.abortSignal),this.unaryApiCall(c,d,e.httpMethod)}patchHttpOptions(e,a){const l=JSON.parse(JSON.stringify(e));for(const[c,d]of Object.entries(a))typeof d=="object"?l[c]=Object.assign(Object.assign({},l[c]),d):d!==void 0&&(l[c]=d);return l}async requestStream(e){let a=this.clientOptions.httpOptions;e.httpOptions&&(a=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,a,l);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,a,e.abortSignal),this.streamApiCall(c,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,a,l){if(a&&a.timeout||l){const c=new AbortController,d=c.signal;if(a.timeout&&(a==null?void 0:a.timeout)>0){const g=setTimeout(()=>c.abort(),a.timeout);g&&typeof g.unref=="function"&&g.unref()}l&&l.addEventListener("abort",()=>{c.abort()}),e.signal=d}return a&&a.extraBody!==null&&Jb(e,a.extraBody),e.headers=await this.getHeadersInternal(a),e}async unaryApiCall(e,a,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},a),{method:l})).then(async c=>(await Dh(c),new Xr(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,a,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},a),{method:l})).then(async c=>(await Dh(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var a;return ji(this,arguments,function*(){const c=(a=e==null?void 0:e.body)===null||a===void 0?void 0:a.getReader(),d=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let g="";for(;;){const{done:v,value:y}=yield Le(c.read());if(v){if(g.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=d.decode(y,{stream:!0});try{const C=JSON.parse(p);if("error"in C){const b=JSON.parse(JSON.stringify(C.error)),M=b.status,D=b.code,k=`got status: ${M}. ${JSON.stringify(C)}`;if(D>=400&&D<600)throw new _l({message:k,status:D})}}catch(C){if(C.name==="ApiError")throw C}g+=p;let x=g.match(kh);for(;x;){const C=x[1];try{const b=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Le(new Xr(b)),g=g.slice(x[0].length),x=g.match(kh)}catch(b){throw new Error(`exception parsing stream chunk ${C}. ${b}`)}}}}finally{c.releaseLock()}})}async apiCall(e,a){return fetch(e,a).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},a=Hb+" "+this.clientOptions.userAgentExtra;return e[Pb]=a,e[iu]=a,e[zb]="application/json",e}async getHeadersInternal(e){const a=new Headers;if(e&&e.headers){for(const[l,c]of Object.entries(e.headers))a.append(l,c);e.timeout&&e.timeout>0&&a.append(Gb,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a),a}async uploadFile(e,a){var l;const c={};a!=null&&(c.mimeType=a.mimeType,c.name=a.name,c.displayName=a.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const d=this.clientOptions.uploader,g=await d.stat(e);c.sizeBytes=String(g.size);const v=(l=a==null?void 0:a.mimeType)!==null&&l!==void 0?l:g.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=v;const y=await this.fetchUploadUrl(c,a);return d.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,a){var l;let c={};a!=null&&a.httpOptions?c=a.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const d={file:e},g=await this.request({path:te("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:c});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(l=g==null?void 0:g.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Dh(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const a=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(l);throw a>=400&&a<600?new _l({message:c,status:a}):new Error(c)}}function Jb(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let a={};if(typeof n.body=="string"&&n.body.length>0)try{const d=JSON.parse(n.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))a=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(d,g){const v=Object.assign({},d);for(const y in g)if(Object.prototype.hasOwnProperty.call(g,y)){const p=g[y],x=v[y];p&&typeof p=="object"&&!Array.isArray(p)&&x&&typeof x=="object"&&!Array.isArray(x)?v[y]=l(x,p):(x&&p&&typeof x!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof p}. Overwriting.`),v[y]=p)}return v}const c=l(a,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kb="mcp_used/unknown";function Rp(n){for(const e of n)if(pu(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function kp(n){var e;const a=(e=n[iu])!==null&&e!==void 0?e:"";n[iu]=(a+` ${Kb}`).trimStart()}function jb(n){var e,a,l;return(l=(a=(e=n.config)===null||e===void 0?void 0:e.tools)===null||a===void 0?void 0:a.some(c=>pu(c)))!==null&&l!==void 0?l:!1}function Xb(n){var e,a,l;return(l=(a=(e=n.config)===null||e===void 0?void 0:e.tools)===null||a===void 0?void 0:a.some(c=>!pu(c)))!==null&&l!==void 0?l:!1}function pu(n){return n!==null&&typeof n=="object"&&n instanceof gu}function $b(n,e=100){return ji(this,arguments,function*(){let l,c=0;for(;c<e;){const d=yield Le(n.listTools({cursor:l}));for(const g of d.tools)yield yield Le(g),c++;if(!d.nextCursor)break;l=d.nextCursor}})}class gu{constructor(e=[],a){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=a}static create(e,a){return new gu(e,a)}async initialize(){var e,a,l,c;if(this.mcpTools.length>0)return;const d={},g=[];for(const x of this.mcpClients)try{for(var v=!0,y=(a=void 0,Wa($b(x))),p;p=await y.next(),e=p.done,!e;v=!0){c=p.value,v=!1;const C=c;g.push(C);const b=C.name;if(d[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);d[b]=x}}catch(C){a={error:C}}finally{try{!v&&!e&&(l=y.return)&&await l.call(y)}finally{if(a)throw a.error}}this.mcpTools=g,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Yy(this.mcpTools,this.config)}async callTool(e){await this.initialize();const a=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[l.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const g=await c.callTool({name:l.name,arguments:l.args},void 0,d);a.push({functionResponse:{name:l.name,response:g.isError?{error:g}:g}})}return a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Qb(n,e,a){const l=new By;let c;a.data instanceof Blob?c=JSON.parse(await a.data.text()):c=JSON.parse(a.data);const d=oC(c);Object.assign(l,d),e(l)}class Zb{constructor(e,a,l){this.apiClient=e,this.auth=a,this.webSocketFactory=l}async connect(e){var a,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),g=t_(this.apiClient.getDefaultHeaders()),v=this.apiClient.getApiKey(),y=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${v}`;let p=()=>{};const x=new Promise(J=>{p=J}),C=e.callbacks,b=function(){p({})},M=this.apiClient,D={onopen:b,onmessage:J=>{Qb(M,C.onmessage,J)},onerror:(a=C==null?void 0:C.onerror)!==null&&a!==void 0?a:function(J){},onclose:(l=C==null?void 0:C.onclose)!==null&&l!==void 0?l:function(J){}},k=this.webSocketFactory.create(y,e_(g),D);k.connect(),await x;const H=Ae(this.apiClient,e.model),F=_p({model:H}),z=eu({setup:F});return k.send(JSON.stringify(z)),new Wb(k,this.apiClient)}}class Wb{constructor(e,a){this.conn=e,this.apiClient=a}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const a=x1(e),l=Ep(a);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const a=T1(e),l=eu(a);this.conn.send(JSON.stringify(l))}sendPlaybackControl(e){const a=eu({playbackControl:e});this.conn.send(JSON.stringify(a))}play(){this.sendPlaybackControl(Ji.PLAY)}pause(){this.sendPlaybackControl(Ji.PAUSE)}stop(){this.sendPlaybackControl(Ji.STOP)}resetContext(){this.sendPlaybackControl(Ji.RESET_CONTEXT)}close(){this.conn.close()}}function e_(n){const e={};return n.forEach((a,l)=>{e[l]=a}),e}function t_(n){const e=new Headers;for(const[a,l]of Object.entries(n))e.append(a,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function i_(n,e,a){const l=new Vy;let c;a.data instanceof Blob?c=await a.data.text():a.data instanceof ArrayBuffer?c=new TextDecoder().decode(a.data):c=a.data;const d=JSON.parse(c);if(n.isVertexAI()){const g=$1(d);Object.assign(l,g)}else{const g=X1(d);Object.assign(l,g)}e(l)}class a_{constructor(e,a,l){this.apiClient=e,this.auth=a,this.webSocketFactory=l,this.music=new Zb(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var a,l,c,d,g,v;const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let x;const C=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Rp(e.config.tools)&&kp(C);const b=r_(C);if(this.apiClient.isVertexAI())x=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b);else{const W=this.apiClient.getApiKey();let ce="BidiGenerateContent",ie="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ce="BidiGenerateContentConstrained",ie="access_token"),x=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ce}?${ie}=${W}`}let M=()=>{};const D=new Promise(W=>{M=W}),k=e.callbacks,H=function(){var W;(W=k==null?void 0:k.onopen)===null||W===void 0||W.call(k),M({})},F=this.apiClient,z={onopen:H,onmessage:W=>{i_(F,k.onmessage,W)},onerror:(a=k==null?void 0:k.onerror)!==null&&a!==void 0?a:function(W){},onclose:(l=k==null?void 0:k.onclose)!==null&&l!==void 0?l:function(W){}},J=this.webSocketFactory.create(x,s_(b),z);J.connect(),await D;let K=Ae(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const W=this.apiClient.getProject(),ce=this.apiClient.getLocation();K=`projects/${W}/locations/${ce}/`+K}let V={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Sl.AUDIO]}:e.config.responseModalities=[Sl.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Z=(v=(g=e.config)===null||g===void 0?void 0:g.tools)!==null&&v!==void 0?v:[],ne=[];for(const W of Z)if(this.isCallableTool(W)){const ce=W;ne.push(await ce.tool())}else ne.push(W);ne.length>0&&(e.config.tools=ne);const de={model:K,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?V=d1(this.apiClient,de):V=f1(this.apiClient,de),delete V.config,J.send(JSON.stringify(V)),new l_(J,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const o_={turnComplete:!0};class l_{constructor(e,a){this.conn=e,this.apiClient=a}tLiveClientContent(e,a){if(a.turns!==null&&a.turns!==void 0){let l=[];try{l=Bt(a.turns),e.isVertexAI()?l=l.map(c=>Zi(c)):l=l.map(c=>El(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof a.turns}'`)}return{clientContent:{turns:l,turnComplete:a.turnComplete}}}return{clientContent:{turnComplete:a.turnComplete}}}tLiveClienttToolResponse(e,a){let l=[];if(a.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(a.functionResponses)?l=a.functionResponses:l=[a.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const d of l){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(n_)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},o_),e);const a=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(a))}sendRealtimeInput(e){let a={};this.apiClient.isVertexAI()?a={realtimeInput:v1(e)}:a={realtimeInput:y1(e)},this.conn.send(JSON.stringify(a))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const a=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(a))}close(){this.conn.close()}}function s_(n){const e={};return n.forEach((a,l)=>{e[l]=a}),e}function r_(n){const e=new Headers;for(const[a,l]of Object.entries(n))e.append(a,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ih=10;function Lh(n){var e,a,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const g of(a=n==null?void 0:n.tools)!==null&&a!==void 0?a:[])if(Cl(g)){c=!0;break}if(!c)return!0;const d=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Cl(n){return"callTool"in n&&typeof n.callTool=="function"}function Uh(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class u_ extends ii{constructor(e){super(),this.apiClient=e,this.generateContent=async a=>{var l,c,d,g,v;const y=await this.processParamsForMcpUsage(a);if(this.maybeMoveToResponseJsonSchem(a),!jb(a)||Lh(a.config))return await this.generateContentInternal(y);if(Xb(a))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,x;const C=Bt(y.contents),b=(d=(c=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&d!==void 0?d:Ih;let M=0;for(;M<b&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const D=p.candidates[0].content,k=[];for(const H of(v=(g=a.config)===null||g===void 0?void 0:g.tools)!==null&&v!==void 0?v:[])if(Cl(H)){const z=await H.callTool(p.functionCalls);k.push(...z)}M++,x={role:"user",parts:k},y.contents=Bt(y.contents),y.contents.push(D),y.contents.push(x),Uh(y.config)&&(C.push(D),C.push(x))}return Uh(y.config)&&(p.automaticFunctionCallingHistory=C),p},this.generateContentStream=async a=>{if(this.maybeMoveToResponseJsonSchem(a),Lh(a.config)){const l=await this.processParamsForMcpUsage(a);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(a)},this.generateImages=async a=>await this.generateImagesInternal(a).then(l=>{var c;let d;const g=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((c=y==null?void 0:y.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:g.push(y);let v;return d?v={generatedImages:g,positivePromptSafetyAttributes:d}:v={generatedImages:g},v}),this.list=async a=>{var l;const g={config:Object.assign(Object.assign({},{queryBase:!0}),a==null?void 0:a.config)};if(this.apiClient.isVertexAI()&&!g.config.queryBase){if(!((l=g.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");g.config.filter="labels.tune-type:*"}return new eo(ni.PAGED_ITEM_MODELS,v=>this.listInternal(v),await this.listInternal(g),g)},this.editImage=async a=>{const l={model:a.model,prompt:a.prompt,referenceImages:[],config:a.config};return a.referenceImages&&a.referenceImages&&(l.referenceImages=a.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async a=>{let l={numberOfImages:1,mode:"upscale"};a.config&&(l=Object.assign(Object.assign({},l),a.config));const c={model:a.model,image:a.image,upscaleFactor:a.upscaleFactor,config:l};return await this.upscaleImageInternal(c)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsForMcpUsage(e){var a,l,c;const d=(a=e.config)===null||a===void 0?void 0:a.tools;if(!d)return e;const g=await Promise.all(d.map(async y=>Cl(y)?await y.tool():y)),v={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:g})};if(v.config.tools=g,e.config&&e.config.tools&&Rp(e.config.tools)){const y=(c=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&c!==void 0?c:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),kp(p),v.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return v}async initAfcToolsMap(e){var a,l,c;const d=new Map;for(const g of(l=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&l!==void 0?l:[])if(Cl(g)){const v=g,y=await v.tool();for(const p of(c=y.functionDeclarations)!==null&&c!==void 0?c:[]){if(!p.name)throw new Error("Function declaration name is required.");if(d.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);d.set(p.name,v)}}return d}async processAfcStream(e){var a,l,c;const d=(c=(l=(a=e.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&c!==void 0?c:Ih;let g=!1,v=0;const y=await this.initAfcToolsMap(e);return function(p,x,C){var b,M;return ji(this,arguments,function*(){for(var D,k,H,F;v<d;){g&&(v++,g=!1);const V=yield Le(p.processParamsForMcpUsage(C)),Z=yield Le(p.generateContentStreamInternal(V)),ne=[],de=[];try{for(var z=!0,J=(k=void 0,Wa(Z)),K;K=yield Le(J.next()),D=K.done,!D;z=!0){F=K.value,z=!1;const W=F;if(yield yield Le(W),W.candidates&&(!((b=W.candidates[0])===null||b===void 0)&&b.content)){de.push(W.candidates[0].content);for(const ce of(M=W.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(v<d&&ce.functionCall){if(!ce.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(ce.functionCall.name)){const ie=yield Le(x.get(ce.functionCall.name).callTool([ce.functionCall]));ne.push(...ie)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${ce.functionCall.name}`)}}}}catch(W){k={error:W}}finally{try{!z&&!D&&(H=J.return)&&(yield Le(H.call(J)))}finally{if(k)throw k.error}}if(ne.length>0){g=!0;const W=new Za;W.candidates=[{content:{role:"user",parts:ne}}],yield yield Le(W);const ce=[];ce.push(...de),ce.push({role:"user",parts:ne});const ie=Bt(C.contents).concat(ce);C.contents=ie}else break}})}(this,y,e)}async generateContentInternal(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=wh(this.apiClient,e);return v=te("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>{const C=Rh(x),b=new Za;return Object.assign(b,C),b})}else{const p=Mh(this.apiClient,e);return v=te("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>{const C=Nh(x),b=new Za;return Object.assign(b,C),b})}}async generateContentStreamInternal(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=wh(this.apiClient,e);return v=te("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.requestStream({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),g.then(function(C){return ji(this,arguments,function*(){var b,M,D,k;try{for(var H=!0,F=Wa(C),z;z=yield Le(F.next()),b=z.done,!b;H=!0){k=z.value,H=!1;const K=Rh(yield Le(k.json())),V=new Za;Object.assign(V,K),yield yield Le(V)}}catch(J){M={error:J}}finally{try{!H&&!b&&(D=F.return)&&(yield Le(D.call(F)))}finally{if(M)throw M.error}}})})}else{const p=Mh(this.apiClient,e);return v=te("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.requestStream({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),g.then(function(C){return ji(this,arguments,function*(){var b,M,D,k;try{for(var H=!0,F=Wa(C),z;z=yield Le(F.next()),b=z.done,!b;H=!0){k=z.value,H=!1;const K=Nh(yield Le(k.json())),V=new Za;Object.assign(V,K),yield yield Le(V)}}catch(J){M={error:J}}finally{try{!H&&!b&&(D=F.return)&&(yield Le(D.call(F)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=yS(this.apiClient,e);return v=te("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>{const C=Sb(x),b=new sh;return Object.assign(b,C),b})}else{const p=RC(this.apiClient,e);return v=te("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>{const C=ZS(x),b=new sh;return Object.assign(b,C),b})}}async generateImagesInternal(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=xS(this.apiClient,e);return v=te("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>{const C=_b(x),b=new rh;return Object.assign(b,C),b})}else{const p=DC(this.apiClient,e);return v=te("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>{const C=tb(x),b=new rh;return Object.assign(b,C),b})}}async editImageInternal(e){var a,l;let c,d="",g={};if(this.apiClient.isVertexAI()){const v=AS(this.apiClient,e);return d=te("{model}:predict",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const p=Eb(y),x=new Ry;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var a,l;let c,d="",g={};if(this.apiClient.isVertexAI()){const v=wS(this.apiClient,e);return d=te("{model}:predict",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const p=Ab(y),x=new ky;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=NS(this.apiClient,e);return v=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>nu(x))}else{const p=IC(this.apiClient,e);return v=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>tu(x))}}async listInternal(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=kS(this.apiClient,e);return v=te("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>{const C=Rb(x),b=new uh;return Object.assign(b,C),b})}else{const p=UC(this.apiClient,e);return v=te("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>{const C=ib(x),b=new uh;return Object.assign(b,C),b})}}async update(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=IS(this.apiClient,e);return v=te("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>nu(x))}else{const p=BC(this.apiClient,e);return v=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>tu(x))}}async delete(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=LS(this.apiClient,e);return v=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(()=>{const x=kb(),C=new ch;return Object.assign(C,x),C})}else{const p=zC(this.apiClient,e);return v=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(()=>{const x=ab(),C=new ch;return Object.assign(C,x),C})}}async countTokens(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=VS(this.apiClient,e);return v=te("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>{const C=Db(x),b=new fh;return Object.assign(b,C),b})}else{const p=PC(this.apiClient,e);return v=te("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>{const C=ob(x),b=new fh;return Object.assign(b,C),b})}}async computeTokens(e){var a,l;let c,d="",g={};if(this.apiClient.isVertexAI()){const v=BS(this.apiClient,e);return d=te("{model}:computeTokens",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const p=Ib(y),x=new Dy;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=PS(this.apiClient,e);return v=te("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>Bb(x))}else{const p=FC(this.apiClient,e);return v=te("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>ub(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c_(n){const e={},a=s(n,["operationName"]);a!=null&&r(e,["_url","operationName"],a);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function f_(n){const e={},a=s(n,["operationName"]);a!=null&&r(e,["_url","operationName"],a);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function d_(n){const e={},a=s(n,["operationName"]);a!=null&&r(e,["operationName"],a);const l=s(n,["resourceName"]);l!=null&&r(e,["_url","resourceName"],l);const c=s(n,["config"]);return c!=null&&r(e,["config"],c),e}function m_(n){const e={},a=s(n,["video","uri"]);a!=null&&r(e,["uri"],a);const l=s(n,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],fn(l));const c=s(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function h_(n){const e={},a=s(n,["_self"]);return a!=null&&r(e,["video"],m_(a)),e}function p_(n){const e={},a=s(n,["generatedSamples"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(g=>h_(g))),r(e,["generatedVideos"],d)}const l=s(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function g_(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const g=s(n,["response","generateVideoResponse"]);return g!=null&&r(e,["response"],p_(g)),e}function y_(n){const e={},a=s(n,["gcsUri"]);a!=null&&r(e,["uri"],a);const l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],fn(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function v_(n){const e={},a=s(n,["_self"]);return a!=null&&r(e,["video"],y_(a)),e}function x_(n){const e={},a=s(n,["videos"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(g=>v_(g))),r(e,["generatedVideos"],d)}const l=s(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function Vh(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const g=s(n,["response"]);return g!=null&&r(e,["response"],x_(g)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T_ extends ii{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const a=e.operation,l=e.config;if(a.name===void 0||a.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=a.name.split("/operations/")[0];let d;return l&&"httpOptions"in l&&(d=l.httpOptions),this.fetchPredictVideosOperationInternal({operationName:a.name,resourceName:c,config:{httpOptions:d}})}else return this.getVideosOperationInternal({operationName:a.name,config:l})}async getVideosOperationInternal(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=f_(e);return v=te("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>Vh(x))}else{const p=c_(e);return v=te("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>g_(x))}}async fetchPredictVideosOperationInternal(e){var a,l;let c,d="",g={};if(this.apiClient.isVertexAI()){const v=d_(e);return d=te("{resourceName}:fetchPredictOperation",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Vh(y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C_(n){const e={},a=s(n,["voiceName"]);return a!=null&&r(e,["voiceName"],a),e}function Dp(n){const e={},a=s(n,["prebuiltVoiceConfig"]);return a!=null&&r(e,["prebuiltVoiceConfig"],C_(a)),e}function S_(n){const e={},a=s(n,["speaker"]);a!=null&&r(e,["speaker"],a);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Dp(l)),e}function b_(n){const e={},a=s(n,["speakerVoiceConfigs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>S_(c))),r(e,["speakerVoiceConfigs"],l)}return e}function __(n){const e={},a=s(n,["voiceConfig"]);a!=null&&r(e,["voiceConfig"],Dp(a));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],b_(l));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function E_(n){const e={},a=s(n,["fps"]);a!=null&&r(e,["fps"],a);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function A_(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=s(n,["data"]);a!=null&&r(e,["data"],a);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function M_(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function w_(n){const e={},a=s(n,["videoMetadata"]);a!=null&&r(e,["videoMetadata"],E_(a));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],A_(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],M_(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const v=s(n,["codeExecutionResult"]);v!=null&&r(e,["codeExecutionResult"],v);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const x=s(n,["functionResponse"]);x!=null&&r(e,["functionResponse"],x);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function N_(n){const e={},a=s(n,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>w_(d))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function R_(n){const e={},a=s(n,["behavior"]);a!=null&&r(e,["behavior"],a);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const g=s(n,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const v=s(n,["response"]);v!=null&&r(e,["response"],v);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function k_(n){const e={},a=s(n,["startTime"]);a!=null&&r(e,["startTime"],a);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function D_(n){const e={},a=s(n,["timeRangeFilter"]);return a!=null&&r(e,["timeRangeFilter"],k_(a)),e}function I_(n){const e={},a=s(n,["mode"]);a!=null&&r(e,["mode"],a);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function L_(n){const e={},a=s(n,["dynamicRetrievalConfig"]);return a!=null&&r(e,["dynamicRetrievalConfig"],I_(a)),e}function U_(){return{}}function V_(n){const e={},a=s(n,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(p=>R_(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],D_(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],L_(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],U_());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function B_(n){const e={},a=s(n,["handle"]);if(a!=null&&r(e,["handle"],a),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Bh(){return{}}function z_(n){const e={},a=s(n,["disabled"]);a!=null&&r(e,["disabled"],a);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const g=s(n,["silenceDurationMs"]);return g!=null&&r(e,["silenceDurationMs"],g),e}function G_(n){const e={},a=s(n,["automaticActivityDetection"]);a!=null&&r(e,["automaticActivityDetection"],z_(a));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function P_(n){const e={},a=s(n,["targetTokens"]);return a!=null&&r(e,["targetTokens"],a),e}function q_(n){const e={},a=s(n,["triggerTokens"]);a!=null&&r(e,["triggerTokens"],a);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],P_(l)),e}function H_(n){const e={},a=s(n,["proactiveAudio"]);return a!=null&&r(e,["proactiveAudio"],a),e}function F_(n,e){const a={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const g=s(n,["topP"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topP"],g);const v=s(n,["topK"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","topK"],v);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const x=s(n,["seed"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","seed"],x);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],__(mu(C)));const b=s(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],b);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],N_(rt(M)));const D=s(n,["tools"]);if(e!==void 0&&D!=null){let V=$i(D);Array.isArray(V)&&(V=V.map(Z=>V_(Xi(Z)))),r(e,["setup","tools"],V)}const k=s(n,["sessionResumption"]);e!==void 0&&k!=null&&r(e,["setup","sessionResumption"],B_(k));const H=s(n,["inputAudioTranscription"]);e!==void 0&&H!=null&&r(e,["setup","inputAudioTranscription"],Bh());const F=s(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&r(e,["setup","outputAudioTranscription"],Bh());const z=s(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&r(e,["setup","realtimeInputConfig"],G_(z));const J=s(n,["contextWindowCompression"]);e!==void 0&&J!=null&&r(e,["setup","contextWindowCompression"],q_(J));const K=s(n,["proactivity"]);return e!==void 0&&K!=null&&r(e,["setup","proactivity"],H_(K)),a}function O_(n,e){const a={},l=s(e,["model"]);l!=null&&r(a,["setup","model"],Ae(n,l));const c=s(e,["config"]);return c!=null&&r(a,["config"],F_(c,a)),a}function Y_(n,e,a){const l={},c=s(e,["expireTime"]);a!==void 0&&c!=null&&r(a,["expireTime"],c);const d=s(e,["newSessionExpireTime"]);a!==void 0&&d!=null&&r(a,["newSessionExpireTime"],d);const g=s(e,["uses"]);a!==void 0&&g!=null&&r(a,["uses"],g);const v=s(e,["liveConnectConstraints"]);a!==void 0&&v!=null&&r(a,["bidiGenerateContentSetup"],O_(n,v));const y=s(e,["lockAdditionalFields"]);return a!==void 0&&y!=null&&r(a,["fieldMask"],y),l}function J_(n,e){const a={},l=s(e,["config"]);return l!=null&&r(a,["config"],Y_(n,l,a)),a}function K_(n){const e={},a=s(n,["name"]);return a!=null&&r(e,["name"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j_(n){const e=[];for(const a in n)if(Object.prototype.hasOwnProperty.call(n,a)){const l=n[a];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const c=Object.keys(l).map(d=>`${a}.${d}`);e.push(...c)}else e.push(a)}return e.join(",")}function X_(n,e){let a=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const d=l.setup;typeof d=="object"&&d!==null?(n.bidiGenerateContentSetup=d,a=d):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(a){const d=j_(a);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?n.fieldMask=d:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const g=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let v=[];c.length>0&&(v=c.map(p=>g.includes(p)?`generationConfig.${p}`:p));const y=[];d&&y.push(d),v.length>0&&y.push(...v),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class $_ extends ii{constructor(e){super(),this.apiClient=e}async create(e){var a,l;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const v=J_(this.apiClient,e);d=te("auth_tokens",v._url),g=v._query,delete v.config,delete v._url,delete v._query;const y=X_(v,e.config);return c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),c.then(p=>K_(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q_(n){const e={},a=s(n,["name"]);a!=null&&r(e,["_url","name"],a);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function Z_(n,e){const a={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),a}function W_(n){const e={},a=s(n,["config"]);return a!=null&&r(e,["config"],Z_(a,e)),e}function eE(n){const e={},a=s(n,["textInput"]);a!=null&&r(e,["textInput"],a);const l=s(n,["output"]);return l!=null&&r(e,["output"],l),e}function tE(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=s(n,["examples"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>eE(c))),r(e,["examples","examples"],l)}return e}function nE(n,e){const a={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=s(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&r(e,["displayName"],l),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=s(n,["epochCount"]);e!==void 0&&c!=null&&r(e,["tuningTask","hyperparameters","epochCount"],c);const d=s(n,["learningRateMultiplier"]);if(d!=null&&r(a,["tuningTask","hyperparameters","learningRateMultiplier"],d),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=s(n,["batchSize"]);e!==void 0&&g!=null&&r(e,["tuningTask","hyperparameters","batchSize"],g);const v=s(n,["learningRate"]);return e!==void 0&&v!=null&&r(e,["tuningTask","hyperparameters","learningRate"],v),a}function iE(n){const e={},a=s(n,["baseModel"]);a!=null&&r(e,["baseModel"],a);const l=s(n,["trainingDataset"]);l!=null&&r(e,["tuningTask","trainingData"],tE(l));const c=s(n,["config"]);return c!=null&&r(e,["config"],nE(c,e)),e}function aE(n){const e={},a=s(n,["name"]);a!=null&&r(e,["_url","name"],a);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function oE(n,e){const a={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),a}function lE(n){const e={},a=s(n,["config"]);return a!=null&&r(e,["config"],oE(a,e)),e}function sE(n,e){const a={},l=s(n,["gcsUri"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],l);const c=s(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function rE(n,e){const a={},l=s(n,["gcsUri"]);l!=null&&r(a,["validationDatasetUri"],l);const c=s(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),a}function uE(n,e){const a={},l=s(n,["validationDataset"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec"],rE(l,a));const c=s(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&r(e,["tunedModelDisplayName"],c);const d=s(n,["description"]);e!==void 0&&d!=null&&r(e,["description"],d);const g=s(n,["epochCount"]);e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],g);const v=s(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v);const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=s(n,["adapterSize"]);if(e!==void 0&&p!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return a}function cE(n){const e={},a=s(n,["baseModel"]);a!=null&&r(e,["baseModel"],a);const l=s(n,["trainingDataset"]);l!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],sE(l,e));const c=s(n,["config"]);return c!=null&&r(e,["config"],uE(c,e)),e}function fE(n){const e={},a=s(n,["name"]);a!=null&&r(e,["model"],a);const l=s(n,["name"]);return l!=null&&r(e,["endpoint"],l),e}function Ip(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["state"]);l!=null&&r(e,["state"],cp(l));const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=s(n,["tuningTask","startTime"]);d!=null&&r(e,["startTime"],d);const g=s(n,["tuningTask","completeTime"]);g!=null&&r(e,["endTime"],g);const v=s(n,["updateTime"]);v!=null&&r(e,["updateTime"],v);const y=s(n,["description"]);y!=null&&r(e,["description"],y);const p=s(n,["baseModel"]);p!=null&&r(e,["baseModel"],p);const x=s(n,["_self"]);x!=null&&r(e,["tunedModel"],fE(x));const C=s(n,["distillationSpec"]);C!=null&&r(e,["distillationSpec"],C);const b=s(n,["experiment"]);b!=null&&r(e,["experiment"],b);const M=s(n,["labels"]);M!=null&&r(e,["labels"],M);const D=s(n,["pipelineJob"]);D!=null&&r(e,["pipelineJob"],D);const k=s(n,["satisfiesPzi"]);k!=null&&r(e,["satisfiesPzi"],k);const H=s(n,["satisfiesPzs"]);H!=null&&r(e,["satisfiesPzs"],H);const F=s(n,["serviceAccount"]);F!=null&&r(e,["serviceAccount"],F);const z=s(n,["tunedModelDisplayName"]);return z!=null&&r(e,["tunedModelDisplayName"],z),e}function dE(n){const e={},a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const l=s(n,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Ip(d))),r(e,["tuningJobs"],c)}return e}function mE(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);return d!=null&&r(e,["error"],d),e}function hE(n){const e={},a=s(n,["checkpointId"]);a!=null&&r(e,["checkpointId"],a);const l=s(n,["epoch"]);l!=null&&r(e,["epoch"],l);const c=s(n,["step"]);c!=null&&r(e,["step"],c);const d=s(n,["endpoint"]);return d!=null&&r(e,["endpoint"],d),e}function pE(n){const e={},a=s(n,["model"]);a!=null&&r(e,["model"],a);const l=s(n,["endpoint"]);l!=null&&r(e,["endpoint"],l);const c=s(n,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>hE(g))),r(e,["checkpoints"],d)}return e}function au(n){const e={},a=s(n,["name"]);a!=null&&r(e,["name"],a);const l=s(n,["state"]);l!=null&&r(e,["state"],cp(l));const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=s(n,["startTime"]);d!=null&&r(e,["startTime"],d);const g=s(n,["endTime"]);g!=null&&r(e,["endTime"],g);const v=s(n,["updateTime"]);v!=null&&r(e,["updateTime"],v);const y=s(n,["error"]);y!=null&&r(e,["error"],y);const p=s(n,["description"]);p!=null&&r(e,["description"],p);const x=s(n,["baseModel"]);x!=null&&r(e,["baseModel"],x);const C=s(n,["tunedModel"]);C!=null&&r(e,["tunedModel"],pE(C));const b=s(n,["supervisedTuningSpec"]);b!=null&&r(e,["supervisedTuningSpec"],b);const M=s(n,["tuningDataStats"]);M!=null&&r(e,["tuningDataStats"],M);const D=s(n,["encryptionSpec"]);D!=null&&r(e,["encryptionSpec"],D);const k=s(n,["partnerModelTuningSpec"]);k!=null&&r(e,["partnerModelTuningSpec"],k);const H=s(n,["distillationSpec"]);H!=null&&r(e,["distillationSpec"],H);const F=s(n,["experiment"]);F!=null&&r(e,["experiment"],F);const z=s(n,["labels"]);z!=null&&r(e,["labels"],z);const J=s(n,["pipelineJob"]);J!=null&&r(e,["pipelineJob"],J);const K=s(n,["satisfiesPzi"]);K!=null&&r(e,["satisfiesPzi"],K);const V=s(n,["satisfiesPzs"]);V!=null&&r(e,["satisfiesPzs"],V);const Z=s(n,["serviceAccount"]);Z!=null&&r(e,["serviceAccount"],Z);const ne=s(n,["tunedModelDisplayName"]);return ne!=null&&r(e,["tunedModelDisplayName"],ne),e}function gE(n){const e={},a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const l=s(n,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>au(d))),r(e,["tuningJobs"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yE extends ii{constructor(e){super(),this.apiClient=e,this.get=async a=>await this.getInternal(a),this.list=async(a={})=>new eo(ni.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(a),a),this.tune=async a=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(a);{const l=await this.tuneMldevInternal(a);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:jr.JOB_STATE_QUEUED}}}}async getInternal(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=aE(e);return v=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>au(x))}else{const p=Q_(e);return v=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>Ip(x))}}async listInternal(e){var a,l,c,d;let g,v="",y={};if(this.apiClient.isVertexAI()){const p=lE(e);return v=te("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),g.then(x=>{const C=gE(x),b=new dh;return Object.assign(b,C),b})}else{const p=W_(e);return v=te("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),g.then(x=>{const C=dE(x),b=new dh;return Object.assign(b,C),b})}}async tuneInternal(e){var a,l;let c,d="",g={};if(this.apiClient.isVertexAI()){const v=cE(e);return d=te("tuningJobs",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>au(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var a,l;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=iE(e);return d=te("tunedModels",v._url),g=v._query,delete v.config,delete v._url,delete v._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>mE(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vE{async download(e,a){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const xE=1024*1024*8,TE=3,CE=1e3,SE=2,Jr="x-goog-upload-status";async function bE(n,e,a){var l,c,d;let g=0,v=0,y=new Xr(new Response),p="upload";for(g=n.size;v<g;){const C=Math.min(xE,g-v),b=n.slice(v,v+C);v+C>=g&&(p+=", finalize");let M=0,D=CE;for(;M<TE&&(y=await a.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(v),"Content-Length":String(C)}}}),!(!((l=y==null?void 0:y.headers)===null||l===void 0)&&l[Jr]));)M++,await EE(D),D=D*SE;if(v+=C,((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[Jr])!=="active")break;if(g<=v)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const x=await(y==null?void 0:y.json());if(((d=y==null?void 0:y.headers)===null||d===void 0?void 0:d[Jr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return x.file}async function _E(n){return{size:n.size,type:n.type}}function EE(n){return new Promise(e=>setTimeout(e,n))}class AE{async upload(e,a,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await bE(e,a,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _E(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ME{create(e,a,l){return new wE(e,a,l)}}class wE{constructor(e,a,l){this.url=e,this.headers=a,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zh="x-goog-api-key";class NE{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(zh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(zh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RE="gl-node/";class kE{constructor(e){var a;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(a=e.vertexai)!==null&&a!==void 0?a:!1,this.apiKey=e.apiKey;const l=Ny(e,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const c=new NE(this.apiKey);this.apiClient=new Yb({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:RE+"web",uploader:new AE,downloader:new vE}),this.models=new u_(this.apiClient),this.live=new a_(this.apiClient,c,new ME),this.batches=new Zv(this.apiClient),this.chats=new nT(this.models,this.apiClient),this.caches=new Wx(this.apiClient),this.files=new pT(this.apiClient),this.operations=new T_(this.apiClient),this.authTokens=new $_(this.apiClient),this.tunings=new yE(this.apiClient)}}const Gh={urbanFire:["https://cdn.builder.io/api/v1/image/assets%2F72fdc3fe902a491fb76060ce278d01d8%2F6085498f29dd439f9867fed34e32e344?format=webp&width=800","https://cdn.builder.io/api/v1/image/assets%2F72fdc3fe902a491fb76060ce278d01d8%2Fef43c8779b6e4827a9845d40dfc7f922?format=webp&width=800","https://cdn.builder.io/api/v1/image/assets%2F72fdc3fe902a491fb76060ce278d01d8%2F8bd81e7b19f746c495145d8019152905?format=webp&width=800"],floodResponse:["https://cdn.builder.io/api/v1/image/assets%2F72fdc3fe902a491fb76060ce278d01d8%2Fdd7b93a2f6114362a33aa65035b5da28?format=webp&width=800","https://cdn.builder.io/api/v1/image/assets%2F72fdc3fe902a491fb76060ce278d01d8%2F999d11b720fc45d799fe82d37e2bf735?format=webp&width=800","https://cdn.builder.io/api/v1/image/assets%2F72fdc3fe902a491fb76060ce278d01d8%2F4dfc644b850e4a4d8638a6bf4823f40c?format=webp&width=800","https://cdn.builder.io/api/v1/image/assets%2F72fdc3fe902a491fb76060ce278d01d8%2F9a216ec9bed747b396de6365d2a8ee90?format=webp&width=800"],roadAccident:["https://cdn.builder.io/api/v1/image/assets%2F72fdc3fe902a491fb76060ce278d01d8%2Fca2d5ffcdcb54f5da58c02bc54241cf2?format=webp&width=800","https://cdn.builder.io/api/v1/image/assets%2F72fdc3fe902a491fb76060ce278d01d8%2Fe5f843f586ae49ed8615f205e742146f?format=webp&width=800","https://cdn.builder.io/api/v1/image/assets%2F72fdc3fe902a491fb76060ce278d01d8%2F8d75b88d79bc4d969de07b09971520a9?format=webp&width=800","https://cdn.builder.io/api/v1/image/assets%2F72fdc3fe902a491fb76060ce278d01d8%2Ffecc5775bb8c453baa8116e1bd6efc37?format=webp&width=800","https://cdn.builder.io/api/v1/image/assets%2F72fdc3fe902a491fb76060ce278d01d8%2F7cd1d8c688e64164887eae8d71ae3469?format=webp&width=800"],marketplaceStampede:["https://cdn.builder.io/api/v1/image/assets%2F72fdc3fe902a491fb76060ce278d01d8%2F0266b766462947f985289b2b5982fe1c?format=webp&width=800","https://cdn.builder.io/api/v1/image/assets%2F72fdc3fe902a491fb76060ce278d01d8%2Fb5792367c069485a963ced30c33c35fe?format=webp&width=800","https://cdn.builder.io/api/v1/image/assets%2F72fdc3fe902a491fb76060ce278d01d8%2F19664f417326416381465161d9aff87d?format=webp&width=800","https://cdn.builder.io/api/v1/image/assets%2F72fdc3fe902a491fb76060ce278d01d8%2F331c2e9d3dd841268f1550aa0a6c5112?format=webp&width=800"]};let Kr=null,yt=null;function DE(){var a,l;const n=localStorage.getItem("prepzone_api_key");if(n&&ou(n))return n;const e=(l=(a=window.process)==null?void 0:a.env)==null?void 0:l.API_KEY;return e&&ou(e)?e:null}function ou(n){const e=n.trim();return e.length===39&&e.startsWith("AIza")}function Lp(){if(Kr=DE(),!Kr)return yt=null,!1;try{return yt=new kE({apiKey:Kr}),!0}catch(n){return console.error("Failed to initialize GoogleGenAI:",n),yt=null,!1}}function IE(n){if(!ou(n))throw new Error('Invalid API key format. Key must be 39 characters long and start with "AIza".');return localStorage.setItem("prepzone_api_key",n.trim()),Lp()}function LE(){return yt!==null}Lp();const UE={type:Je.OBJECT,properties:{question:{type:Je.STRING,description:"The scenario question for the user."},choices:{type:Je.ARRAY,description:"An array of 2 to 3 possible actions for the user to choose from.",items:{type:Je.STRING}},correctChoiceIndex:{type:Je.INTEGER,description:"The 0-based index of the correct choice in the 'choices' array. This choice must be the objectively safest and best practice."},feedback:{type:Je.ARRAY,description:"An array of feedback strings, one for each choice, in the same order. Explain why each choice is good or bad in a supportive, educational tone.",items:{type:Je.STRING}}},required:["question","choices","correctChoiceIndex","feedback"]},VE={type:Je.OBJECT,properties:{contextualAlert:{type:Je.STRING,description:"A short, location-specific safety alert, max 2-3 sentences. Example: 'Flood warnings are in effect for coastal areas of Lagos this week.'"},trainingRecommendationKey:{type:Je.STRING,description:`A suggestion for which training scenario to try next, justified by user stats or location. Must be one of these keys: ${ip.map(n=>n.key).join(", ")}.`},trainingRecommendationReason:{type:Je.STRING,description:"The reason for the training recommendation. Example: 'Your performance in Flood Response is lower than other scenarios.'"},preparednessTip:{type:Je.STRING,description:"A general, actionable disaster preparedness tip relevant to the user's profile or location."}},required:["contextualAlert","trainingRecommendationKey","trainingRecommendationReason","preparednessTip"]},Up=async(n,e,a,l)=>{var c;if(!yt)throw new Error("API key not configured. Please set your Gemini API key.");try{const d=l?`The scenario is '${n}' in ${a}. Here is what just happened: ${l}. Now, create the next logical question and choices in this scenario.`:`Create the first challenging scenario question for: '${n}' in ${a}.`;let v=((c=(await yt.models.generateContent({model:"gemini-2.5-flash",contents:d,config:{systemInstruction:e,responseMimeType:"application/json",responseSchema:UE}})).text)==null?void 0:c.trim())||"";v.startsWith("```json")&&(v=v.substring(7,v.length-3).trim());const y=JSON.parse(v);if(!y.question||!y.choices||y.choices.length<2||y.feedback.length!==y.choices.length)throw new Error("Received invalid question data structure from AI.");return y}catch(d){throw console.error("Error generating question:",d),d instanceof SyntaxError?new Error("Failed to parse the AI's response. The data was not valid JSON."):new Error("Failed to generate scenario question.")}},BE=async(n,e,a)=>{try{return await Up(n,e,a)}catch(l){throw console.error("Error in generateInitialScenario:",l),l}},zE=async(n,e,a,l)=>Up(n,e,l,a),GE=async n=>{if(!yt)throw new Error("API key not configured. Please set your Gemini API key.");try{return(await yt.models.generateContent({model:"gemini-2.5-flash",contents:n})).text||"Error generating summary."}catch(e){throw console.error("Error generating game summary:",e),new Error("Failed to generate performance summary.")}},PE=n=>{const e=Gh[n]||Gh.roadAccident;return e[Math.floor(Math.random()*e.length)]},qE=async(n,e)=>PE(e),HE=async n=>{if(!yt)throw new Error("API key not configured. Please set your Gemini API key.");try{const e=`Using Google Search for the latest information, act as the Nigerian National Emergency Management Agency (NEMA). Generate one realistic and recent public safety announcement or emergency alert relevant to Nigeria. The alert must be in ${n}. Your response MUST be a single JSON object with three keys: "title" (string), "message" (string), and "severity" (string, which must be one of 'Alert', 'Warning', 'Info'). Do not include any other text or markdown formatting like \`\`\`json.`;return await yt.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{tools:[{googleSearch:{}}]}})}catch(e){throw console.error("Error generating emergency broadcast:",e),new Error("Failed to generate emergency broadcast.")}},FE=async(n,e,a)=>{if(!yt)throw new Error("API key not configured. Please set your Gemini API key.");try{const l=`You are simulating a person named '${e}' in a private chat during a potential emergency in Nigeria. Your replies should be short, realistic, and in ${a}. Keep the tone appropriate for the contact (e.g., caring for family, formal for community watch).`,c=`This is our chat history. The last message was from me. Please reply as ${e}.

Chat History:
${n}`;return(await yt.models.generateContent({model:"gemini-2.5-flash",contents:c,config:{systemInstruction:l}})).text||"No reply generated."}catch(l){throw console.error("Error generating chat reply:",l),new Error("Failed to generate chat reply.")}},OE=async(n,e,a,l)=>{var c;if(!yt)throw new Error("API key not configured. Please set your Gemini API key.");try{const d=`You are a personalization AI for the NEMA PrepZone app. The user is at Level ${e}, located in ${n}, Nigeria. Their performance stats are: ${JSON.stringify(a)}. Based on this, generate a JSON object in ${l} with the specified schema.`;let v=((c=(await yt.models.generateContent({model:"gemini-2.5-flash",contents:d,config:{systemInstruction:"Generate only the JSON object based on the user's profile. Be concise and highly relevant to their context.",responseMimeType:"application/json",responseSchema:VE}})).text)==null?void 0:c.trim())||"";return v.startsWith("```json")&&(v=v.substring(7,v.length-3).trim()),JSON.parse(v)}catch(d){throw console.error("Error generating recommendations:",d),new Error("Failed to generate personalized recommendations.")}},Ph=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-3.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),YE=({className:n="w-5 h-5"})=>m.jsxs("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),JE=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L12 12m0 0l3.122 3.122M12 12l3.122-3.122m4.256 4.256l3 3m-3-3L21 3"})}),KE=({className:n="w-4 h-4"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),jE=({setApiKey:n})=>{const[e,a]=Y.useState(""),[l,c]=Y.useState(!1),[d,g]=Y.useState(!1),v=async y=>{if(y.preventDefault(),!!e.trim()){g(!0);try{n(e.trim())}catch{}finally{g(!1)}}};return m.jsx("div",{className:"min-h-screen bg-surface flex items-center justify-center p-4",children:m.jsx("div",{className:"max-w-md w-full",children:m.jsxs("div",{className:"card p-8",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(Ph,{className:"w-8 h-8 text-white"})}),m.jsx("h1",{className:"text-display-2 font-display mb-2",children:"API Key Required"}),m.jsx("p",{className:"text-body text-secondary",children:"Enter your Google AI API key to start using PrepZone"})]}),m.jsxs("form",{onSubmit:v,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"apiKey",className:"block text-body-sm font-medium mb-2",children:"Google AI API Key"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{id:"apiKey",type:l?"text":"password",value:e,onChange:y=>a(y.target.value),placeholder:"Enter your API key...",className:"input pr-12",required:!0}),m.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary hover:text-primary",children:l?m.jsx(JE,{className:"w-5 h-5"}):m.jsx(YE,{className:"w-5 h-5"})})]})]}),m.jsx("button",{type:"submit",disabled:!e.trim()||d,className:"btn btn-primary w-full",children:d?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verifying..."]}):m.jsxs(m.Fragment,{children:[m.jsx(Ph,{className:"w-4 h-4"}),"Continue"]})})]}),m.jsxs("div",{className:"mt-8 p-4 bg-surface rounded-lg",children:[m.jsx("h3",{className:"text-body-sm font-medium mb-3",children:"Need an API key?"}),m.jsxs("div",{className:"space-y-3 text-body-sm text-secondary",children:[m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"flex-shrink-0 w-5 h-5 bg-primary-light rounded-full text-primary text-xs flex items-center justify-center mt-0.5",children:"1"}),m.jsx("p",{children:"Visit Google AI Studio to get your free API key"})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"flex-shrink-0 w-5 h-5 bg-primary-light rounded-full text-primary text-xs flex items-center justify-center mt-0.5",children:"2"}),m.jsx("p",{children:"Copy the API key and paste it above"})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"flex-shrink-0 w-5 h-5 bg-primary-light rounded-full text-primary text-xs flex items-center justify-center mt-0.5",children:"3"}),m.jsx("p",{children:"Start your disaster preparedness training!"})]})]}),m.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary mt-4 inline-flex items-center gap-2",children:["Get API Key",m.jsx(KE,{className:"w-4 h-4"})]})]}),m.jsx("div",{className:"mt-6 p-4 border border-warning bg-yellow-50 rounded-lg",children:m.jsxs("p",{className:"text-body-sm text-warning",children:[m.jsx("strong",{children:"Note:"})," Your API key is stored locally and never shared with others. It's only used to communicate with Google's AI services."]})})]})})})};class XE{constructor(){this.audioContext=null,this.initAudioContext()}initAudioContext(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch{console.warn("Web Audio API not supported")}}async ensureAudioContext(){var e;this.audioContext||this.initAudioContext(),((e=this.audioContext)==null?void 0:e.state)==="suspended"&&await this.audioContext.resume()}async playTone(e,a,l="sine",c=.1){if(await this.ensureAudioContext(),!this.audioContext)return;const d=this.audioContext.createOscillator(),g=this.audioContext.createGain();d.connect(g),g.connect(this.audioContext.destination),d.frequency.setValueAtTime(e,this.audioContext.currentTime),d.type=l,g.gain.setValueAtTime(c,this.audioContext.currentTime),g.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+a),d.start(this.audioContext.currentTime),d.stop(this.audioContext.currentTime+a)}async playSuccess(){await this.playTone(523.25,.15,"sine",.1),setTimeout(()=>this.playTone(659.25,.15,"sine",.1),100),setTimeout(()=>this.playTone(783.99,.25,"sine",.1),200)}async playError(){await this.playTone(400,.2,"sine",.08),setTimeout(()=>this.playTone(300,.3,"sine",.08),150)}async playAchievement(){const e=[523.25,659.25,783.99,1046.5];for(let a=0;a<e.length;a++)setTimeout(()=>this.playTone(e[a],.2,"triangle",.08),a*100)}async playNotification(){await this.playTone(800,.1,"sine",.05),setTimeout(()=>this.playTone(1e3,.1,"sine",.05),80)}async playButtonClick(){await this.playTone(1200,.05,"square",.03)}async playLevelUp(){const e=[523.25,659.25,783.99],a=[587.33,739.99,880];e.forEach(l=>this.playTone(l,.4,"triangle",.06)),setTimeout(()=>{a.forEach(l=>this.playTone(l,.6,"triangle",.08))},300)}}const Oi=new XE,$E=()=>{const n=localStorage.getItem("safety_training_sound_enabled");return n!==null?JSON.parse(n):!0},QE=n=>{localStorage.setItem("safety_training_sound_enabled",JSON.stringify(n))},Vp=()=>{const n=$E();return{playSound:async a=>{if(n)try{switch(a){case"success":await Oi.playSuccess();break;case"error":await Oi.playError();break;case"achievement":await Oi.playAchievement();break;case"notification":await Oi.playNotification();break;case"click":await Oi.playButtonClick();break;case"levelup":await Oi.playLevelUp();break}}catch(l){console.debug("Sound effect failed:",l)}},soundEnabled:n,setSoundEnabled:QE}},ZE=()=>{const{soundEnabled:n,setSoundEnabled:e,playSound:a}=Vp(),l=()=>{const c=!n;e(c),c&&a("notification")};return m.jsx("button",{onClick:l,className:`p-2 rounded-lg transition-all duration-200 ${n?"bg-brand text-white hover:bg-brand-dark":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,title:`Sound effects ${n?"enabled":"disabled"}`,"aria-label":`Toggle sound effects. Currently ${n?"on":"off"}`,children:n?m.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072M18.364 5.636a9 9 0 010 12.728M6 10H4a1 1 0 00-1 1v2a1 1 0 001 1h2l3.5 3.5V6.5L6 10z"})}):m.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})},WE=({children:n})=>{const{playSound:e}=Vp();return Y.useEffect(()=>{const a=()=>e("achievement"),l=()=>e("levelup"),c=()=>e("success"),d=()=>e("error");return window.addEventListener("achievement-unlocked",a),window.addEventListener("level-up",l),window.addEventListener("training-success",c),window.addEventListener("training-error",d),()=>{window.removeEventListener("achievement-unlocked",a),window.removeEventListener("level-up",l),window.removeEventListener("training-success",c),window.removeEventListener("training-error",d)}},[e]),m.jsx(m.Fragment,{children:n})},eA=n=>{const e=new CustomEvent(n);window.dispatchEvent(e)},tA=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-3a5 5 0 00-5-5 5 5 0 00-5 5v3m9-9v-3a5 5 0 00-5-5 5 5 0 00-5 5v3"})}),nA=({className:n="w-6 h-6"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),iA=({className:n="w-6 h-6"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),aA=({className:n="w-4 h-4"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),oA=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),lA=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a9.863 9.863 0 01-4.255-.949L5 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 3.582-8 8-8s8 3.582 8 8z"})}),sA=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),rA=({className:n="w-4 h-4"})=>m.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),uA=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),qh=({progress:n,size:e=48,strokeWidth:a=4,className:l=""})=>{const c=(e-a)/2,d=c*2*Math.PI,g=`${d} ${d}`,v=d-n/100*d;return m.jsxs("div",{className:`relative ${l}`,style:{width:e,height:e},children:[m.jsxs("svg",{className:"transform -rotate-90",width:e,height:e,children:[m.jsx("circle",{cx:e/2,cy:e/2,r:c,stroke:"var(--gray-200)",strokeWidth:a,fill:"transparent"}),m.jsx("circle",{cx:e/2,cy:e/2,r:c,stroke:"url(#progress-gradient)",strokeWidth:a,fill:"transparent",strokeDasharray:g,strokeDashoffset:v,strokeLinecap:"round",className:"transition-all duration-500 ease-out"}),m.jsx("defs",{children:m.jsxs("linearGradient",{id:"progress-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[m.jsx("stop",{offset:"0%",stopColor:"var(--brand-primary)"}),m.jsx("stop",{offset:"100%",stopColor:"var(--brand-secondary)"})]})})]}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx(rA,{className:"w-4 h-4 text-brand"})})]})},cA=({className:n="",showText:e=!0})=>m.jsxs("div",{className:`flex items-center gap-3 ${n}`,children:[m.jsxs("div",{className:"relative flex flex-col rounded-2xl overflow-hidden",children:[m.jsx("img",{src:"https://cdn.builder.io/api/v1/image/assets%2F520d68a1554248838ad76d15283f7c83%2F07a5c6176cc14995a9e7d99ee325a073?format=webp&width=800",alt:"3MTT Logo",className:"h-10 w-auto object-contain animate-pulse-soft rounded-2xl"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 hover:opacity-30 transition-opacity duration-300 transform skew-x-12"})]}),e&&m.jsxs("div",{className:"hidden sm:block",children:[m.jsx("h1",{className:"font-display text-heading-3 text-gradient-brand leading-none",children:"Safety Training"}),m.jsx("p",{className:"text-caption text-tertiary font-medium tracking-wide",children:"3MTT Assistance Platform"})]})]}),fA=()=>{const{view:n,setView:e,t:a,language:l,selectLanguage:c,level:d,currentXp:g,xpToNextLevel:v,location:y}=ut(),[p,x]=Y.useState(!1),[C,b]=Y.useState(!1),[M]=Y.useState(2),D=Y.useRef(null);Y.useEffect(()=>{const z=J=>{D.current&&!D.current.contains(J.target)&&b(!1)};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[]);const k=z=>{z!==l&&c(z),b(!1),x(!1)},H=[{key:"dashboard",icon:oA,label:"Dashboard",description:"Overview & Analytics"},{key:"comms",icon:lA,label:"Communications",description:"Communications Hub"},{key:"achievements",icon:sA,label:"Achievements",description:"Progress & Badges"}],F=Math.min(g/v*100,100);return m.jsx("header",{className:"nav animate-slide-down",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"flex items-center justify-between h-20",children:[m.jsx("div",{className:"flex items-center",children:m.jsx(cA,{className:"cursor-pointer hover:scale-105 transition-transform duration-300"})}),m.jsx("nav",{className:"hidden lg:flex items-center gap-3",children:H.map(z=>m.jsxs("div",{className:"relative group",children:[m.jsxs("button",{onClick:()=>e(z.key),className:`nav-item flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-200 ${n===z.key?"nav-item-active bg-brand text-white":"hover:bg-gray-100"}`,children:[m.jsx(z.icon,{className:"w-4 h-4"}),m.jsx("span",{className:"font-medium",children:z.label})]}),m.jsxs("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:[z.description,m.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-b-gray-900"})]})]},z.key))}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"hidden xl:flex items-center gap-4",children:[m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:"text-body-sm font-semibold text-brand",children:["Level ",d]}),m.jsxs("div",{className:"text-caption",children:[g.toLocaleString(),"/",v.toLocaleString()," ","XP"]})]}),m.jsx(qh,{progress:F,className:"animate-pulse-soft"})]}),y&&m.jsxs("div",{className:"hidden lg:flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-brand-primary-light to-brand-secondary-light rounded-xl border border-brand-primary/20",children:[m.jsxs("svg",{className:"w-4 h-4 text-brand",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),m.jsxs("span",{className:"text-sm font-medium text-brand",children:["🇳🇬 ",y]})]}),m.jsx("div",{className:"relative",children:m.jsx("button",{className:"btn-ghost relative",children:m.jsx(uA,{className:"w-5 h-5"})})}),m.jsx(ZE,{}),m.jsxs("div",{className:"relative",ref:D,children:[m.jsxs("button",{onClick:()=>b(!C),className:"btn-ghost flex items-center gap-2",children:[m.jsx(tA,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden md:inline font-medium",children:Vn[l]}),m.jsx("span",{className:"md:hidden font-bold text-xs",children:l.toUpperCase()}),m.jsx(aA,{className:`w-3 h-3 transition-transform duration-200 ${C?"rotate-180":""}`})]}),C&&m.jsx("div",{className:"absolute right-0 top-full mt-3 w-56 card-elevated shadow-xl z-50 animate-scale-in",children:m.jsxs("div",{className:"p-3",children:[m.jsx("div",{className:"px-4 py-3 text-caption font-semibold text-tertiary border-b border-light mb-3",children:"Select Language"}),Object.keys(Vn).map(z=>m.jsxs("button",{onClick:()=>k(z),className:`w-full text-left px-4 py-4 rounded-xl text-sm transition-all duration-200 flex items-center justify-between ${l===z?"bg-gradient-brand text-white font-semibold shadow-brand":"text-secondary hover:bg-tertiary hover:text-primary"}`,children:[m.jsx("span",{children:Vn[z]}),l===z&&m.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse-soft"})]},z))]})})]}),m.jsx("button",{onClick:()=>x(!p),className:"lg:hidden btn-ghost","aria-label":"Toggle menu",children:p?m.jsx(iA,{className:"w-6 h-6"}):m.jsx(nA,{className:"w-6 h-6"})})]})]}),p&&m.jsxs("div",{className:"lg:hidden border-t border-light mt-4 animate-slide-down",children:[m.jsx("div",{className:"py-6 border-b border-light",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(qh,{progress:F,size:56}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("span",{className:"text-body font-semibold text-brand",children:["Level ",d]}),m.jsxs("span",{className:"text-body-sm text-secondary",children:[Math.round(F),"%"]})]}),m.jsx("div",{className:"progress progress-sm",children:m.jsx("div",{className:"progress-bar",style:{width:`${F}%`}})}),m.jsxs("div",{className:"text-caption mt-1",children:[g.toLocaleString()," /"," ",v.toLocaleString()," XP"]})]})]})}),m.jsx("nav",{className:"py-4 space-y-1",children:H.map((z,J)=>m.jsxs("button",{onClick:()=>{e(z.key),x(!1)},className:`w-full flex items-center gap-4 p-4 rounded-xl transition-all duration-200 animate-slide-up ${n===z.key?"bg-gradient-brand text-white shadow-brand":"text-secondary hover:bg-tertiary hover:text-primary"}`,style:{animationDelay:`${J*100}ms`},children:[m.jsx("div",{className:`p-2 rounded-lg ${n===z.key?"bg-white bg-opacity-20":"bg-tertiary"}`,children:m.jsx(z.icon,{className:"w-5 h-5"})}),m.jsxs("div",{className:"flex-1 text-left",children:[m.jsx("div",{className:"font-semibold",children:z.label}),m.jsx("div",{className:`text-xs ${n===z.key?"text-white text-opacity-80":"text-tertiary"}`,children:z.description})]}),n===z.key&&m.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse-soft"})]},z.key))})]})]})})},Ml=({size:n="md",color:e="brand",className:a="",label:l="Loading"})=>{const c={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},d={sm:"2",md:"2.5",lg:"3",xl:"3.5"},g={primary:"text-primary",brand:"text-brand",success:"text-success",warning:"text-warning",error:"text-error"};return m.jsxs("div",{className:`inline-flex items-center justify-center ${a}`,role:"status","aria-label":l,"aria-live":"polite",children:[m.jsxs("svg",{className:`${c[n]} ${g[e]} animate-spin`,fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:d[n],strokeOpacity:"0.15",strokeLinecap:"round"}),m.jsx("path",{fill:"none",stroke:`url(#spinner-gradient-${e})`,strokeWidth:d[n],strokeLinecap:"round",strokeDasharray:"15.71",strokeDashoffset:"15.71",d:"M12 2a10 10 0 0 1 10 10",opacity:"0.9"}),m.jsx("defs",{children:m.jsxs("linearGradient",{id:`spinner-gradient-${e}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[m.jsx("stop",{offset:"0%",stopColor:`var(--${e==="brand"?"brand-primary":`color-${e}`})`}),m.jsx("stop",{offset:"100%",stopColor:`var(--${e==="brand"?"brand-secondary":`color-${e}-dark`})`})]})})]}),m.jsxs("span",{className:"sr-only",children:[l,"..."]})]})},dA=({broadcast:n})=>{const{t:e}=ut(),a={Alert:{border:"border-red-500/80",text:"text-red-300",label:e("alertAlert"),glow:"shadow-red-500/30",bg:"bg-gradient-to-br from-red-950/80 via-red-900/60 to-black/80",overlay:"bg-red-900/20"},Warning:{border:"border-yellow-500/80",text:"text-yellow-300",label:e("alertWarning"),glow:"shadow-yellow-500/30",bg:"bg-gradient-to-br from-yellow-950/80 via-yellow-900/60 to-black/80",overlay:"bg-yellow-900/20"},Info:{border:"border-blue-500/80",text:"text-blue-300",label:e("alertInfo"),glow:"shadow-blue-500/20",bg:"bg-gradient-to-br from-blue-950/80 via-blue-900/60 to-black/80",overlay:"bg-blue-900/20"}},l=a[n.severity]||a.Info;return m.jsxs("div",{className:"relative overflow-hidden",children:[m.jsx("div",{className:`absolute inset-0 ${l.bg} rounded-xl`}),m.jsx("div",{className:`absolute inset-0 ${l.overlay} rounded-xl`}),m.jsxs("div",{className:`relative glass-pane rounded-xl p-6 animate-fade-in shadow-2xl ${l.border} ${l.glow} backdrop-blur-sm`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-4 gap-4",children:[m.jsx("h3",{className:"text-2xl font-bold text-gray-100 drop-shadow-lg",children:n.title}),m.jsx("span",{className:`font-bold text-sm px-3 py-1 rounded-full whitespace-nowrap bg-black/60 ${l.text} border ${l.border} shadow-lg`,children:l.label})]}),m.jsx("p",{className:"text-gray-200 mb-5 whitespace-pre-wrap font-light leading-relaxed drop-shadow-md",children:n.message}),n.sources&&n.sources.length>0&&m.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-600/60",children:[m.jsxs("h4",{className:"font-semibold text-gray-300 text-sm mb-2 drop-shadow",children:[e("alertSources"),":"]}),m.jsx("ul",{className:"list-disc list-inside space-y-1",children:n.sources.map((c,d)=>m.jsx("li",{children:m.jsx("a",{href:c.web.uri,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-300 hover:text-cyan-200 hover:underline text-sm drop-shadow transition-colors",children:c.web.title||c.web.uri})},d))})]}),m.jsx("p",{className:"text-xs text-gray-400 text-right mt-4 drop-shadow",children:new Date(n.timestamp).toLocaleString()})]})]})},Hh=()=>{const{t:n,language:e,unlockAchievement:a}=ut(),[l,c]=Y.useState([]),[d,g]=Y.useState(!1),[v,y]=Y.useState(null),p=Y.useCallback(async()=>{var x,C,b,M;g(!0),y(null);try{const D=await HE(Vn[e]);let k=((x=D.text)==null?void 0:x.trim())||"";k.startsWith("```json")&&(k=k.substring(7,k.length-3).trim());const F={...JSON.parse(k),timestamp:new Date().toISOString(),sources:((M=(b=(C=D.candidates)==null?void 0:C[0])==null?void 0:b.groundingMetadata)==null?void 0:M.groundingChunks)||[]};c(z=>[F,...z]),a("comms_check")}catch(D){y(n("errorBroadcast")),console.error(D)}finally{g(!1)}},[e,n,a]);return Y.useEffect(()=>{l.length===0&&p()},[l.length,p]),m.jsxs("div",{children:[m.jsxs("div",{className:"mb-8 text-center",children:[m.jsx("button",{onClick:p,disabled:d,className:"bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 px-8 rounded-lg transition-all disabled:bg-slate-600 disabled:cursor-wait flex items-center justify-center mx-auto shadow-lg shadow-blue-500/30 hover:scale-105 transform",children:d?m.jsx(Ml,{}):n("checkAlertsButton")}),d&&m.jsx("p",{className:"text-sm text-slate-400 mt-2",children:n("loadingAlerts")})]}),v&&m.jsx("p",{className:"text-center text-red-400 bg-red-900/50 p-4 rounded-lg",children:v}),m.jsx("div",{className:"space-y-6",children:l.length>0?l.map((x,C)=>m.jsx(dA,{broadcast:x},C)):!d&&!v&&m.jsx("p",{className:"text-center text-slate-400 py-10",children:n("noAlerts")})})]})},mA=()=>{const{t:n,language:e,unlockAchievement:a}=ut(),l=Y.useRef(null),c=[{id:"family",name:n("familyGroupChat"),avatar:"😊",lastMessage:"Everyone check in, please.",unread:1},{id:"community",name:n("communityWatchChat"),avatar:"🏠",lastMessage:"Stay indoors. We'll share updates.",unread:0},{id:"neighbor",name:n("neighborChat"),avatar:"👤",lastMessage:"Are you okay over there?",unread:0}],d={family:[{id:1,text:"Everyone check in, please.",sender:"contact",timestamp:new Date(Date.now()-6e4*5).toISOString()}],community:[{id:1,text:"Official Announcement: Please stay indoors until further notice. We will share updates as they come.",sender:"system",timestamp:new Date(Date.now()-6e4*10).toISOString()}],neighbor:[{id:1,text:"Hey, just checking in. Are you okay over there?",sender:"contact",timestamp:new Date(Date.now()-6e4*2).toISOString()}]},[g,v]=Y.useState(c),[y,p]=Y.useState(null),[x,C]=Y.useState(d),[b,M]=Y.useState(""),[D,k]=Y.useState(!1),H=()=>{var V;(V=l.current)==null||V.scrollIntoView({behavior:"smooth"})};Y.useEffect(H,[x,y]),Y.useEffect(()=>{const V=[{id:"family",name:n("familyGroupChat"),avatar:"😊",lastMessage:"Everyone check in, please.",unread:1},{id:"community",name:n("communityWatchChat"),avatar:"🏠",lastMessage:"Stay indoors. We'll share updates.",unread:0},{id:"neighbor",name:n("neighborChat"),avatar:"👤",lastMessage:"Are you okay over there?",unread:0}],Z={family:[{id:1,text:"Everyone check in, please.",sender:"contact",timestamp:new Date(Date.now()-6e4*5).toISOString()}],community:[{id:1,text:"Official Announcement: Please stay indoors until further notice. We will share updates as they come.",sender:"system",timestamp:new Date(Date.now()-6e4*10).toISOString()}],neighbor:[{id:1,text:"Hey, just checking in. Are you okay over there?",sender:"contact",timestamp:new Date(Date.now()-6e4*2).toISOString()}]};v(V),C(Z)},[n]);const F=V=>{p(V),v(Z=>Z.map(ne=>ne.id===V?{...ne,unread:0}:ne))},z=async V=>{var ie;if(V.preventDefault(),!b.trim()||!y||D)return;a("chat_starter");const Z={id:Date.now(),text:b,sender:"user",timestamp:new Date().toISOString()},de=[...x[y]||[],Z];C(Q=>({...Q,[y]:de})),M(""),k(!0);const W=de.map(Q=>`${Q.sender==="user"?"Me":"Them"}: ${Q.text}`).join(`
`),ce=((ie=g.find(Q=>Q.id===y))==null?void 0:ie.name)||"contact";try{const Q=await FE(W,ce,Vn[e]),Re={id:Date.now()+1,text:Q,sender:"contact",timestamp:new Date().toISOString()};C(qe=>({...qe,[y]:[...de,Re]}))}catch(Q){console.error(Q);const Re={id:Date.now()+1,text:n("errorChat"),sender:"system",timestamp:new Date().toISOString()};C(qe=>({...qe,[y]:[...de,Re]}))}finally{k(!1)}},J=y?x[y]:null,K=y?g.find(V=>V.id===y):null;return m.jsxs("div",{className:"flex flex-col md:flex-row h-[70vh] glass-pane rounded-2xl overflow-hidden shadow-2xl",children:[m.jsx("div",{className:`w-full md:w-1/3 border-r border-slate-700/80 bg-slate-900/30 overflow-y-auto ${y?"hidden md:block":"block"}`,children:g.map(V=>m.jsxs("div",{onClick:()=>F(V.id),className:`p-4 flex items-center cursor-pointer border-b border-slate-700/50 transition-colors relative ${y===V.id?"bg-slate-700/50":"hover:bg-slate-800/40"}`,children:[y===V.id&&m.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-blue-500 rounded-r-full"}),m.jsx("span",{className:"text-3xl mr-4 p-1",children:V.avatar}),m.jsxs("div",{className:"flex-grow overflow-hidden",children:[m.jsx("p",{className:"font-bold text-white truncate",children:V.name}),m.jsx("p",{className:"text-sm text-slate-400 truncate",children:V.lastMessage})]}),V.unread>0&&m.jsx("span",{className:"bg-blue-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center ml-2",children:V.unread})]},V.id))}),m.jsx("div",{className:`w-full md:w-2/3 flex flex-col bg-transparent ${y?"flex":"hidden md:flex"}`,children:J?m.jsxs(m.Fragment,{children:[m.jsxs("header",{className:"p-4 border-b border-slate-700/80 flex items-center gap-4 bg-slate-800/50 shrink-0",children:[y&&m.jsx("button",{className:"md:hidden text-white font-bold p-2",onClick:()=>p(null),children:"←"}),m.jsx("span",{className:"text-4xl",children:K==null?void 0:K.avatar}),m.jsx("h2",{className:"font-bold text-xl text-white",children:K==null?void 0:K.name})]}),m.jsxs("div",{className:"flex-grow p-6 overflow-y-auto space-y-5 bg-slate-800/20",children:[J.map(V=>m.jsx("div",{className:`flex items-end gap-2 ${V.sender==="user"?"justify-end":"justify-start"}`,children:m.jsx("div",{className:`max-w-md px-4 py-3 rounded-2xl shadow-md ${V.sender==="user"?"bg-blue-600 text-white rounded-br-lg":V.sender==="contact"?"bg-slate-600 text-white rounded-bl-lg":"bg-slate-700/80 text-yellow-200 italic text-sm w-full text-center"}`,children:m.jsx("p",{className:"text-base leading-relaxed",children:V.text})})},V.id)),D&&m.jsx("div",{className:"flex items-end gap-2 justify-start",children:m.jsx("div",{className:"max-w-xs lg:max-w-md p-3 rounded-2xl bg-slate-600 text-white rounded-bl-lg",children:m.jsx(Ml,{})})}),m.jsx("div",{ref:l})]}),m.jsx("form",{onSubmit:z,className:"p-4 border-t border-slate-700/80 bg-slate-800/50 shrink-0",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("input",{type:"text",value:b,onChange:V=>M(V.target.value),placeholder:n("messagePlaceholder"),className:"w-full bg-slate-700/80 text-white rounded-full py-3 px-5 focus:outline-none focus:ring-2 focus:ring-blue-500/80 border border-transparent focus:border-blue-500 transition"}),m.jsx("button",{type:"submit",disabled:D||!b.trim(),className:"bg-blue-600 hover:bg-blue-500 text-white font-bold p-3 rounded-full disabled:bg-slate-500 disabled:cursor-not-allowed transition-colors flex-shrink-0 transform hover:scale-110",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:m.jsx("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})})})]})})]}):m.jsx("div",{className:"flex-grow flex items-center justify-center text-center text-slate-400 p-4",children:m.jsx("p",{className:"text-lg",children:n("messagingPlaceholder")})})})]})},hA=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),Fh=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),pA=()=>{const{location:n,level:e,unlockedAchievements:a}=ut(),[l,c]=Y.useState([]),[d,g]=Y.useState(!1);Y.useEffect(()=>{const y=()=>{const C=[{type:"training",title:"Training Session Completed",description:"Successfully completed Urban Fire Emergency scenario",icon:"🎯",color:"text-brand"},{type:"achievement",title:"New Achievement Unlocked",description:"Fire Fighter badge earned",icon:"🏆",color:"text-warning"},{type:"alert",title:"Weather Alert",description:`Heavy rainfall expected in ${n||"your area"}`,icon:"🌧️",color:"text-info"},{type:"milestone",title:"Level Up!",description:`Reached Level ${e}`,icon:"⭐",color:"text-success"}],b=C[Math.floor(Math.random()*C.length)];return{id:`activity-${Date.now()}-${Math.random()}`,...b,timestamp:new Date(Date.now()-Math.random()*36e5)}},p=Array.from({length:5},y);c(p.sort((C,b)=>b.timestamp.getTime()-C.timestamp.getTime()));const x=setInterval(()=>{if(Math.random()>.7){const C=y();c(b=>[C,...b.slice(0,9)])}},1e4);return()=>clearInterval(x)},[n,e]);const v=y=>{const x=Math.floor((new Date().getTime()-y.getTime())/6e4);if(x<1)return"Just now";if(x<60)return`${x}m ago`;const C=Math.floor(x/60);return C<24?`${C}h ago`:`${Math.floor(C/24)}d ago`};return d?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed top-24 right-6 w-80 max-h-96 z-40 animate-scale-in",children:m.jsxs("div",{className:"card-elevated backdrop-blur-lg bg-white/95 border border-gray-200",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Fh,{className:"w-5 h-5 text-brand"}),m.jsx("h3",{className:"text-heading-4 font-semibold",children:"Live Activity"})]}),m.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsx("div",{className:"max-h-80 overflow-y-auto",children:l.length===0?m.jsxs("div",{className:"p-6 text-center text-gray-500",children:[m.jsx(Fh,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),m.jsx("p",{children:"No recent activity"})]}):m.jsx("div",{className:"divide-y divide-gray-100",children:l.map((y,p)=>m.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors duration-200 animate-slide-up",style:{animationDelay:`${p*100}ms`},children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"text-2xl flex-shrink-0 mt-1",children:y.icon}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsx("h4",{className:`font-medium ${y.color} truncate`,children:y.title}),m.jsx("span",{className:"text-xs text-gray-500 ml-2 flex-shrink-0",children:v(y.timestamp)})]}),m.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.description}),y.type==="alert"&&m.jsx("div",{className:"mt-2",children:m.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-warning-light text-warning-dark",children:"📢 Active Alert"})})]})]})},y.id))})}),m.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50",children:m.jsx("div",{className:"text-center",children:m.jsx("span",{className:"text-xs text-gray-500",children:"🔄 Updates every 10 seconds"})})})]})}),m.jsx("div",{className:"fixed inset-0 bg-black/10 backdrop-blur-sm z-30",onClick:()=>g(!1)})]}):m.jsxs("button",{onClick:()=>g(!0),className:"fixed top-24 right-6 bg-gradient-brand text-white p-3 rounded-xl shadow-lg hover:scale-105 transition-all duration-200 z-30 animate-bounce-in","aria-label":"Show Activity Feed",children:[m.jsx(hA,{className:"w-5 h-5"}),l.length>0&&m.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-error rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-xs font-bold text-white",children:Math.min(l.length,9)})})]})},gA=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),yA=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),vA=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),xA=()=>{const{location:n}=ut(),[e,a]=Y.useState(null),[l,c]=Y.useState(!1),[d,g]=Y.useState(28);Y.useEffect(()=>{const x=()=>{if(!n)return null;const D=[{type:"thunderstorm",severity:"moderate",title:"Thunderstorm Warning",description:`Heavy thunderstorms expected in ${n} between 2:00 PM - 6:00 PM today.`,safetyTips:["Stay indoors and avoid electrical appliances","Don't take shelter under trees","Avoid using phones during lightning","Stay away from windows and doors"],emoji:"⛈️"},{type:"flood",severity:"high",title:"Flood Alert",description:`Heavy rainfall may cause flooding in low-lying areas of ${n}.`,safetyTips:["Avoid driving through flooded roads","Move to higher ground if necessary","Keep emergency supplies ready","Monitor radio for updates"],emoji:"🌊"},{type:"heatwave",severity:"moderate",title:"Heat Advisory",description:`High temperatures expected in ${n} today. Stay hydrated and cool.`,safetyTips:["Drink plenty of water","Avoid outdoor activities during peak hours","Wear light-colored clothing","Check on elderly neighbors"],emoji:"🌡️"}];if(Math.random()>.6){const k=D[Math.floor(Math.random()*D.length)],H=new Date;return{id:`alert-${Date.now()}`,...k,timestamp:H,expiryTime:new Date(H.getTime()+216e5)}}return null},C=x();a(C);const b=setInterval(()=>{g(D=>D+(Math.random()-.5)*2)},3e4),M=setInterval(()=>{if(Math.random()>.8){const D=x();D&&(a(D),c(!1))}},12e4);return()=>{clearInterval(b),clearInterval(M)}},[n]);const v=x=>{switch(x){case"low":return"text-info border-info bg-info-light";case"moderate":return"text-warning border-warning bg-warning-light";case"high":return"text-error border-error bg-error-light";case"extreme":return"text-error border-error bg-error";default:return"text-gray-600 border-gray-300 bg-gray-100"}},y=x=>{switch(x){case"low":return"ℹ️";case"moderate":return"⚠️";case"high":return"🚨";case"extreme":return"🆘";default:return"📢"}},p=x=>{switch(x){case"thunderstorm":return"⛈️";case"flood":return"🌊";case"heatwave":return"🌡️";case"windstorm":return"💨";case"fog":return"🌫️";default:return"🌤️"}};return!e||l?m.jsx("div",{className:"fixed top-24 left-6 z-30",children:m.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 text-white p-4 rounded-xl shadow-lg animate-bounce-in",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"text-2xl",children:"🌤️"}),m.jsxs("div",{children:[m.jsxs("div",{className:"font-semibold",children:[Math.round(d),"°C"]}),m.jsx("div",{className:"text-xs opacity-90",children:n||"Your Location"})]})]})})}):m.jsx("div",{className:"fixed top-24 left-6 w-80 z-40 animate-slide-down",children:m.jsxs("div",{className:`card border-2 ${v(e.severity)} shadow-xl`,children:[m.jsxs("div",{className:"flex items-start justify-between mb-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"text-2xl animate-pulse-soft",children:p(e.type)}),m.jsxs("div",{children:[m.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[e.title,m.jsx("span",{className:"text-sm",children:y(e.severity)})]}),m.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[m.jsx(gA,{className:"w-3 h-3"}),n]})]})]}),m.jsx("button",{onClick:()=>c(!0),className:"text-gray-400 hover:text-gray-600 transition-colors",children:m.jsx(vA,{className:"w-4 h-4"})})]}),m.jsx("p",{className:"text-sm text-gray-700 mb-4",children:e.description}),m.jsxs("div",{className:"mb-4",children:[m.jsxs("h4",{className:"text-sm font-semibold text-gray-800 mb-2 flex items-center gap-1",children:[m.jsx(yA,{className:"w-4 h-4"}),"Safety Guidelines:"]}),m.jsx("ul",{className:"space-y-1",children:e.safetyTips.slice(0,3).map((x,C)=>m.jsxs("li",{className:"text-xs text-gray-600 flex items-start gap-2",children:[m.jsx("span",{className:"text-success mt-1",children:"•"}),m.jsx("span",{children:x})]},C))})]}),m.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 border-t border-gray-200 pt-3",children:[m.jsxs("span",{children:["Issued: ",e.timestamp.toLocaleTimeString()]}),m.jsxs("span",{children:["Expires: ",e.expiryTime.toLocaleTimeString()]})]}),m.jsx("div",{className:"mt-3",children:m.jsx("button",{className:"w-full btn btn-sm bg-gradient-brand text-white hover:scale-105 transition-all duration-200",children:"📱 View Full Weather Report"})})]})})},vl=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),Oh=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M8 5v14l11-7z"})}),TA=()=>{const[n,e]=Y.useState("broadcasts"),{t:a,setView:l,location:c}=ut(),[d,g]=Y.useState(null),[v,y]=Y.useState(!1);Y.useEffect(()=>{c&&n==="insights"&&p()},[c,n]);const p=async()=>{if(c){y(!0);try{const b=await OE(c,1,{},"en");g(b)}catch(b){console.error("Failed to load recommendations:",b)}finally{y(!1)}}},x=()=>{switch(n){case"broadcasts":return m.jsx(Hh,{});case"messaging":return m.jsx(mA,{});case"insights":return m.jsxs("div",{className:"space-y-8",children:[c&&m.jsxs("div",{className:"relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/90 via-slate-800/80 to-black/70 rounded-3xl"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand/5 via-purple-900/10 to-transparent rounded-3xl"}),m.jsxs("div",{className:"relative glass-card p-8 rounded-3xl border border-slate-600/40 backdrop-blur-sm shadow-2xl shadow-brand/10",children:[m.jsxs("h2",{className:"text-2xl font-bold text-gray-100 mb-6 flex items-center gap-3 drop-shadow-lg",children:[m.jsx(Yr,{className:"w-7 h-7 text-brand drop-shadow-md"}),"AI-Powered Insights for ",c]}),v?m.jsx("div",{className:"text-center py-12",children:m.jsxs("div",{className:"inline-flex items-center gap-3 text-lg text-slate-300",children:[m.jsx("div",{className:"w-6 h-6 border-2 border-brand border-t-transparent rounded-full animate-spin"}),"Analyzing regional data..."]})}):d?m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-950/80 via-red-900/60 to-black/80 rounded-2xl"}),m.jsx("div",{className:"absolute inset-0 bg-warning/10 rounded-2xl"}),m.jsxs("div",{className:"relative bg-gradient-to-br from-warning/10 to-warning/5 border border-warning/30 rounded-2xl p-6 backdrop-blur-sm shadow-lg shadow-warning/20",children:[m.jsx("div",{className:"w-12 h-12 bg-warning-light rounded-xl flex items-center justify-center mb-4 shadow-lg",children:m.jsx(_y,{className:"w-6 h-6 text-warning drop-shadow-md"})}),m.jsx("h3",{className:"text-lg font-bold text-gray-100 mb-3 drop-shadow-md",children:"Regional Alert"}),m.jsx("p",{className:"text-gray-200 mb-4 leading-relaxed drop-shadow-sm",children:d.contextualAlert}),m.jsxs("button",{className:"btn btn-outline w-full group hover:border-warning hover:text-warning shadow-md hover:shadow-warning/20 transition-all",children:["Learn More",m.jsx(vl,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]}),m.jsxs("div",{className:"relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-950/80 via-blue-900/60 to-black/80 rounded-2xl"}),m.jsx("div",{className:"absolute inset-0 bg-brand/10 rounded-2xl"}),m.jsxs("div",{className:"relative bg-gradient-to-br from-brand/10 to-brand/5 border border-brand/30 rounded-2xl p-6 backdrop-blur-sm shadow-lg shadow-brand/20",children:[m.jsx("div",{className:"w-12 h-12 bg-brand-primary-light rounded-xl flex items-center justify-center mb-4 shadow-lg",children:m.jsx(Yr,{className:"w-6 h-6 text-brand drop-shadow-md"})}),m.jsx("h3",{className:"text-lg font-bold text-gray-100 mb-3 drop-shadow-md",children:"Recommended Training"}),m.jsx("p",{className:"text-gray-200 mb-4 leading-relaxed drop-shadow-sm",children:d.trainingRecommendationReason}),m.jsxs("button",{onClick:()=>l("game"),className:"btn btn-primary w-full group shadow-md hover:shadow-brand/30 transition-all",children:["Start Training",m.jsx(Oh,{className:"w-4 h-4 group-hover:scale-110 transition-transform"})]})]})]}),m.jsxs("div",{className:"relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-950/80 via-green-900/60 to-black/80 rounded-2xl"}),m.jsx("div",{className:"absolute inset-0 bg-success/10 rounded-2xl"}),m.jsxs("div",{className:"relative bg-gradient-to-br from-success/10 to-success/5 border border-success/30 rounded-2xl p-6 backdrop-blur-sm shadow-lg shadow-success/20",children:[m.jsx("div",{className:"w-12 h-12 bg-success-light rounded-xl flex items-center justify-center mb-4 shadow-lg",children:m.jsx(Ey,{className:"w-6 h-6 text-success drop-shadow-md"})}),m.jsx("h3",{className:"text-lg font-bold text-gray-100 mb-3 drop-shadow-md",children:"Safety Tip"}),m.jsx("p",{className:"text-gray-200 mb-4 leading-relaxed drop-shadow-sm",children:d.preparednessTip}),m.jsxs("button",{className:"btn btn-outline w-full group hover:border-success hover:text-success shadow-md hover:shadow-success/20 transition-all",children:["View All Tips",m.jsx(vl,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})]}):m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"text-4xl mb-4",children:"🤖"}),m.jsx("p",{className:"text-slate-400",children:"Select your location to receive personalized insights"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-950/70 via-orange-900/50 to-black/60 rounded-2xl"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-400/5 to-orange-500/5 rounded-2xl"}),m.jsxs("div",{className:"relative glass-card p-6 rounded-2xl border border-slate-600/40 hover:border-brand/50 transition-all group cursor-pointer backdrop-blur-sm shadow-lg hover:shadow-brand/20",onClick:()=>l("achievements"),children:[m.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg",children:m.jsx("span",{className:"text-2xl drop-shadow-md",children:"🏆"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-gray-100 group-hover:text-brand transition-colors drop-shadow-md",children:"View Progress"}),m.jsx("p",{className:"text-sm text-slate-400 drop-shadow-sm",children:"Track achievements & XP"})]})]}),m.jsxs("div",{className:"text-brand font-semibold flex items-center gap-2 group-hover:gap-4 transition-all drop-shadow-sm",children:[m.jsx("span",{children:"Open Dashboard"}),m.jsx(vl,{className:"w-4 h-4"})]})]})]}),m.jsxs("div",{className:"relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-950/70 via-green-900/50 to-black/60 rounded-2xl"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-success/5 to-success-dark/5 rounded-2xl"}),m.jsxs("div",{className:"relative glass-card p-6 rounded-2xl border border-slate-600/40 hover:border-success/50 transition-all group cursor-pointer backdrop-blur-sm shadow-lg hover:shadow-success/20",onClick:()=>l("game"),children:[m.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success-dark rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg",children:m.jsx(Oh,{className:"w-6 h-6 text-white drop-shadow-md"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-gray-100 group-hover:text-success transition-colors drop-shadow-md",children:"Continue Training"}),m.jsx("p",{className:"text-sm text-slate-400 drop-shadow-sm",children:"Resume your safety training"})]})]}),m.jsxs("div",{className:"text-success font-semibold flex items-center gap-2 group-hover:gap-4 transition-all drop-shadow-sm",children:[m.jsx("span",{children:"Start Session"}),m.jsx(vl,{className:"w-4 h-4"})]})]})]})]})]});default:return m.jsx(Hh,{})}},C=b=>n===b?"relative bg-gradient-to-br from-slate-800/90 via-slate-700/80 to-black/70 border-blue-400 text-gray-100 shadow-lg shadow-blue-500/20 backdrop-blur-sm rounded-t-xl px-4 py-2 -mb-2":"relative bg-gradient-to-br from-slate-900/60 via-slate-800/50 to-black/40 border-transparent text-slate-300 hover:text-gray-100 hover:border-slate-400 hover:bg-gradient-to-br hover:from-slate-800/70 hover:via-slate-700/60 hover:to-black/50 backdrop-blur-sm rounded-t-xl px-4 py-2 transition-all duration-300 hover:shadow-md hover:shadow-slate-500/10";return m.jsxs("div",{className:"w-full max-w-6xl mx-auto animate-fade-in p-4",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8 flex-wrap gap-4",children:[m.jsx("h1",{className:"text-4xl font-bold text-gray-100 text-glow",children:a("commsHubTitle")}),m.jsxs("button",{onClick:()=>l("dashboard"),className:"bg-slate-800/80 hover:bg-slate-700/80 border border-slate-700 text-white font-bold py-2 px-6 rounded-lg transition-all text-sm sm:text-base",children:["←"," ",a("backToDashboard")]})]}),m.jsx("div",{className:"border-b border-slate-600/60 mb-8 bg-gradient-to-r from-slate-900/30 via-slate-800/20 to-slate-900/30 rounded-lg p-2",children:m.jsxs("nav",{className:"-mb-px flex space-x-4 overflow-x-auto","aria-label":"Tabs",children:[m.jsxs("button",{onClick:()=>e("broadcasts"),className:`flex items-center gap-3 whitespace-nowrap font-semibold text-lg transition-all duration-300 hover:scale-105 ${C("broadcasts")}`,children:[n==="broadcasts"&&m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-blue-800/10 to-transparent rounded-t-xl"}),m.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[m.jsx(Cy,{className:`w-6 h-6 ${n==="broadcasts"?"text-blue-300 drop-shadow-md":""}`}),m.jsx("span",{className:"drop-shadow-sm",children:a("broadcastsTab")})]})]}),m.jsxs("button",{onClick:()=>e("messaging"),className:`flex items-center gap-3 whitespace-nowrap font-semibold text-lg transition-all duration-300 hover:scale-105 ${C("messaging")}`,children:[n==="messaging"&&m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/20 via-green-800/10 to-transparent rounded-t-xl"}),m.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[m.jsx(np,{className:`w-6 h-6 ${n==="messaging"?"text-green-300 drop-shadow-md":""}`}),m.jsx("span",{className:"drop-shadow-sm",children:a("messagingTab")})]})]}),m.jsxs("button",{onClick:()=>e("insights"),className:`flex items-center gap-3 whitespace-nowrap font-semibold text-lg transition-all duration-300 hover:scale-105 ${C("insights")}`,children:[n==="insights"&&m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/20 via-purple-800/10 to-transparent rounded-t-xl"}),m.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[m.jsx(Yr,{className:`w-6 h-6 ${n==="insights"?"text-purple-300 drop-shadow-md":""}`}),m.jsx("span",{className:"drop-shadow-sm",children:"AI Insights"})]})]})]})}),m.jsx("div",{className:"animate-fade-in",children:x()}),m.jsx(xA,{}),m.jsx(pA,{})]})},lu=({className:n="w-5 h-5"})=>m.jsxs("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),CA=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M8 5v14l11-7z"})}),su=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),SA=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),bA=({isOpen:n,onClose:e,onSelect:a})=>{const[l,c]=Y.useState(""),d=Cm.filter(y=>y.toLowerCase().includes(l.toLowerCase())),g=["Lagos","FCT - Abuja","Rivers","Kano","Ogun","Kaduna"],v=y=>{a(y),e(),c("")};return n?m.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-center justify-center p-4 z-50 animate-fade-in",children:m.jsxs("div",{className:"bg-white shadow-xl max-w-sm w-full animate-scale-in border border-gray-200",children:[m.jsx("div",{className:"p-6 border-b border-gray-100",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-brand flex items-center justify-center",children:m.jsx(lu,{className:"w-5 h-5 text-white"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Your State"}),m.jsx("p",{className:"text-sm text-gray-500",children:"🇳🇬 Choose your location"})]})]}),m.jsx("button",{onClick:e,className:"w-8 h-8 bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:m.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),m.jsxs("div",{className:"p-4 border-b border-gray-100",children:[m.jsx("p",{className:"text-xs font-medium text-gray-600 mb-3 uppercase tracking-wide",children:"Popular"}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:g.map(y=>m.jsx("button",{onClick:()=>v(y),className:"p-3 text-left text-sm font-medium text-gray-700 bg-gray-50 hover:bg-brand-primary hover:text-white transition-all duration-200 border border-gray-200 hover:border-brand-primary",children:y},y))})]}),m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"relative mb-3",children:[m.jsx(SA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search all 37 states...",value:l,onChange:y=>c(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 focus:border-brand-primary focus:ring-0 text-sm transition-all"})]}),m.jsxs("div",{className:"max-h-48 overflow-y-auto",children:[l&&m.jsxs("p",{className:"text-xs text-gray-500 mb-2 px-1",children:[d.length," state",d.length!==1?"s":""," found"]}),d.length===0&&l?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"No states found"}),m.jsx("p",{className:"text-xs text-gray-400",children:"Try a different search"})]}):m.jsx("div",{className:"space-y-1",children:(l?d:Cm).map(y=>m.jsxs("button",{onClick:()=>v(y),className:"w-full text-left p-3 text-sm text-gray-700 hover:bg-brand-primary hover:text-white transition-all duration-200 flex items-center justify-between group",children:[m.jsx("span",{children:y}),m.jsx(su,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]},y))})]})]})]})}):null},_A=()=>{const{setView:n,location:e,setLocation:a}=ut(),[l,c]=Y.useState(!1);return m.jsxs(m.Fragment,{children:[m.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-gray-100 via-gray-200 to-gray-300",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-primary/5 to-brand-secondary/5"}),m.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-radial from-brand-accent/10 to-transparent"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-gradient-radial from-brand-secondary/10 to-transparent"}),m.jsx("div",{className:"container py-8 relative",children:m.jsxs("div",{className:"text-center max-w-5xl mx-auto",children:[e?m.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6 animate-bounce-in",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(lu,{className:"w-5 h-5 text-brand"}),m.jsxs("span",{className:"text-body font-medium text-brand",children:["🇳🇬 ",e]})]}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("button",{onClick:()=>c(!0),className:"btn btn-primary btn-sm group hover:scale-105 transition-all duration-200",children:[m.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Change State"]})})]}):m.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6 animate-scale-in",children:[m.jsx(lu,{className:"w-5 h-5 text-brand"}),m.jsx("span",{className:"text-body font-medium text-brand",children:"Select your state to get started"}),m.jsxs("button",{onClick:()=>c(!0),className:"btn btn-primary btn-sm group ml-2",children:["Choose State",m.jsx(su,{className:"w-3 h-3 group-hover:translate-x-1 transition-transform"})]})]}),m.jsxs("div",{className:"mb-4 animate-slide-up",children:[m.jsxs("h2",{className:"text-display-2 font-display mb-3 text-gradient-brand",children:["Master Safety Skills with",m.jsx("br",{}),"AI-Powered Training"]}),m.jsx("p",{className:"text-body-xl text-secondary mb-4 leading-relaxed",children:"Immersive AI-powered scenarios that adapt to your learning style and location-specific risks."}),m.jsxs("button",{onClick:()=>n("game"),className:"btn btn-primary btn-xl group",children:[m.jsx(CA,{className:"w-6 h-6 group-hover:scale-110 transition-transform"}),"Start Now",m.jsx(su,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})]})})]}),m.jsx(bA,{isOpen:l,onClose:()=>c(!1),onSelect:a})]})},Yh=()=>m.jsx("div",{className:"animate-fade-in",children:m.jsx(_A,{})}),EA=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),AA=({className:n="w-5 h-5"})=>m.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:[m.jsx("path",{d:"M12 2s3 3 3 7.5c0 3-1.5 5.5-3 5.5s-3-2.5-3-5.5C9 5 12 2 12 2z"}),m.jsx("path",{d:"M8 10s2 2 2 4c0 1.5-1 2.5-2 2.5s-2-1-2-2.5c0-2 2-4 2-4z"})]}),Jh=({className:n="w-5 h-5"})=>m.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),MA=n=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.563.563 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.563.563 0 0 0-.182-.557l-4.204-3.602a.563.563 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})}),Kh=n=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})}),jh=n=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...n,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),wA=n=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.974 5.974 0 0 1-2.133-1A3.75 3.75 0 0 0 12 18Z"})]}),NA=()=>{const{t:n,unlockedAchievements:e,level:a,currentXp:l,xpToNextLevel:c}=ut(),[d,g]=Y.useState("all"),[v,y]=Y.useState(null),p=Math.min(l/c*100,100),x=[{id:"all",name:"🏆 All",count:ti.length},{id:"unlocked",name:"✅ Unlocked",count:e.length},{id:"locked",name:"🔒 Locked",count:ti.length-e.length},{id:"rare",name:"💎 Rare",count:ti.filter(k=>k.rarity==="rare").length},{id:"legendary",name:"👑 Legendary",count:ti.filter(k=>k.rarity==="legendary").length}],C=ti.filter(k=>{switch(d){case"unlocked":return e.includes(k.id);case"locked":return!e.includes(k.id);case"rare":return k.rarity==="rare";case"legendary":return k.rarity==="legendary";default:return!0}}),b=k=>{switch(k){case"common":return"from-slate-400 to-slate-600";case"rare":return"from-blue-400 to-cyan-500";case"epic":return"from-purple-400 to-pink-500";case"legendary":return"from-yellow-400 to-orange-500";default:return"from-slate-400 to-slate-600"}},M=k=>{switch(k){case"first_game":return"🎮";case"perfect_score":return"💯";case"quick_thinker":return"⚡";case"level_5":return"⭐";case"fire_fighter":return"🔥";case"flood_expert":return"🌊";default:return"🏆"}},D=Math.round(e.length/ti.length*100);return m.jsxs("div",{className:"w-full max-w-7xl mx-auto py-8 px-4 animate-bounce-in",children:[m.jsxs("div",{className:"text-center mb-12 animate-slide-in-down",children:[m.jsxs("div",{className:"flex justify-center items-center gap-4 mb-6",children:[m.jsx("div",{className:"achievement-badge w-20 h-20 rounded-full flex items-center justify-center text-4xl",children:"🏆"}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-5xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-orange-400 to-red-400 text-glow animate-glow-rotate",children:n("achievementsTab")}),m.jsx("p",{className:"text-xl text-slate-300 mt-2",children:"Unlock your safety training milestones"})]})]}),m.jsxs("div",{className:"glass-quiz p-8 rounded-3xl max-w-4xl mx-auto border border-slate-600/30 mb-8",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-4xl font-black text-emerald-400 mb-1",children:e.length}),m.jsx("div",{className:"text-slate-400 text-sm font-bold",children:"ACHIEVEMENTS"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-4xl font-black text-brand mb-1",children:a}),m.jsx("div",{className:"text-slate-400 text-sm font-bold",children:"LEVEL"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-4xl font-black text-info mb-1",children:l.toLocaleString()}),m.jsx("div",{className:"text-slate-400 text-sm font-bold",children:"TOTAL XP"})]}),m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-400",children:[D,"%"]}),m.jsx("div",{className:"text-slate-400 text-sm font-bold",children:"COMPLETE"})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("span",{className:"text-sm font-semibold text-slate-300",children:["Level ",a," Progress"]}),m.jsxs("span",{className:"text-sm text-slate-400",children:[Math.round(p),"% to Level ",a+1]})]}),m.jsx("div",{className:"w-full bg-slate-800/60 rounded-full h-4 overflow-hidden border-2 border-slate-600/50 relative",children:m.jsx("div",{className:"h-full rounded-full transition-all duration-1000 bg-gradient-to-r from-brand-primary to-brand-secondary",style:{width:`${p}%`}})}),m.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[m.jsxs("span",{children:[l.toLocaleString()," XP"]}),m.jsxs("span",{children:[c.toLocaleString()," XP"]})]})]}),m.jsxs("div",{className:"w-full bg-slate-800/60 rounded-full h-6 overflow-hidden border-2 border-slate-600/50 relative",children:[m.jsx("div",{className:"progress-xp h-full rounded-full transition-all duration-1000 bg-gradient-to-r from-yellow-400 to-orange-400",style:{width:`${D}%`}}),m.jsx("div",{className:"absolute inset-0 rounded-full",style:{boxShadow:"inset 0 0 6px 1px rgba(0,0,0,0.3)"}})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto mb-12",children:[m.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-slate-600/30 hover:border-brand/50 transition-all",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[m.jsx("div",{className:"w-12 h-12 bg-brand-primary-light rounded-xl flex items-center justify-center",children:m.jsx(EA,{className:"w-6 h-6 text-brand"})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl font-bold text-white",children:l.toLocaleString()}),m.jsx("div",{className:"text-sm text-slate-400",children:"Experience Points"})]})]}),m.jsxs("div",{className:"text-sm text-success flex items-center gap-1",children:[m.jsx(Jh,{className:"w-4 h-4"}),(c-l).toLocaleString()," to next level"]})]}),m.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-slate-600/30 hover:border-warning/50 transition-all",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[m.jsx("div",{className:"w-12 h-12 bg-warning-light rounded-xl flex items-center justify-center",children:m.jsx(AA,{className:"w-6 h-6 text-warning"})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl font-bold text-white",children:"7 days"}),m.jsx("div",{className:"text-sm text-slate-400",children:"Training Streak"})]})]}),m.jsxs("div",{className:"text-sm text-warning flex items-center gap-1",children:[m.jsx("span",{children:"🔥"}),"Personal best!"]})]}),m.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-slate-600/30 hover:border-success/50 transition-all",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[m.jsx("div",{className:"w-12 h-12 bg-success-light rounded-xl flex items-center justify-center",children:m.jsx(jh,{className:"w-6 h-6 text-success"})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl font-bold text-white",children:e.length}),m.jsx("div",{className:"text-sm text-slate-400",children:"Achievements"})]})]}),m.jsxs("div",{className:"text-sm text-success flex items-center gap-1",children:[m.jsx(Jh,{className:"w-4 h-4"}),"+3 this week"]})]})]})]}),m.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12 animate-slide-in-up",style:{animationDelay:"0.3s"},children:x.map((k,H)=>m.jsxs("button",{onClick:()=>g(k.id),className:`flex items-center gap-3 px-6 py-4 rounded-2xl font-bold transition-all duration-300 border-2 hover:scale-105 animate-slide-in-up ${d===k.id?"bg-gradient-to-r from-blue-600 to-cyan-500 border-blue-400 text-white shadow-lg shadow-blue-500/25":"glass-card border-slate-700/60 text-slate-200 hover:border-slate-600/80 hover:text-white"}`,style:{animationDelay:`${.4+H*.1}s`},children:[m.jsx("span",{className:"text-lg",children:k.name}),m.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-black ${d===k.id?"bg-white/20 text-white":"bg-slate-700/80 text-slate-300"}`,children:k.count})]},k.id))}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:C.map((k,H)=>{var J;const F=e.includes(k.id),z=b(k.rarity||"common");return m.jsxs("div",{className:`glass-card p-6 rounded-3xl border-2 transition-all duration-500 cursor-pointer transform hover:scale-105 hover:shadow-2xl group animate-bounce-in ${F?`border-transparent bg-gradient-to-br ${z} bg-opacity-10 hover:shadow-lg shadow-current/20`:"border-slate-700/60 hover:border-slate-600/80 opacity-60"}`,style:{animationDelay:`${.6+H*.05}s`},onMouseEnter:()=>y(k.id),onMouseLeave:()=>y(null),children:[m.jsxs("div",{className:"text-center mb-4",children:[m.jsx("div",{className:`w-20 h-20 mx-auto rounded-full flex items-center justify-center text-4xl transition-all duration-300 ${F?`bg-gradient-to-br ${z} animate-bounce-subtle shadow-lg`:"bg-slate-800/60 text-slate-600"}`,children:F?M(k.id):m.jsx(Kh,{className:"w-8 h-8"})}),F&&k.rarity&&k.rarity!=="common"&&m.jsxs("div",{className:`inline-flex items-center gap-1 mt-2 px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r ${z} text-white`,children:[k.rarity==="legendary"&&m.jsx(wA,{className:"w-3 h-3"}),k.rarity==="rare"&&m.jsx(MA,{className:"w-3 h-3"}),(J=k.rarity)==null?void 0:J.toUpperCase()]})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("h3",{className:`font-bold text-lg mb-2 transition-colors ${F?"text-white text-glow":"text-slate-500"}`,children:n(`achievement_${k.id}_title`)}),m.jsx("p",{className:`text-sm leading-relaxed transition-colors ${F?"text-slate-300":"text-slate-600"}`,children:n(`achievement_${k.id}_description`)}),m.jsx("div",{className:"mt-4",children:F?m.jsxs("div",{className:"flex items-center justify-center gap-2 text-emerald-400 font-bold",children:[m.jsx(jh,{className:"w-5 h-5"}),m.jsx("span",{children:"UNLOCKED"})]}):m.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-500 font-bold",children:[m.jsx(Kh,{className:"w-5 h-5"}),m.jsx("span",{children:"LOCKED"})]})})]}),v===k.id&&F&&m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent rounded-3xl animate-shimmer"})]},k.id)})}),C.length===0&&m.jsxs("div",{className:"text-center py-16 animate-scale-in",children:[m.jsx("div",{className:"text-6xl mb-6",children:"🔍"}),m.jsx("h3",{className:"text-2xl font-bold text-slate-400 mb-2",children:"No achievements found"}),m.jsx("p",{className:"text-slate-500",children:"Try selecting a different category"})]}),d==="locked"&&C.length>0&&m.jsxs("div",{className:"mt-12 glass-card p-8 rounded-3xl border border-slate-600/30 text-center animate-slide-in-up",children:[m.jsx("div",{className:"text-4xl mb-4",children:"💡"}),m.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-4",children:"Achievement Tips"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 text-left",children:[m.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-2xl",children:[m.jsx("div",{className:"text-2xl mb-2",children:"🎮"}),m.jsx("h4",{className:"font-bold text-white mb-2",children:"Complete Training"}),m.jsx("p",{className:"text-slate-400 text-sm",children:"Finish scenario-based training sessions to unlock basic achievements."})]}),m.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-2xl",children:[m.jsx("div",{className:"text-2xl mb-2",children:"⚡"}),m.jsx("h4",{className:"font-bold text-white mb-2",children:"Speed & Accuracy"}),m.jsx("p",{className:"text-slate-400 text-sm",children:"Answer quickly and correctly to earn speed-based achievements."})]}),m.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-2xl",children:[m.jsx("div",{className:"text-2xl mb-2",children:"🔥"}),m.jsx("h4",{className:"font-bold text-white mb-2",children:"Consistency"}),m.jsx("p",{className:"text-slate-400 text-sm",children:"Practice regularly and maintain streaks for rare achievements."})]})]})]})]})},RA=({className:n="w-4 h-4"})=>m.jsx("svg",{className:`${n} transition-all duration-200 hover:rotate-90`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),kA=({className:n="w-5 h-5"})=>m.jsx("svg",{className:`${n} animate-pulse-soft`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),DA=({toast:n,onRemove:e})=>{const{t:a}=ut(),[l,c]=Y.useState(!1),[d,g]=Y.useState(100);Y.useEffect(()=>{const y=setInterval(()=>{g(x=>x<=0?(clearInterval(y),0):x-2.5)},100),p=setTimeout(()=>{c(!0);const x=setTimeout(()=>e(n.id),300);return()=>clearTimeout(x)},4e3);return()=>{clearInterval(y),clearTimeout(p)}},[n.id,e]);const v=()=>{c(!0),setTimeout(()=>e(n.id),300)};return m.jsx("div",{className:`relative max-w-sm w-full pointer-events-auto transition-all duration-300 ease-out ${l?"opacity-0 translate-y-2 scale-95":"opacity-100 translate-y-0 scale-100 animate-slide-down"}`,role:"alert","aria-live":"polite","aria-atomic":"true",children:m.jsxs("div",{className:"card shadow-xl border-l-4 border-l-success overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-success-light to-transparent opacity-10"}),m.jsx("div",{className:"relative p-4",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success-dark rounded-xl flex items-center justify-center shadow-success animate-float",children:m.jsx(n.achievement.icon,{className:"w-6 h-6 text-white"})})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(kA,{className:"w-4 h-4 text-success"}),m.jsx("p",{className:"text-body-sm font-semibold text-success",children:a("toastUnlocked")})]}),m.jsx("h4",{className:"text-body font-semibold text-primary mb-1",children:a(n.achievement.nameKey)}),m.jsx("p",{className:"text-body-sm text-secondary",children:"Achievement unlocked!"})]}),m.jsx("button",{onClick:v,className:"flex-shrink-0 p-1 rounded-lg transition-colors duration-200 text-secondary hover:text-primary hover:bg-tertiary group focus:outline-none focus:ring-2 focus:ring-brand focus:ring-offset-2","aria-label":"Dismiss notification",children:m.jsx(RA,{className:"w-4 h-4"})})]})}),m.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-success-light",children:m.jsx("div",{className:"h-full bg-gradient-to-r from-success to-success-dark transition-all duration-100 ease-linear",style:{width:`${d}%`}})}),n.achievement.rarity==="legendary"&&m.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(6)].map((y,p)=>m.jsx("div",{className:"absolute w-1 h-1 bg-warning rounded-full animate-confetti",style:{left:`${20+p*10}%`,animationDelay:`${p*.1}s`,animationDuration:"2s"}},p))})]})})},IA=({toasts:n,setToasts:e})=>{const a=c=>{e(d=>d.filter(g=>g.id!==c))},l=()=>{e([])};return m.jsx("div",{"aria-live":"assertive",className:"fixed inset-0 flex items-start justify-end p-6 pointer-events-none z-50",children:m.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-sm",children:[n.length>1&&m.jsx("div",{className:"pointer-events-auto",children:m.jsx("button",{onClick:l,className:"btn btn-ghost btn-sm ml-auto block text-xs",children:"Clear All"})}),n.map(c=>m.jsx(DA,{toast:c,onRemove:a},c.id))]})})},ru=document.createElement("style");ru.textContent=`
  @keyframes confetti {
    0% {
      transform: translateY(0) rotateZ(0deg) scale(1);
      opacity: 1;
    }
    100% {
      transform: translateY(-100px) rotateZ(720deg) scale(0);
      opacity: 0;
    }
  }
  
  @keyframes float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-4px);
    }
  }
  
  .animate-confetti {
    animation: confetti 2s ease-out forwards;
  }
  
  .animate-float {
    animation: float 2s ease-in-out infinite;
  }
`;document.head.querySelector("#toast-animations")||(ru.id="toast-animations",document.head.appendChild(ru));const Yi=({className:n="w-4 h-4",delay:e=0})=>m.jsx("svg",{className:`${n} animate-ping`,style:{animationDelay:`${e}ms`},fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),LA=({color:n,delay:e,duration:a})=>m.jsx("div",{className:`absolute w-2 h-2 ${n} rounded-full animate-bounce opacity-0`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${e}ms`,animationDuration:`${a}ms`,animationFillMode:"forwards",animationName:"confetti"}}),UA=({achievement:n,onComplete:e})=>{const[a,l]=Y.useState(!0),[c,d]=Y.useState(!0);Y.useEffect(()=>{const y=setTimeout(()=>{l(!1),setTimeout(e,300)},4e3),p=setTimeout(()=>{d(!1)},2e3);return()=>{clearTimeout(y),clearTimeout(p)}},[e]);const v=(y=>{switch(y){case"legendary":return{bgGradient:"from-yellow-400 via-yellow-500 to-yellow-600",borderColor:"border-yellow-400",textColor:"text-yellow-900",shadowColor:"shadow-yellow-400",emoji:"👑",title:"LEGENDARY ACHIEVEMENT!"};case"rare":return{bgGradient:"from-purple-400 via-purple-500 to-purple-600",borderColor:"border-purple-400",textColor:"text-purple-900",shadowColor:"shadow-purple-400",emoji:"💎",title:"RARE ACHIEVEMENT!"};case"common":default:return{bgGradient:"from-blue-400 via-blue-500 to-blue-600",borderColor:"border-blue-400",textColor:"text-blue-900",shadowColor:"shadow-blue-400",emoji:"⭐",title:"ACHIEVEMENT UNLOCKED!"}}})(n.rarity);return a?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center animate-fade-in",children:[c&&m.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:50}).map((y,p)=>m.jsx(LA,{color:["bg-yellow-400","bg-blue-400","bg-purple-400","bg-green-400","bg-red-400","bg-pink-400"][p%6],delay:p*50,duration:2e3+Math.random()*1e3},p))}),m.jsxs("div",{className:"relative max-w-md w-full mx-4 animate-bounce-in",onClick:()=>{l(!1),setTimeout(e,300)},children:[m.jsxs("div",{className:"absolute -inset-4",children:[m.jsx(Yi,{className:"absolute top-0 left-0 w-6 h-6 text-yellow-400",delay:0}),m.jsx(Yi,{className:"absolute top-0 right-0 w-4 h-4 text-blue-400",delay:200}),m.jsx(Yi,{className:"absolute bottom-0 left-0 w-5 h-5 text-purple-400",delay:400}),m.jsx(Yi,{className:"absolute bottom-0 right-0 w-6 h-6 text-green-400",delay:600}),m.jsx(Yi,{className:"absolute top-1/2 left-0 w-3 h-3 text-pink-400",delay:300}),m.jsx(Yi,{className:"absolute top-1/2 right-0 w-4 h-4 text-orange-400",delay:500})]}),m.jsxs("div",{className:`
            bg-gradient-to-br ${v.bgGradient} 
            border-4 ${v.borderColor} 
            rounded-3xl shadow-2xl ${v.shadowColor}
            p-8 text-center relative overflow-hidden
          `,children:[m.jsxs("div",{className:"absolute inset-0 opacity-20",children:[m.jsx("div",{className:"absolute inset-0 bg-white/10 transform rotate-45 scale-150"}),m.jsx("div",{className:"absolute inset-0 bg-white/5 transform -rotate-45 scale-150"})]}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"text-xl font-bold text-white mb-4 animate-pulse-soft",children:[v.emoji," ",v.title]}),m.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-white/20 rounded-full flex items-center justify-center animate-float",children:m.jsx(n.icon,{className:"w-16 h-16 text-white"})}),m.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:n.nameKey.replace(/_/g," ").toUpperCase()}),m.jsx("p",{className:"text-white/90 text-sm mb-6 leading-relaxed",children:n.descriptionKey.replace(/_/g," ")}),m.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm rounded-full px-4 py-2 mb-4",children:[m.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),m.jsx("span",{className:"text-white text-sm font-semibold uppercase tracking-wide",children:n.rarity}),m.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})]}),m.jsx("div",{className:"text-white/70 text-xs animate-pulse-soft",children:"Tap anywhere to continue"})]}),m.jsx("div",{className:"absolute inset-0 rounded-3xl border-4 border-white/30 animate-ping"})]})]})]}),m.jsx("style",{jsx:!0,children:`
        @keyframes confetti {
          0% {
            opacity: 0;
            transform: translateY(-100vh) rotate(0deg);
          }
          10% {
            opacity: 1;
          }
          90% {
            opacity: 1;
          }
          100% {
            opacity: 0;
            transform: translateY(100vh) rotate(720deg);
          }
        }
      `})]}):null},VA=()=>{const[n,e]=Y.useState(null);return{currentCelebration:n,celebrate:c=>{e(c)},clearCelebration:()=>{e(null)}}},BA=({count:n=20,theme:e="safety"})=>{const[a,l]=Y.useState([]),c=d=>{switch(d){case"achievement":return{colors:["#FFD700","#FFA500","#FF6B6B","#4ECDC4"],symbols:["⭐","✨","🏆","💎"],speed:[.5,1.5]};case"training":return{colors:["#9013FE","#FF8687","#ECD6FF","#FFD7D7"],symbols:["🎯","📚","🧠","⚡"],speed:[.3,1]};case"safety":default:return{colors:["#9013FE","#FF8687","#6366F1","#10B981"],symbols:["🛡️","🚨","💪","🌟"],speed:[.2,.8]}}};return Y.useEffect(()=>{const d=c(e),g=x=>({id:x,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:Math.random()*20+10,opacity:Math.random()*.3+.1,speed:Math.random()*(d.speed[1]-d.speed[0])+d.speed[0],color:d.colors[Math.floor(Math.random()*d.colors.length)],direction:Math.random()*Math.PI*2}),v=Array.from({length:n},(x,C)=>g(C));l(v);let y;const p=()=>{l(x=>x.map(C=>{let b=C.x+Math.cos(C.direction)*C.speed,M=C.y+Math.sin(C.direction)*C.speed;return b>window.innerWidth+50&&(b=-50),b<-50&&(b=window.innerWidth+50),M>window.innerHeight+50&&(M=-50),M<-50&&(M=window.innerHeight+50),{...C,x:b,y:M,direction:C.direction+(Math.random()-.5)*.02}})),y=requestAnimationFrame(p)};return p(),()=>{y&&cancelAnimationFrame(y)}},[n,e]),m.jsx("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:a.map(d=>m.jsx("div",{className:"absolute transition-all duration-1000 ease-linear",style:{left:`${d.x}px`,top:`${d.y}px`,width:`${d.size}px`,height:`${d.size}px`,opacity:d.opacity,color:d.color,fontSize:`${d.size}px`,transform:`rotate(${d.direction}rad)`},children:m.jsx("div",{className:"animate-pulse-soft",children:e==="achievement"?"✨":e==="training"?"⚡":"🌟"})},d.id))})},Xh=({className:n="w-6 h-6"})=>m.jsx("svg",{className:`${n} transition-all duration-300 group-hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),uu=({className:n="w-6 h-6"})=>m.jsx("svg",{className:`${n} transition-all duration-300 group-hover:rotate-90`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),zA=({className:n="w-6 h-6"})=>m.jsx("svg",{className:`${n} transition-all duration-300 group-hover:rotate-12`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Bp=({className:n="w-5 h-5"})=>m.jsx("svg",{className:`${n} transition-all duration-300 group-hover:translate-x-2`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),zp=({className:n="w-6 h-6"})=>m.jsx("svg",{className:`${n} animate-pulse-soft`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),$h=({onSelect:n,onBack:e,timerDuration:a,onTimerChange:l})=>{const{t:c}=ut(),d=[null,15,20,30];return m.jsx("div",{className:"container pt-4 pb-12 animate-fade-in",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-4 animate-slide-down",children:[m.jsx("h2",{className:"text-heading-1 font-display mb-3 text-gradient-brand",children:c("chooseScenarioTitle")}),m.jsx("p",{className:"text-body-lg text-secondary max-w-3xl mx-auto leading-relaxed",children:c("chooseScenarioSubtitle")})]}),m.jsx("div",{className:"max-w-2xl mx-auto mb-8 animate-scale-in",style:{animationDelay:"0.2s"},children:m.jsxs("div",{className:"card card-elevated p-6",children:[m.jsxs("h3",{className:"text-heading-3 font-display mb-4 flex items-center justify-center gap-2",children:[m.jsx(zA,{className:"w-5 h-5 text-brand"}),c("timerSettingsTitle")]}),m.jsx("div",{className:"grid grid-cols-4 gap-3",children:d.map(g=>m.jsx("button",{onClick:()=>l(g),className:`btn transition-all duration-300 ${a===g?"btn-primary shadow-brand scale-105":"btn-secondary hover:scale-105"}`,children:g===null?m.jsxs("span",{className:"flex items-center gap-1",children:["∞ ",m.jsx("span",{className:"text-xs",children:c("noTimer")})]}):m.jsxs("span",{className:"flex items-center gap-1",children:["⚡ ",m.jsxs("span",{children:[g,"s"]})]})},g??"none"))})]})}),m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:ip.map((g,v)=>m.jsx("div",{onClick:()=>n(g),className:"card card-interactive p-6 group animate-slide-up hover:shadow-2xl",style:{animationDelay:`${.4+v*.1}s`},children:m.jsxs("div",{className:"flex items-start gap-6",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-brand rounded-2xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:m.jsx(g.icon,{className:"w-8 h-8 text-white"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-heading-3 font-display mb-3 group-hover:text-brand transition-colors",children:c(`${g.key}_title`)}),m.jsx("p",{className:"text-body-sm text-secondary mb-4 leading-relaxed",children:c(`${g.key}_description`)}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-3 h-3 bg-success rounded-full animate-pulse-soft"}),m.jsx("span",{className:"text-body-sm text-success font-medium",children:"Ready for Training"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-brand font-semibold group-hover:gap-4 transition-all duration-300",children:[m.jsx("span",{children:c("startTrainingLink")}),m.jsx(Bp,{className:"w-5 h-5"})]})]})]})]})},g.key))}),m.jsx("div",{className:"text-center animate-slide-up",style:{animationDelay:"1s"},children:m.jsxs("button",{onClick:e,className:"btn btn-secondary btn-lg group",children:["← ",c("backToDashboard")]})})]})})},GA=({scenario:n,category:e,safetyScore:a,questionCount:l,timerDuration:c,onAnswer:d,onNextQuestion:g,onEndGame:v})=>{const[y,p]=Y.useState(null),[x,C]=Y.useState(!1),[b,M]=Y.useState(!1),[D,k]=Y.useState(c??15),[H,F]=Y.useState(0),{t:z,unlockAchievement:J}=ut(),K=z(`${e.key}_title`),{questionData:V}=n,Z=y===V.correctChoiceIndex,ne=Y.useCallback(ie=>{if(x)return;p(ie),C(!0);const Q=ie===V.correctChoiceIndex;Q?(F(Re=>Re+1),c&&D>10&&J("quick_thinker")):F(0),d(Q,ie,D,c)},[x,d,D,V,c,J]);Y.useEffect(()=>{if(!c||x)return;if(D<=0){let Q=V.choices.findIndex((Re,qe)=>qe!==V.correctChoiceIndex);Q===-1&&(Q=0),ne(Q);return}const ie=setInterval(()=>{k(Q=>Q-1)},1e3);return()=>clearInterval(ie)},[D,x,V,ne,c]);const de=async()=>{if(y===null)return;M(!0);const ie=`${z("context_previousQuestion")} "${V.question}". ${z("context_myChoice")} "${V.choices[y]}". ${z(Z?"context_correct":"context_incorrect")}. ${z("context_feedback")} "${V.feedback[y]}".`;await g(ie),p(null),C(!1),M(!1),k(c??15)},W=()=>a>=80?"bg-gradient-to-r from-success to-success-dark":a>=60?"bg-gradient-to-r from-warning to-warning-dark":"bg-gradient-to-r from-error to-error-dark",ce=()=>D>10?"text-success":D>5?"text-warning":"text-error animate-pulse";return m.jsxs("div",{className:"container pt-2 pb-12 animate-fade-in max-w-4xl mx-auto",children:[m.jsx("div",{className:"card card-elevated p-8 mb-8 animate-slide-down",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-center",children:[m.jsxs("div",{className:"text-center lg:text-left",children:[m.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-4 mb-4",children:[m.jsxs("div",{className:"text-heading-1 font-display text-brand",children:[a,"%"]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-body-sm text-secondary",children:z("safetyScoreLabel")}),H>0&&m.jsxs("div",{className:"badge badge-warning animate-pulse-soft",children:["🔥 ",H," streak"]})]})]}),m.jsx("div",{className:"w-full max-w-xs mx-auto lg:mx-0",children:m.jsx("div",{className:"progress progress-lg",children:m.jsx("div",{className:`progress-bar ${W()}`,style:{width:`${a}%`}})})})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-heading-1 font-display text-gradient-brand mb-2",children:K}),m.jsxs("p",{className:"text-body text-secondary flex items-center justify-center gap-2",children:[m.jsx(zp,{className:"w-4 h-4"}),z("questionCountLabel")," #",l]})]}),c&&m.jsxs("div",{className:"text-center lg:text-right",children:[m.jsx("div",{className:`text-6xl font-display ${ce()}`,children:D}),m.jsx("div",{className:"text-caption text-secondary",children:z("timerLabel")})]})]})}),m.jsx("div",{className:"card mb-8 overflow-hidden group animate-scale-in",children:m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:n.imageUrl,alt:"Scenario",className:"w-full h-80 lg:h-96 object-cover group-hover:scale-105 transition-transform duration-700"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-black/20"}),m.jsx("div",{className:"absolute top-6 right-6",children:m.jsxs("div",{className:"badge badge-brand backdrop-blur-sm",children:["Q",l]})})]})}),m.jsxs("div",{className:"card p-6 animate-slide-up",children:[m.jsxs("div",{className:"text-center mb-10",children:[m.jsx("h3",{className:"text-heading-1 font-display mb-6 leading-tight",children:V.question}),!x&&m.jsx("p",{className:"text-body-lg text-secondary",children:"Choose the best course of action:"})]}),m.jsx("div",{className:"space-y-4 mb-8",children:V.choices.map((ie,Q)=>{let Re="w-full p-6 text-left border-2 rounded-2xl transition-all duration-300 group";return x?Q===V.correctChoiceIndex?Re+=" border-success bg-success-light text-success-dark scale-105":Q===y&&!Z?Re+=" border-error bg-error-light text-error-dark":Re+=" border-light opacity-60":Re+=" border-light hover:border-brand hover:bg-brand-primary-light hover:scale-105 cursor-pointer",m.jsx("button",{disabled:x,onClick:()=>ne(Q),className:Re,children:m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-bold text-lg transition-all ${x&&Q===V.correctChoiceIndex?"bg-success text-white":x&&Q===y&&!Z?"bg-error text-white":"bg-tertiary group-hover:bg-brand group-hover:text-white"}`,children:String.fromCharCode(65+Q)}),m.jsx("span",{className:"flex-1 text-body-lg",children:ie}),x&&Q===V.correctChoiceIndex&&m.jsx(Xh,{className:"w-6 h-6 text-success animate-bounce-in"}),x&&Q===y&&!Z&&m.jsx(uu,{className:"w-6 h-6 text-error animate-bounce-in"})]})},Q)})}),x&&y!==null&&m.jsxs("div",{className:"animate-scale-in",children:[m.jsxs("div",{className:`card p-8 mb-8 ${Z?"toast-success":"toast-error"}`,children:[m.jsx("div",{className:"text-center mb-6",children:m.jsx("div",{className:`inline-flex items-center gap-4 px-8 py-4 rounded-2xl font-bold text-xl ${Z?"bg-success text-white":"bg-error text-white"}`,children:Z?m.jsxs(m.Fragment,{children:[m.jsx(Xh,{className:"w-6 h-6"}),m.jsx("span",{children:z("feedbackCorrect")})]}):m.jsxs(m.Fragment,{children:[m.jsx(uu,{className:"w-6 h-6"}),m.jsx("span",{children:z("feedbackIncorrect")})]})})}),m.jsx("div",{className:"card p-6 mb-8",children:m.jsx("p",{className:"text-body-lg leading-relaxed text-center",children:V.feedback[y]})})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[m.jsxs("button",{onClick:v,className:"btn btn-secondary btn-lg group",children:["🏁 ",z("endButton")]}),m.jsx("button",{onClick:de,disabled:b,className:"btn btn-primary btn-lg group",children:b?m.jsxs(m.Fragment,{children:[m.jsx(Ml,{}),"Loading..."]}):m.jsxs(m.Fragment,{children:[z("nextButton"),m.jsx(Bp,{className:"w-5 h-5"})]})})]})]})]})]})},PA=({summary:n,safetyScore:e,xpEarned:a,baseXp:l,bonusXp:c,leveledUp:d,onRestart:g,onBackToScenarios:v})=>{const{t:y,unlockAchievement:p,level:x}=ut();Y.useEffect(()=>{p("first_game"),e===100&&p("perfect_score"),x>=5&&p("level_5")},[e,x,p]);const C=()=>e>=90?{grade:"A+",color:"text-brand",bgColor:"bg-brand-primary-light"}:e>=80?{grade:"A",color:"text-success",bgColor:"bg-success-light"}:e>=70?{grade:"B",color:"text-info",bgColor:"bg-info-light"}:e>=60?{grade:"C",color:"text-warning",bgColor:"bg-warning-light"}:{grade:"D",color:"text-error",bgColor:"bg-error-light"},{grade:b,color:M,bgColor:D}=C();return m.jsx("div",{className:"container section animate-fade-in",children:m.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d&&m.jsxs("div",{className:"card toast-success p-8 mb-8 animate-bounce-in",children:[m.jsxs("h3",{className:"text-heading-1 font-display mb-4",children:["🎉 ",y("levelUp")]}),m.jsxs("p",{className:"text-body-lg",children:["Congratulations! You've reached Level ",x,"!"]})]}),m.jsxs("div",{className:"card card-elevated p-12 mb-8 animate-scale-in",children:[m.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-12 mb-8",children:[m.jsx("div",{className:`w-32 h-32 ${D} rounded-full flex items-center justify-center animate-float`,children:m.jsx("span",{className:`text-6xl font-display ${M}`,children:b})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-display-2 font-display mb-4",children:e>60?y("gameOverComplete"):y("gameOverFailed")}),m.jsx("p",{className:"text-body-xl text-secondary",children:y("finalScoreLabel")})]})]}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:`text-9xl font-display ${M} text-gradient-brand animate-pulse-soft`,children:e}),m.jsx("span",{className:"text-4xl text-secondary",children:"%"})]})]}),a>0&&m.jsxs("div",{className:"card p-8 mb-8 animate-slide-up",children:[m.jsxs("h3",{className:"text-heading-2 font-display mb-8 flex items-center justify-center gap-3",children:[m.jsx(zp,{className:"w-6 h-6 text-brand"}),y("xpEarned")]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"text-4xl font-display text-info mb-2",children:["+",l]}),m.jsx("div",{className:"text-body text-secondary",children:y("baseXp")})]}),c>0&&m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"text-4xl font-display text-success mb-2",children:["+",c]}),m.jsx("div",{className:"text-body text-secondary",children:y("bonusXp")})]}),m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"text-5xl font-display text-brand mb-2",children:["+",a]}),m.jsx("div",{className:"text-body text-brand font-semibold",children:y("totalXpEarned")})]})]})]}),m.jsxs("div",{className:"card p-8 mb-8 animate-slide-up",style:{animationDelay:"0.2s"},children:[m.jsx("h3",{className:"text-heading-2 font-display mb-6",children:y("performanceAnalysisTitle")}),m.jsx("div",{className:"card p-6",children:m.jsx("p",{className:"text-body leading-relaxed text-left whitespace-pre-wrap",children:n||y("noSummary")})})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center animate-slide-up",style:{animationDelay:"0.4s"},children:[m.jsxs("button",{onClick:g,className:"btn btn-primary btn-xl group",children:["🔄 ",y("tryAgainButton")]}),m.jsxs("button",{onClick:v,className:"btn btn-secondary btn-xl group",children:["🎯 ",y("newScenarioButton")]})]})]})})},qA=({message:n})=>m.jsx("div",{className:"container section text-center animate-fade-in",children:m.jsxs("div",{className:"max-w-md mx-auto",children:[m.jsx("div",{className:"w-24 h-24 mx-auto mb-8 animate-float",children:m.jsx(Ml,{size:"xl"})}),m.jsx("h3",{className:"text-heading-2 font-display text-brand mb-4",children:"Loading..."}),m.jsx("p",{className:"text-body-lg text-secondary animate-pulse-soft",children:n})]})}),Qh=({message:n,onRetry:e})=>{const{t:a}=ut();return m.jsx("div",{className:"container section text-center animate-fade-in",children:m.jsx("div",{className:"max-w-md mx-auto",children:m.jsxs("div",{className:"card toast-error p-8",children:[m.jsx("div",{className:"w-20 h-20 bg-error-light rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse-soft",children:m.jsx(uu,{className:"w-10 h-10 text-error"})}),m.jsx("h2",{className:"text-heading-2 font-display text-error mb-4",children:a("errorTitle")}),m.jsx("p",{className:"text-body text-secondary mb-8 leading-relaxed",children:n}),m.jsxs("button",{onClick:e,className:"btn btn-primary btn-lg group",children:["🔄 ",a("tryAgainButton")]})]})})})},HA=({onSelect:n})=>m.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4 animate-fade-in",children:m.jsxs("div",{className:"max-w-2xl w-full text-center",children:[m.jsxs("div",{className:"mb-12",children:[m.jsx("h1",{className:"text-display-1 font-display text-gradient-rainbow mb-6",children:"Select Your Language"}),m.jsx("p",{className:"text-body-xl text-secondary",children:"Choose your preferred language to begin your safety training journey."})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:Object.keys(Vn).map((e,a)=>m.jsx("button",{onClick:()=>n(e),className:"card card-interactive p-8 text-center hover:shadow-brand animate-scale-in group",style:{animationDelay:`${a*.1}s`},children:m.jsx("div",{className:"text-heading-2 font-display group-hover:text-brand transition-colors",children:Vn[e]})},e))})]})}),FA=()=>{const[n,e]=Y.useState(gt.CATEGORY_SELECTION),[a,l]=Y.useState(null),[c,d]=Y.useState(null),[g,v]=Y.useState(""),[y,p]=Y.useState(null),[x,C]=Y.useState(100),[b,M]=Y.useState(1),[D,k]=Y.useState([]),[H,F]=Y.useState(""),[z,J]=Y.useState(15),{t:K,level:V,currentXp:Z,setLevel:ne,setCurrentXp:de,xpToNextLevel:W,setView:ce,unlockAchievement:ie,location:Q}=ut(),[Re,qe]=Y.useState(0),[Se,L]=Y.useState(0),[O,ee]=Y.useState(0),[be,E]=Y.useState(!1),q=Y.useCallback(()=>{l(null),d(null),k([]),M(1),C(100),F(""),qe(0),ee(0),L(0),E(!1)},[]),X=async Be=>{d(Be),e(gt.LOADING),v(K("loadingMission")),p(null);try{const et=`A realistic, high-resolution photo of a scene for a "${K(`${Be.key}_title`)}" scenario in ${Q||"Nigeria"}. Cinematic, detailed, photorealistic.`,tt=await BE(K(`${Be.key}_title`),K("systemInstruction"),Q||"Nigeria");if(!tt)throw new Error(K("errorMissingScenario"));const Mt=await qE(et,Be.key);l({imageUrl:Mt,questionData:tt}),e(gt.GAME)}catch(et){console.error("Error starting game:",et),p(et.message||K("errorUnknown")),e(gt.ERROR)}},j=(Be,et,tt,Mt)=>{C(Ue=>Math.max(0,Math.min(100,Ue+(Be?5:-20))));const ai=Be&&Mt&&tt>Mt/2?15:0;if(ee(Ue=>Ue+ai),a){const Ue={question:a.questionData.question,userChoice:a.questionData.choices[et],correctChoice:a.questionData.choices[a.questionData.correctChoiceIndex],isCorrect:Be};k(zt=>[...zt,Ue])}},oe=async Be=>{if(!(!c||!a))try{const et=await zE(K(`${c.key}_title`),K("systemInstruction"),Be,Q||"Nigeria");l(tt=>tt?{...tt,questionData:et}:null),M(tt=>tt+1)}catch(et){console.error(et),p(K("errorNextQuestion")),e(gt.ERROR)}},ve=async()=>{e(gt.LOADING),v(K("loadingSummary"));const et=20*D.filter(Ue=>Ue.isCorrect).length,tt=et+O;L(et),qe(tt);const Mt=Z+tt;if(Mt>=W){const Ue=V+1;ne(Ue),de(Mt-W),E(!0)}else de(Mt);try{const Ue=`${K("summaryPrompt_start")} ${c?K(`${c.key}_title`):""}. ${K("summaryPrompt_middle")} ${JSON.stringify(D)}`,zt=await GE(Ue);F(zt)}catch(Ue){F(K("noSummaryError")),console.error(Ue)}if(x>70&&c){const Ue=c.key;Ue==="urbanFire"&&ie("fire_fighter"),Ue==="floodResponse"&&ie("flood_expert");const zt=JSON.parse(localStorage.getItem("prepzone_performance")||"{}");zt[Ue]||(zt[Ue]={total:0,correct:0}),zt[Ue].total+=1,x===100&&(zt[Ue].correct+=1),localStorage.setItem("prepzone_performance",JSON.stringify(zt))}e(gt.GAME_OVER)},ue=()=>{const Be=c;q(),Be&&X(Be)},We=()=>{q(),e(gt.CATEGORY_SELECTION)},De=()=>{switch(n){case gt.CATEGORY_SELECTION:return m.jsx($h,{onSelect:X,onBack:()=>ce("dashboard"),timerDuration:z,onTimerChange:J});case gt.LOADING:return m.jsx(qA,{message:g});case gt.GAME:return!a||!c?m.jsx(Qh,{message:K("errorMissingScenario"),onRetry:We}):m.jsx(GA,{scenario:a,category:c,safetyScore:x,questionCount:b,timerDuration:z,onAnswer:j,onNextQuestion:oe,onEndGame:ve});case gt.GAME_OVER:return m.jsx(PA,{summary:H,safetyScore:x,xpEarned:Re,baseXp:Se,bonusXp:O,leveledUp:be,onRestart:ue,onBackToScenarios:We});case gt.ERROR:return m.jsx(Qh,{message:y||K("errorUnknown"),onRetry:We});default:return m.jsx($h,{onSelect:X,onBack:()=>ce("dashboard"),timerDuration:z,onTimerChange:J})}};return m.jsx("div",{className:"animate-fade-in",children:De()})},OA=()=>{const{view:n}=ut(),e=()=>{switch(n){case"dashboard":return m.jsx(Yh,{});case"game":return m.jsx(FA,{});case"comms":return m.jsx(TA,{});case"achievements":return m.jsx(NA,{});default:return m.jsx(Yh,{})}};return m.jsxs("div",{className:"min-h-screen bg-primary",children:[m.jsx(fA,{}),m.jsx("main",{className:"animate-fade-in",children:e()})]})},YA=()=>{const[n,e]=Y.useState(()=>!!localStorage.getItem("prepzone_lang")),[a,l]=Y.useState(()=>localStorage.getItem("prepzone_lang")||"en"),[c,d]=Y.useState(()=>parseInt(localStorage.getItem("prepzone_level")||"1",10)),[g,v]=Y.useState(()=>parseInt(localStorage.getItem("prepzone_xp")||"0",10)),[y,p]=Y.useState("dashboard"),[x,C]=Y.useState(()=>localStorage.getItem("prepzone_location")),[b,M]=Y.useState(()=>JSON.parse(localStorage.getItem("prepzone_achievements")||"[]")),[D,k]=Y.useState([]),[H,F]=Y.useState(()=>LE()),{currentCelebration:z,celebrate:J,clearCelebration:K}=VA();Y.useEffect(()=>{localStorage.setItem("prepzone_lang",a)},[a]),Y.useEffect(()=>{localStorage.setItem("prepzone_level",c.toString())},[c]),Y.useEffect(()=>{localStorage.setItem("prepzone_xp",g.toString())},[g]),Y.useEffect(()=>{x?localStorage.setItem("prepzone_location",x):localStorage.removeItem("prepzone_location")},[x]),Y.useEffect(()=>{localStorage.setItem("prepzone_achievements",JSON.stringify(b))},[b]);const V=Math.floor(100*Math.pow(1.5,c-1)),Z=Y.useCallback(L=>{var O,ee;return((O=Sm[a])==null?void 0:O[L])||((ee=Sm.en)==null?void 0:ee[L])||L},[a]),ne=()=>{const L=Object.keys(Vn),ee=(L.indexOf(a)+1)%L.length;l(L[ee])},de=L=>{l(L)},W=L=>{k(O=>[...O,{id:Date.now(),achievement:L}])},ce=L=>{if(!b.includes(L)){M(ee=>[...ee,L]);const O=ti.find(ee=>ee.id===L);O&&(W(O),J(O),eA("achievement-unlocked"))}},ie=()=>{const L=localStorage.getItem("prepzone_performance");return L?JSON.parse(L):{}},Q=L=>{l(L),e(!0)},Re=L=>{try{IE(L)&&F(!0)}catch(O){alert(O.message||"Invalid API key. Please check your key and try again.")}},qe=()=>{C(null)};if(!n)return m.jsx(HA,{onSelect:Q});if(!H)return m.jsx(jE,{setApiKey:Re});const Se={language:a,t:Z,changeLanguage:ne,selectLanguage:de,level:c,currentXp:g,xpToNextLevel:V,setLevel:d,setCurrentXp:v,view:y,setView:p,location:x,setLocation:C,unlockedAchievements:b,unlockAchievement:ce,addToast:W,getPerformanceStats:ie,changeUserLocation:qe};return m.jsx(Wh.Provider,{value:Se,children:m.jsxs(WE,{children:[m.jsx(BA,{count:15,theme:"safety"}),m.jsx(IA,{toasts:D,setToasts:k}),m.jsx(OA,{}),z&&m.jsx(UA,{achievement:z,onComplete:K})]})})},Gp=document.getElementById("root");if(!Gp)throw new Error("Could not find root element to mount to");const JA=yy.createRoot(Gp);JA.render(m.jsx(ye.StrictMode,{children:m.jsx(YA,{})}));
